function ok(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function lk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ox={exports:{}},_d={},Mx={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),uk=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),dk=Symbol.for("react.strict_mode"),hk=Symbol.for("react.profiler"),fk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),pk=Symbol.for("react.forward_ref"),gk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),vk=Symbol.for("react.lazy"),xv=Symbol.iterator;function _k(t){return t===null||typeof t!="object"?null:(t=xv&&t[xv]||t["@@iterator"],typeof t=="function"?t:null)}var Vx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lx=Object.assign,Ux={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=Ux,this.updater=n||Vx}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fx(){}Fx.prototype=Aa.prototype;function dp(t,e,n){this.props=t,this.context=e,this.refs=Ux,this.updater=n||Vx}var hp=dp.prototype=new Fx;hp.constructor=dp;Lx(hp,Aa.prototype);hp.isPureReactComponent=!0;var wv=Array.isArray,zx=Object.prototype.hasOwnProperty,fp={current:null},$x={key:!0,ref:!0,__self:!0,__source:!0};function Bx(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)zx.call(e,r)&&!$x.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Fl,type:t,key:i,ref:a,props:s,_owner:fp.current}}function xk(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function wk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ev=/\/+/g;function Ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wk(""+t.key):e.toString(36)}function Gu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Fl:case uk:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ph(a,0):r,wv(s)?(n="",t!=null&&(n=t.replace(Ev,"$&/")+"/"),Gu(s,e,n,"",function(d){return d})):s!=null&&(mp(s)&&(s=xk(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ev,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",wv(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+Ph(i,o);a+=Gu(i,e,n,c,s)}else if(c=_k(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+Ph(i,o++),a+=Gu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xu(t,e,n){if(t==null)return t;var r=[],s=0;return Gu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ek(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Qu={transition:null},Tk={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Qu,ReactCurrentOwner:fp};function qx(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:xu,forEach:function(t,e,n){xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Aa;be.Fragment=ck;be.Profiler=hk;be.PureComponent=dp;be.StrictMode=dk;be.Suspense=gk;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;be.act=qx;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lx({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=fp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)zx.call(e,c)&&!$x.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Fl,type:t.type,key:s,ref:i,props:r,_owner:a}};be.createContext=function(t){return t={$$typeof:mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fk,_context:t},t.Consumer=t};be.createElement=Bx;be.createFactory=function(t){var e=Bx.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:pk,render:t}};be.isValidElement=mp;be.lazy=function(t){return{$$typeof:vk,_payload:{_status:-1,_result:t},_init:Ek}};be.memo=function(t,e){return{$$typeof:yk,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Qu.transition;Qu.transition={};try{t()}finally{Qu.transition=e}};be.unstable_act=qx;be.useCallback=function(t,e){return en.current.useCallback(t,e)};be.useContext=function(t){return en.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return en.current.useDeferredValue(t)};be.useEffect=function(t,e){return en.current.useEffect(t,e)};be.useId=function(){return en.current.useId()};be.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return en.current.useMemo(t,e)};be.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};be.useRef=function(t){return en.current.useRef(t)};be.useState=function(t){return en.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return en.current.useTransition()};be.version="18.3.1";Mx.exports=be;var j=Mx.exports;const $=lk(j),Sk=ok({__proto__:null,default:$},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=j,kk=Symbol.for("react.element"),Ik=Symbol.for("react.fragment"),Nk=Object.prototype.hasOwnProperty,Ck=bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ak={key:!0,ref:!0,__self:!0,__source:!0};function Wx(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Nk.call(e,r)&&!Ak.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:kk,type:t,key:i,ref:a,props:s,_owner:Ck.current}}_d.Fragment=Ik;_d.jsx=Wx;_d.jsxs=Wx;Ox.exports=_d;var u=Ox.exports,Hx={exports:{}},Tn={},Kx={exports:{}},Gx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ue){var oe=K.length;K.push(ue);e:for(;0<oe;){var Ne=oe-1>>>1,we=K[Ne];if(0<s(we,ue))K[Ne]=ue,K[oe]=we,oe=Ne;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ue=K[0],oe=K.pop();if(oe!==ue){K[0]=oe;e:for(var Ne=0,we=K.length,Be=we>>>1;Ne<Be;){var qt=2*(Ne+1)-1,Ct=K[qt],At=qt+1,Wt=K[At];if(0>s(Ct,oe))At<we&&0>s(Wt,Ct)?(K[Ne]=Wt,K[At]=oe,Ne=At):(K[Ne]=Ct,K[qt]=oe,Ne=qt);else if(At<we&&0>s(Wt,oe))K[Ne]=Wt,K[At]=oe,Ne=At;else break e}}return ue}function s(K,ue){var oe=K.sortIndex-ue.sortIndex;return oe!==0?oe:K.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],f=1,m=null,p=3,y=!1,E=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=K)r(d),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(d)}}function D(K){if(N=!1,I(K),!E)if(n(c)!==null)E=!0,Ve(U);else{var ue=n(d);ue!==null&&$e(D,ue.startTime-K)}}function U(K,ue){E=!1,N&&(N=!1,w(v),v=-1),y=!0;var oe=p;try{for(I(ue),m=n(c);m!==null&&(!(m.expirationTime>ue)||K&&!P());){var Ne=m.callback;if(typeof Ne=="function"){m.callback=null,p=m.priorityLevel;var we=Ne(m.expirationTime<=ue);ue=t.unstable_now(),typeof we=="function"?m.callback=we:m===n(c)&&r(c),I(ue)}else r(c);m=n(c)}if(m!==null)var Be=!0;else{var qt=n(d);qt!==null&&$e(D,qt.startTime-ue),Be=!1}return Be}finally{m=null,p=oe,y=!1}}var z=!1,T=null,v=-1,S=5,k=-1;function P(){return!(t.unstable_now()-k<S)}function R(){if(T!==null){var K=t.unstable_now();k=K;var ue=!0;try{ue=T(!0,K)}finally{ue?b():(z=!1,T=null)}}else z=!1}var b;if(typeof _=="function")b=function(){_(R)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,xe=fe.port2;fe.port1.onmessage=R,b=function(){xe.postMessage(null)}}else b=function(){A(R,0)};function Ve(K){T=K,z||(z=!0,b())}function $e(K,ue){v=A(function(){K(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,Ve(U))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var oe=p;p=ue;try{return K()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=p;p=K;try{return ue()}finally{p=oe}},t.unstable_scheduleCallback=function(K,ue,oe){var Ne=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ne+oe:Ne):oe=Ne,K){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=oe+we,K={id:f++,callback:ue,priorityLevel:K,startTime:oe,expirationTime:we,sortIndex:-1},oe>Ne?(K.sortIndex=oe,e(d,K),n(c)===null&&K===n(d)&&(N?(w(v),v=-1):N=!0,$e(D,oe-Ne))):(K.sortIndex=we,e(c,K),E||y||(E=!0,Ve(U))),K},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(K){var ue=p;return function(){var oe=p;p=ue;try{return K.apply(this,arguments)}finally{p=oe}}}})(Gx);Kx.exports=Gx;var Rk=Kx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=j,En=Rk;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qx=new Set,Ho={};function _i(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(Ho[t]=e,t=0;t<e.length;t++)Qx.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tv={},Sv={};function Dk(t){return Mf.call(Sv,t)?!0:Mf.call(Tv,t)?!1:jk.test(t)?Sv[t]=!0:(Tv[t]=!0,!1)}function Ok(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mk(t,e,n,r){if(e===null||typeof e>"u"||Ok(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function gp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pp,gp);It[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pp,gp);It[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pp,gp);It[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yp(t,e,n,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mk(e,n,s,r)&&(n=null),r||s===null?Dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lr=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Uf=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Xx=Symbol.for("react.offscreen"),bv=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,jh;function yo(t){if(jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jh=e&&e[1]||""}return`
`+jh+t}var Dh=!1;function Oh(t,e){if(!t||Dh)return"";Dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{Dh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function Vk(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case Bi:return"Portal";case Vf:return"Profiler";case vp:return"StrictMode";case Lf:return"Suspense";case Uf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zx:return(t.displayName||"Context")+".Consumer";case Yx:return(t._context.displayName||"Context")+".Provider";case _p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xp:return e=t.displayName||null,e!==null?e:Ff(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Ff(t(e))}catch{}}return null}function Lk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ff(e);case 8:return e===vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uk(t){var e=Jx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eu(t){t._valueTracker||(t._valueTracker=Uk(t))}function ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zf(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tw(t,e){e=e.checked,e!=null&&yp(t,"checked",e,!1)}function $f(t,e){tw(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||yc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vo=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(vo(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function nw(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ko(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fk=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(t){Fk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),No[e]=No[t]})});function iw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||No.hasOwnProperty(t)&&No[t]?(""+e).trim():e+"px"}function aw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=iw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zk=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(zk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=null;function wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qf=null,ra=null,sa=null;function Av(t){if(t=Bl(t)){if(typeof Qf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Sd(e),Qf(t.stateNode,t.type,e))}}function ow(t){ra?sa?sa.push(t):sa=[t]:ra=t}function lw(){if(ra){var t=ra,e=sa;if(sa=ra=null,Av(t),e)for(t=0;t<e.length;t++)Av(e[t])}}function uw(t,e){return t(e)}function cw(){}var Mh=!1;function dw(t,e,n){if(Mh)return t(e,n);Mh=!0;try{return uw(t,e,n)}finally{Mh=!1,(ra!==null||sa!==null)&&(cw(),lw())}}function Go(t,e){var n=t.stateNode;if(n===null)return null;var r=Sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Yf=!1;if(Nr)try{var to={};Object.defineProperty(to,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Yf=!1}function $k(t,e,n,r,s,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Co=!1,vc=null,_c=!1,Zf=null,Bk={onError:function(t){Co=!0,vc=t}};function qk(t,e,n,r,s,i,a,o,c){Co=!1,vc=null,$k.apply(Bk,arguments)}function Wk(t,e,n,r,s,i,a,o,c){if(qk.apply(this,arguments),Co){if(Co){var d=vc;Co=!1,vc=null}else throw Error(q(198));_c||(_c=!0,Zf=d)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rv(t){if(xi(t)!==t)throw Error(q(188))}function Hk(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rv(s),t;if(i===r)return Rv(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function fw(t){return t=Hk(t),t!==null?mw(t):null}function mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mw(t);if(e!==null)return e;t=t.sibling}return null}var pw=En.unstable_scheduleCallback,Pv=En.unstable_cancelCallback,Kk=En.unstable_shouldYield,Gk=En.unstable_requestPaint,lt=En.unstable_now,Qk=En.unstable_getCurrentPriorityLevel,Ep=En.unstable_ImmediatePriority,gw=En.unstable_UserBlockingPriority,xc=En.unstable_NormalPriority,Yk=En.unstable_LowPriority,yw=En.unstable_IdlePriority,xd=null,rr=null;function Zk(t){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(xd,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:eI,Xk=Math.log,Jk=Math.LN2;function eI(t){return t>>>=0,t===0?32:31-(Xk(t)/Jk|0)|0}var Su=64,bu=4194304;function _o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=_o(o):(i&=a,i!==0&&(r=_o(i)))}else a=n&~s,a!==0?r=_o(a):i!==0&&(r=_o(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),s=1<<n,r|=t[n],e&=~s;return r}function tI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Bn(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=tI(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vw(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function Vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function rI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Tp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function _w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xw,Sp,ww,Ew,Tw,Jf=!1,ku=[],is=null,as=null,os=null,Qo=new Map,Yo=new Map,Qr=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(e.pointerId)}}function no(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bl(e),e!==null&&Sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iI(t,e,n,r,s){switch(e){case"focusin":return is=no(is,t,e,n,r,s),!0;case"dragenter":return as=no(as,t,e,n,r,s),!0;case"mouseover":return os=no(os,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qo.set(i,no(Qo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yo.set(i,no(Yo.get(i)||null,t,e,n,r,s)),!0}return!1}function Sw(t){var e=Ws(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=hw(n),e!==null){t.blockedOn=e,Tw(t.priority,function(){ww(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gf=r,n.target.dispatchEvent(r),Gf=null}else return e=Bl(n),e!==null&&Sp(e),t.blockedOn=n,!1;e.shift()}return!0}function Dv(t,e,n){Yu(t)&&n.delete(e)}function aI(){Jf=!1,is!==null&&Yu(is)&&(is=null),as!==null&&Yu(as)&&(as=null),os!==null&&Yu(os)&&(os=null),Qo.forEach(Dv),Yo.forEach(Dv)}function ro(t,e){t.blockedOn===e&&(t.blockedOn=null,Jf||(Jf=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,aI)))}function Zo(t){function e(s){return ro(s,t)}if(0<ku.length){ro(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(is!==null&&ro(is,t),as!==null&&ro(as,t),os!==null&&ro(os,t),Qo.forEach(e),Yo.forEach(e),n=0;n<Qr.length;n++)r=Qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)Sw(n),n.blockedOn===null&&Qr.shift()}var ia=Lr.ReactCurrentBatchConfig,Ec=!0;function oI(t,e,n,r){var s=Fe,i=ia.transition;ia.transition=null;try{Fe=1,bp(t,e,n,r)}finally{Fe=s,ia.transition=i}}function lI(t,e,n,r){var s=Fe,i=ia.transition;ia.transition=null;try{Fe=4,bp(t,e,n,r)}finally{Fe=s,ia.transition=i}}function bp(t,e,n,r){if(Ec){var s=em(t,e,n,r);if(s===null)Kh(t,e,r,Tc,n),jv(t,r);else if(iI(s,t,e,n,r))r.stopPropagation();else if(jv(t,r),e&4&&-1<sI.indexOf(t)){for(;s!==null;){var i=Bl(s);if(i!==null&&xw(i),i=em(t,e,n,r),i===null&&Kh(t,e,r,Tc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kh(t,e,r,null,n)}}var Tc=null;function em(t,e,n,r){if(Tc=null,t=wp(r),t=Ws(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function bw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qk()){case Ep:return 1;case gw:return 4;case xc:case Yk:return 16;case yw:return 536870912;default:return 16}default:return 16}}var Jr=null,kp=null,Zu=null;function kw(){if(Zu)return Zu;var t,e=kp,n=e.length,r,s="value"in Jr?Jr.value:Jr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Zu=s.slice(t,1<r?1-r:void 0)}function Xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Iu(){return!0}function Ov(){return!1}function Sn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Iu:Ov,this.isPropagationStopped=Ov,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Sn(Ra),$l=nt({},Ra,{view:0,detail:0}),uI=Sn($l),Lh,Uh,so,wd=nt({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==so&&(so&&t.type==="mousemove"?(Lh=t.screenX-so.screenX,Uh=t.screenY-so.screenY):Uh=Lh=0,so=t),Lh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),Mv=Sn(wd),cI=nt({},wd,{dataTransfer:0}),dI=Sn(cI),hI=nt({},$l,{relatedTarget:0}),Fh=Sn(hI),fI=nt({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=Sn(fI),pI=nt({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gI=Sn(pI),yI=nt({},Ra,{data:0}),Vv=Sn(yI),vI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xI[t])?!!e[t]:!1}function Np(){return wI}var EI=nt({},$l,{key:function(t){if(t.key){var e=vI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(t){return t.type==="keypress"?Xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TI=Sn(EI),SI=nt({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=Sn(SI),bI=nt({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),kI=Sn(bI),II=nt({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),NI=Sn(II),CI=nt({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AI=Sn(CI),RI=[9,13,27,32],Cp=Nr&&"CompositionEvent"in window,Ao=null;Nr&&"documentMode"in document&&(Ao=document.documentMode);var PI=Nr&&"TextEvent"in window&&!Ao,Iw=Nr&&(!Cp||Ao&&8<Ao&&11>=Ao),Uv=" ",Fv=!1;function Nw(t,e){switch(t){case"keyup":return RI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function jI(t,e){switch(t){case"compositionend":return Cw(e);case"keypress":return e.which!==32?null:(Fv=!0,Uv);case"textInput":return t=e.data,t===Uv&&Fv?null:t;default:return null}}function DI(t,e){if(Wi)return t==="compositionend"||!Cp&&Nw(t,e)?(t=kw(),Zu=kp=Jr=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iw&&e.locale!=="ko"?null:e.data;default:return null}}var OI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OI[t.type]:e==="textarea"}function Aw(t,e,n,r){ow(r),e=Sc(e,"onChange"),0<e.length&&(n=new Ip("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ro=null,Xo=null;function MI(t){zw(t,0)}function Ed(t){var e=Gi(t);if(ew(e))return t}function VI(t,e){if(t==="change")return e}var Rw=!1;if(Nr){var zh;if(Nr){var $h="oninput"in document;if(!$h){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),$h=typeof $v.oninput=="function"}zh=$h}else zh=!1;Rw=zh&&(!document.documentMode||9<document.documentMode)}function Bv(){Ro&&(Ro.detachEvent("onpropertychange",Pw),Xo=Ro=null)}function Pw(t){if(t.propertyName==="value"&&Ed(Xo)){var e=[];Aw(e,Xo,t,wp(t)),dw(MI,e)}}function LI(t,e,n){t==="focusin"?(Bv(),Ro=e,Xo=n,Ro.attachEvent("onpropertychange",Pw)):t==="focusout"&&Bv()}function UI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(Xo)}function FI(t,e){if(t==="click")return Ed(e)}function zI(t,e){if(t==="input"||t==="change")return Ed(e)}function $I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:$I;function Jo(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mf.call(e,s)||!Kn(t[s],e[s]))return!1}return!0}function qv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wv(t,e){var n=qv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qv(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dw(){for(var t=window,e=yc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yc(t.document)}return e}function Ap(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BI(t){var e=Dw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Wv(n,i);var a=Wv(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qI=Nr&&"documentMode"in document&&11>=document.documentMode,Hi=null,tm=null,Po=null,nm=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||Hi==null||Hi!==yc(r)||(r=Hi,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&Jo(Po,r)||(Po=r,r=Sc(tm,"onSelect"),0<r.length&&(e=new Ip("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hi)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ki={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Bh={},Ow={};Nr&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Td(t){if(Bh[t])return Bh[t];if(!Ki[t])return t;var e=Ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ow)return Bh[t]=e[n];return t}var Mw=Td("animationend"),Vw=Td("animationiteration"),Lw=Td("animationstart"),Uw=Td("transitionend"),Fw=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){Fw.set(t,e),_i(e,[t])}for(var qh=0;qh<Kv.length;qh++){var Wh=Kv[qh],WI=Wh.toLowerCase(),HI=Wh[0].toUpperCase()+Wh.slice(1);Ns(WI,"on"+HI)}Ns(Mw,"onAnimationEnd");Ns(Vw,"onAnimationIteration");Ns(Lw,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(Uw,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function Gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wk(r,e,void 0,t),t.currentTarget=null}function zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Gv(s,o,d),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Gv(s,o,d),i=c}}}if(_c)throw t=Zf,_c=!1,Zf=null,t}function Qe(t,e){var n=e[om];n===void 0&&(n=e[om]=new Set);var r=t+"__bubble";n.has(r)||($w(e,t,2,!1),n.add(r))}function Hh(t,e,n){var r=0;e&&(r|=4),$w(n,t,r,e)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function el(t){if(!t[Cu]){t[Cu]=!0,Qx.forEach(function(n){n!=="selectionchange"&&(KI.has(n)||Hh(n,!1,t),Hh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cu]||(e[Cu]=!0,Hh("selectionchange",!1,e))}}function $w(t,e,n,r){switch(bw(e)){case 1:var s=oI;break;case 4:s=lI;break;default:s=bp}n=s.bind(null,e,n,t),s=void 0,!Yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ws(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}dw(function(){var d=i,f=wp(n),m=[];e:{var p=Fw.get(t);if(p!==void 0){var y=Ip,E=t;switch(t){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":y=TI;break;case"focusin":E="focus",y=Fh;break;case"focusout":E="blur",y=Fh;break;case"beforeblur":case"afterblur":y=Fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kI;break;case Mw:case Vw:case Lw:y=mI;break;case Uw:y=NI;break;case"scroll":y=uI;break;case"wheel":y=AI;break;case"copy":case"cut":case"paste":y=gI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Lv}var N=(e&4)!==0,A=!N&&t==="scroll",w=N?p!==null?p+"Capture":null:p;N=[];for(var _=d,I;_!==null;){I=_;var D=I.stateNode;if(I.tag===5&&D!==null&&(I=D,w!==null&&(D=Go(_,w),D!=null&&N.push(tl(_,D,I)))),A)break;_=_.return}0<N.length&&(p=new y(p,E,null,n,f),m.push({event:p,listeners:N}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Gf&&(E=n.relatedTarget||n.fromElement)&&(Ws(E)||E[Cr]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=d,E=E?Ws(E):null,E!==null&&(A=xi(E),E!==A||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=d),y!==E)){if(N=Mv,D="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=Lv,D="onPointerLeave",w="onPointerEnter",_="pointer"),A=y==null?p:Gi(y),I=E==null?p:Gi(E),p=new N(D,_+"leave",y,n,f),p.target=A,p.relatedTarget=I,D=null,Ws(f)===d&&(N=new N(w,_+"enter",E,n,f),N.target=I,N.relatedTarget=A,D=N),A=D,y&&E)t:{for(N=y,w=E,_=0,I=N;I;I=Pi(I))_++;for(I=0,D=w;D;D=Pi(D))I++;for(;0<_-I;)N=Pi(N),_--;for(;0<I-_;)w=Pi(w),I--;for(;_--;){if(N===w||w!==null&&N===w.alternate)break t;N=Pi(N),w=Pi(w)}N=null}else N=null;y!==null&&Qv(m,p,y,N,!1),E!==null&&A!==null&&Qv(m,A,E,N,!0)}}e:{if(p=d?Gi(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var U=VI;else if(zv(p))if(Rw)U=zI;else{U=UI;var z=LI}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=FI);if(U&&(U=U(t,d))){Aw(m,U,n,f);break e}z&&z(t,p,d),t==="focusout"&&(z=p._wrapperState)&&z.controlled&&p.type==="number"&&Bf(p,"number",p.value)}switch(z=d?Gi(d):window,t){case"focusin":(zv(z)||z.contentEditable==="true")&&(Hi=z,tm=d,Po=null);break;case"focusout":Po=tm=Hi=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,Hv(m,n,f);break;case"selectionchange":if(qI)break;case"keydown":case"keyup":Hv(m,n,f)}var T;if(Cp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Wi?Nw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Iw&&n.locale!=="ko"&&(Wi||v!=="onCompositionStart"?v==="onCompositionEnd"&&Wi&&(T=kw()):(Jr=f,kp="value"in Jr?Jr.value:Jr.textContent,Wi=!0)),z=Sc(d,v),0<z.length&&(v=new Vv(v,t,null,n,f),m.push({event:v,listeners:z}),T?v.data=T:(T=Cw(n),T!==null&&(v.data=T)))),(T=PI?jI(t,n):DI(t,n))&&(d=Sc(d,"onBeforeInput"),0<d.length&&(f=new Vv("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=T))}zw(m,e)})}function tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Go(t,n),i!=null&&r.unshift(tl(t,i,s)),i=Go(t,e),i!=null&&r.push(tl(t,i,s))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qv(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=Go(n,i),c!=null&&a.unshift(tl(n,c,o))):s||(c=Go(n,i),c!=null&&a.push(tl(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var GI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function Yv(t){return(typeof t=="string"?t:""+t).replace(GI,`
`).replace(QI,"")}function Au(t,e,n){if(e=Yv(e),Yv(t)!==e&&n)throw Error(q(425))}function bc(){}var rm=null,sm=null;function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var am=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(t){return Zv.resolve(null).then(t).catch(XI)}:am;function XI(t){setTimeout(function(){throw t})}function Gh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zo(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Pa,nl="__reactProps$"+Pa,Cr="__reactContainer$"+Pa,om="__reactEvents$"+Pa,JI="__reactListeners$"+Pa,eN="__reactHandles$"+Pa;function Ws(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xv(t);t!==null;){if(n=t[Jn])return n;t=Xv(t)}return e}t=n,n=t.parentNode}return null}function Bl(t){return t=t[Jn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Sd(t){return t[nl]||null}var lm=[],Qi=-1;function Cs(t){return{current:t}}function Ye(t){0>Qi||(t.current=lm[Qi],lm[Qi]=null,Qi--)}function Ke(t,e){Qi++,lm[Qi]=t.current,t.current=e}var vs={},$t=Cs(vs),cn=Cs(!1),si=vs;function ha(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function kc(){Ye(cn),Ye($t)}function Jv(t,e,n){if($t.current!==vs)throw Error(q(168));Ke($t,e),Ke(cn,n)}function Bw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,Lk(t)||"Unknown",s));return nt({},n,r)}function Ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,si=$t.current,Ke($t,t),Ke(cn,cn.current),!0}function e0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=Bw(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,Ye(cn),Ye($t),Ke($t,t)):Ye(cn),Ke(cn,n)}var Er=null,bd=!1,Qh=!1;function qw(t){Er===null?Er=[t]:Er.push(t)}function tN(t){bd=!0,qw(t)}function As(){if(!Qh&&Er!==null){Qh=!0;var t=0,e=Fe;try{var n=Er;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,bd=!1}catch(s){throw Er!==null&&(Er=Er.slice(t+1)),pw(Ep,As),s}finally{Fe=e,Qh=!1}}return null}var Yi=[],Zi=0,Nc=null,Cc=0,In=[],Nn=0,ii=null,Sr=1,br="";function Fs(t,e){Yi[Zi++]=Cc,Yi[Zi++]=Nc,Nc=t,Cc=e}function Ww(t,e,n){In[Nn++]=Sr,In[Nn++]=br,In[Nn++]=ii,ii=t;var r=Sr;t=br;var s=32-Bn(r)-1;r&=~(1<<s),n+=1;var i=32-Bn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Sr=1<<32-Bn(e)+s|n<<s|r,br=i+t}else Sr=1<<i|n<<s|r,br=t}function Rp(t){t.return!==null&&(Fs(t,1),Ww(t,1,0))}function Pp(t){for(;t===Nc;)Nc=Yi[--Zi],Yi[Zi]=null,Cc=Yi[--Zi],Yi[Zi]=null;for(;t===ii;)ii=In[--Nn],In[Nn]=null,br=In[--Nn],In[Nn]=null,Sr=In[--Nn],In[Nn]=null}var _n=null,yn=null,Ze=!1,Ln=null;function Hw(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function t0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,yn=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:Sr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,yn=null,!0):!1;default:return!1}}function um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cm(t){if(Ze){var e=yn;if(e){var n=e;if(!t0(t,e)){if(um(t))throw Error(q(418));e=ls(n.nextSibling);var r=_n;e&&t0(t,e)?Hw(r,n):(t.flags=t.flags&-4097|2,Ze=!1,_n=t)}}else{if(um(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ze=!1,_n=t}}}function n0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Ru(t){if(t!==_n)return!1;if(!Ze)return n0(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!im(t.type,t.memoizedProps)),e&&(e=yn)){if(um(t))throw Kw(),Error(q(418));for(;e;)Hw(t,e),e=ls(e.nextSibling)}if(n0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=_n?ls(t.stateNode.nextSibling):null;return!0}function Kw(){for(var t=yn;t;)t=ls(t.nextSibling)}function fa(){yn=_n=null,Ze=!1}function jp(t){Ln===null?Ln=[t]:Ln.push(t)}var nN=Lr.ReactCurrentBatchConfig;function io(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r0(t){var e=t._init;return e(t._payload)}function Gw(t){function e(w,_){if(t){var I=w.deletions;I===null?(w.deletions=[_],w.flags|=16):I.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=hs(w,_),w.index=0,w.sibling=null,w}function i(w,_,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<_?(w.flags|=2,_):I):(w.flags|=2,_)):(w.flags|=1048576,_)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,_,I,D){return _===null||_.tag!==6?(_=nf(I,w.mode,D),_.return=w,_):(_=s(_,I),_.return=w,_)}function c(w,_,I,D){var U=I.type;return U===qi?f(w,_,I.props.children,D,I.key):_!==null&&(_.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Hr&&r0(U)===_.type)?(D=s(_,I.props),D.ref=io(w,_,I),D.return=w,D):(D=ic(I.type,I.key,I.props,null,w.mode,D),D.ref=io(w,_,I),D.return=w,D)}function d(w,_,I,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=rf(I,w.mode,D),_.return=w,_):(_=s(_,I.children||[]),_.return=w,_)}function f(w,_,I,D,U){return _===null||_.tag!==7?(_=Xs(I,w.mode,D,U),_.return=w,_):(_=s(_,I),_.return=w,_)}function m(w,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nf(""+_,w.mode,I),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:return I=ic(_.type,_.key,_.props,null,w.mode,I),I.ref=io(w,null,_),I.return=w,I;case Bi:return _=rf(_,w.mode,I),_.return=w,_;case Hr:var D=_._init;return m(w,D(_._payload),I)}if(vo(_)||eo(_))return _=Xs(_,w.mode,I,null),_.return=w,_;Pu(w,_)}return null}function p(w,_,I,D){var U=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:o(w,_,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wu:return I.key===U?c(w,_,I,D):null;case Bi:return I.key===U?d(w,_,I,D):null;case Hr:return U=I._init,p(w,_,U(I._payload),D)}if(vo(I)||eo(I))return U!==null?null:f(w,_,I,D,null);Pu(w,I)}return null}function y(w,_,I,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(I)||null,o(_,w,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case wu:return w=w.get(D.key===null?I:D.key)||null,c(_,w,D,U);case Bi:return w=w.get(D.key===null?I:D.key)||null,d(_,w,D,U);case Hr:var z=D._init;return y(w,_,I,z(D._payload),U)}if(vo(D)||eo(D))return w=w.get(I)||null,f(_,w,D,U,null);Pu(_,D)}return null}function E(w,_,I,D){for(var U=null,z=null,T=_,v=_=0,S=null;T!==null&&v<I.length;v++){T.index>v?(S=T,T=null):S=T.sibling;var k=p(w,T,I[v],D);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(w,T),_=i(k,_,v),z===null?U=k:z.sibling=k,z=k,T=S}if(v===I.length)return n(w,T),Ze&&Fs(w,v),U;if(T===null){for(;v<I.length;v++)T=m(w,I[v],D),T!==null&&(_=i(T,_,v),z===null?U=T:z.sibling=T,z=T);return Ze&&Fs(w,v),U}for(T=r(w,T);v<I.length;v++)S=y(T,w,v,I[v],D),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?v:S.key),_=i(S,_,v),z===null?U=S:z.sibling=S,z=S);return t&&T.forEach(function(P){return e(w,P)}),Ze&&Fs(w,v),U}function N(w,_,I,D){var U=eo(I);if(typeof U!="function")throw Error(q(150));if(I=U.call(I),I==null)throw Error(q(151));for(var z=U=null,T=_,v=_=0,S=null,k=I.next();T!==null&&!k.done;v++,k=I.next()){T.index>v?(S=T,T=null):S=T.sibling;var P=p(w,T,k.value,D);if(P===null){T===null&&(T=S);break}t&&T&&P.alternate===null&&e(w,T),_=i(P,_,v),z===null?U=P:z.sibling=P,z=P,T=S}if(k.done)return n(w,T),Ze&&Fs(w,v),U;if(T===null){for(;!k.done;v++,k=I.next())k=m(w,k.value,D),k!==null&&(_=i(k,_,v),z===null?U=k:z.sibling=k,z=k);return Ze&&Fs(w,v),U}for(T=r(w,T);!k.done;v++,k=I.next())k=y(T,w,v,k.value,D),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?v:k.key),_=i(k,_,v),z===null?U=k:z.sibling=k,z=k);return t&&T.forEach(function(R){return e(w,R)}),Ze&&Fs(w,v),U}function A(w,_,I,D){if(typeof I=="object"&&I!==null&&I.type===qi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case wu:e:{for(var U=I.key,z=_;z!==null;){if(z.key===U){if(U=I.type,U===qi){if(z.tag===7){n(w,z.sibling),_=s(z,I.props.children),_.return=w,w=_;break e}}else if(z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Hr&&r0(U)===z.type){n(w,z.sibling),_=s(z,I.props),_.ref=io(w,z,I),_.return=w,w=_;break e}n(w,z);break}else e(w,z);z=z.sibling}I.type===qi?(_=Xs(I.props.children,w.mode,D,I.key),_.return=w,w=_):(D=ic(I.type,I.key,I.props,null,w.mode,D),D.ref=io(w,_,I),D.return=w,w=D)}return a(w);case Bi:e:{for(z=I.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(w,_.sibling),_=s(_,I.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=rf(I,w.mode,D),_.return=w,w=_}return a(w);case Hr:return z=I._init,A(w,_,z(I._payload),D)}if(vo(I))return E(w,_,I,D);if(eo(I))return N(w,_,I,D);Pu(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,I),_.return=w,w=_):(n(w,_),_=nf(I,w.mode,D),_.return=w,w=_),a(w)):n(w,_)}return A}var ma=Gw(!0),Qw=Gw(!1),Ac=Cs(null),Rc=null,Xi=null,Dp=null;function Op(){Dp=Xi=Rc=null}function Mp(t){var e=Ac.current;Ye(Ac),t._currentValue=e}function dm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function aa(t,e){Rc=t,Dp=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(Dp!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Rc===null)throw Error(q(308));Xi=t,Rc.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var Hs=null;function Vp(t){Hs===null?Hs=[t]:Hs.push(t)}function Yw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ar(t,r)}function Ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Lp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ar(t,n)}return s=r.interleaved,s===null?(e.next=e,Vp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ar(t,n)}function Ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tp(t,n)}}function s0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pc(t,e,n,r){var s=t.updateQueue;Kr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;a=0,f=d=c=null,o=i;do{var p=o.lane,y=o.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var E=t,N=o;switch(p=e,y=n,N.tag){case 1:if(E=N.payload,typeof E=="function"){m=E.call(y,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=N.payload,p=typeof E=="function"?E.call(y,m,p):E,p==null)break e;m=nt({},m,p);break e;case 2:Kr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else y={eventTime:y,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=y,c=m):f=f.next=y,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);oi|=a,t.lanes=a,t.memoizedState=m}}function i0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var ql={},sr=Cs(ql),rl=Cs(ql),sl=Cs(ql);function Ks(t){if(t===ql)throw Error(q(174));return t}function Up(t,e){switch(Ke(sl,e),Ke(rl,t),Ke(sr,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wf(e,t)}Ye(sr),Ke(sr,e)}function pa(){Ye(sr),Ye(rl),Ye(sl)}function Xw(t){Ks(sl.current);var e=Ks(sr.current),n=Wf(e,t.type);e!==n&&(Ke(rl,t),Ke(sr,n))}function Fp(t){rl.current===t&&(Ye(sr),Ye(rl))}var et=Cs(0);function jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yh=[];function zp(){for(var t=0;t<Yh.length;t++)Yh[t]._workInProgressVersionPrimary=null;Yh.length=0}var ec=Lr.ReactCurrentDispatcher,Zh=Lr.ReactCurrentBatchConfig,ai=0,tt=null,mt=null,vt=null,Dc=!1,jo=!1,il=0,rN=0;function Dt(){throw Error(q(321))}function $p(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function Bp(t,e,n,r,s,i){if(ai=i,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ec.current=t===null||t.memoizedState===null?oN:lN,t=n(r,s),jo){i=0;do{if(jo=!1,il=0,25<=i)throw Error(q(301));i+=1,vt=mt=null,e.updateQueue=null,ec.current=uN,t=n(r,s)}while(jo)}if(ec.current=Oc,e=mt!==null&&mt.next!==null,ai=0,vt=mt=tt=null,Dc=!1,e)throw Error(q(300));return t}function qp(){var t=il!==0;return il=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?tt.memoizedState=vt=t:vt=vt.next=t,vt}function jn(){if(mt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=vt===null?tt.memoizedState:vt.next;if(e!==null)vt=e,mt=t;else{if(t===null)throw Error(q(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?tt.memoizedState=vt=t:vt=vt.next=t}return vt}function al(t,e){return typeof e=="function"?e(t):e}function Xh(t){var e=jn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,d=i;do{var f=d.lane;if((ai&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,a=r):c=c.next=m,tt.lanes|=f,oi|=f}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=o,Kn(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,tt.lanes|=i,oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jh(t){var e=jn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Kn(i,e.memoizedState)||(un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Jw(){}function eE(t,e){var n=tt,r=jn(),s=e(),i=!Kn(r.memoizedState,s);if(i&&(r.memoizedState=s,un=!0),r=r.queue,Wp(rE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,ol(9,nE.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(q(349));ai&30||tE(n,e,s)}return s}function tE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nE(t,e,n,r){e.value=n,e.getSnapshot=r,sE(e)&&iE(t)}function rE(t,e,n){return n(function(){sE(e)&&iE(t)})}function sE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function iE(t){var e=Ar(t,1);e!==null&&qn(e,t,1,-1)}function a0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=aN.bind(null,tt,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aE(){return jn().memoizedState}function tc(t,e,n,r){var s=Xn();tt.flags|=t,s.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function kd(t,e,n,r){var s=jn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var a=mt.memoizedState;if(i=a.destroy,r!==null&&$p(r,a.deps)){s.memoizedState=ol(e,n,i,r);return}}tt.flags|=t,s.memoizedState=ol(1|e,n,i,r)}function o0(t,e){return tc(8390656,8,t,e)}function Wp(t,e){return kd(2048,8,t,e)}function oE(t,e){return kd(4,2,t,e)}function lE(t,e){return kd(4,4,t,e)}function uE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cE(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,4,uE.bind(null,e,t),n)}function Hp(){}function dE(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$p(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hE(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$p(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fE(t,e,n){return ai&21?(Kn(n,e)||(n=vw(),tt.lanes|=n,oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function sN(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Zh.transition;Zh.transition={};try{t(!1),e()}finally{Fe=n,Zh.transition=r}}function mE(){return jn().memoizedState}function iN(t,e,n){var r=ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pE(t))gE(e,n);else if(n=Yw(t,e,n,r),n!==null){var s=Zt();qn(n,t,r,s),yE(n,e,r)}}function aN(t,e,n){var r=ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pE(t))gE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Kn(o,a)){var c=e.interleaved;c===null?(s.next=s,Vp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Yw(t,e,s,r),n!==null&&(s=Zt(),qn(n,t,r,s),yE(n,e,r))}}function pE(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function gE(t,e){jo=Dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tp(t,n)}}var Oc={readContext:Pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},oN={readContext:Pn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:o0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tc(4194308,4,uE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return tc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iN.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:a0,useDebugValue:Hp,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=a0(!1),e=t[0];return t=sN.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,s=Xn();if(Ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),_t===null)throw Error(q(349));ai&30||tE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o0(rE.bind(null,r,i,t),[t]),r.flags|=2048,ol(9,nE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=_t.identifierPrefix;if(Ze){var n=br,r=Sr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=il++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lN={readContext:Pn,useCallback:dE,useContext:Pn,useEffect:Wp,useImperativeHandle:cE,useInsertionEffect:oE,useLayoutEffect:lE,useMemo:hE,useReducer:Xh,useRef:aE,useState:function(){return Xh(al)},useDebugValue:Hp,useDeferredValue:function(t){var e=jn();return fE(e,mt.memoizedState,t)},useTransition:function(){var t=Xh(al)[0],e=jn().memoizedState;return[t,e]},useMutableSource:Jw,useSyncExternalStore:eE,useId:mE,unstable_isNewReconciler:!1},uN={readContext:Pn,useCallback:dE,useContext:Pn,useEffect:Wp,useImperativeHandle:cE,useInsertionEffect:oE,useLayoutEffect:lE,useMemo:hE,useReducer:Jh,useRef:aE,useState:function(){return Jh(al)},useDebugValue:Hp,useDeferredValue:function(t){var e=jn();return mt===null?e.memoizedState=t:fE(e,mt.memoizedState,t)},useTransition:function(){var t=Jh(al)[0],e=jn().memoizedState;return[t,e]},useMutableSource:Jw,useSyncExternalStore:eE,useId:mE,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Id={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ds(t),i=kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(qn(e,t,s,r),Ju(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ds(t),i=kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(qn(e,t,s,r),Ju(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=ds(t),s=kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=us(t,s,r),e!==null&&(qn(e,t,r,n),Ju(e,t,r))}};function l0(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Jo(n,r)||!Jo(s,i):!0}function vE(t,e,n){var r=!1,s=vs,i=e.contextType;return typeof i=="object"&&i!==null?i=Pn(i):(s=dn(e)?si:$t.current,r=e.contextTypes,i=(r=r!=null)?ha(t,s):vs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function u0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Id.enqueueReplaceState(e,e.state,null)}function fm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Lp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Pn(i):(i=dn(e)?si:$t.current,s.context=ha(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(hm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Id.enqueueReplaceState(s,s.state,null),Pc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e){try{var n="",r=e;do n+=Vk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function _E(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vc||(Vc=!0,Sm=r),mm(t,e)},n}function xE(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mm(t,e),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function c0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=SN.bind(null,t,e,n),e.then(t,t))}function d0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var dN=Lr.ReactCurrentOwner,un=!1;function Gt(t,e,n,r){e.child=t===null?Qw(e,null,n,r):ma(e,t.child,n,r)}function f0(t,e,n,r,s){n=n.render;var i=e.ref;return aa(e,s),r=Bp(t,e,n,r,i,s),n=qp(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rr(t,e,s)):(Ze&&n&&Rp(e),e.flags|=1,Gt(t,e,r,s),e.child)}function m0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!eg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wE(t,e,i,r,s)):(t=ic(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jo,n(a,r)&&t.ref===e.ref)return Rr(t,e,s)}return e.flags|=1,t=hs(i,r),t.ref=e.ref,t.return=e,e.child=t}function wE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jo(i,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Rr(t,e,s)}return pm(t,e,n,r,s)}function EE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ea,gn),gn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(ea,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ke(ea,gn),gn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ke(ea,gn),gn|=r;return Gt(t,e,s,n),e.child}function TE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,n,r,s){var i=dn(n)?si:$t.current;return i=ha(e,i),aa(e,s),n=Bp(t,e,n,r,i,s),r=qp(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rr(t,e,s)):(Ze&&r&&Rp(e),e.flags|=1,Gt(t,e,n,s),e.child)}function p0(t,e,n,r,s){if(dn(n)){var i=!0;Ic(e)}else i=!1;if(aa(e,s),e.stateNode===null)nc(t,e),vE(e,n,r),fm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Pn(d):(d=dn(n)?si:$t.current,d=ha(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&u0(e,a,r,d),Kr=!1;var p=e.memoizedState;a.state=p,Pc(e,r,a,s),c=e.memoizedState,o!==r||p!==c||cn.current||Kr?(typeof f=="function"&&(hm(e,n,f,r),c=e.memoizedState),(o=Kr||l0(e,n,o,r,p,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Zw(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:Mn(e.type,o),a.props=d,m=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pn(c):(c=dn(n)?si:$t.current,c=ha(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||p!==c)&&u0(e,a,r,c),Kr=!1,p=e.memoizedState,a.state=p,Pc(e,r,a,s);var E=e.memoizedState;o!==m||p!==E||cn.current||Kr?(typeof y=="function"&&(hm(e,n,y,r),E=e.memoizedState),(d=Kr||l0(e,n,d,r,p,E,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return gm(t,e,n,r,i,s)}function gm(t,e,n,r,s,i){TE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&e0(e,n,!1),Rr(t,e,i);r=e.stateNode,dN.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ma(e,t.child,null,i),e.child=ma(e,null,o,i)):Gt(t,e,o,i),e.memoizedState=r.state,s&&e0(e,n,!0),e.child}function SE(t){var e=t.stateNode;e.pendingContext?Jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jv(t,e.context,!1),Up(t,e.containerInfo)}function g0(t,e,n,r,s){return fa(),jp(s),e.flags|=256,Gt(t,e,n,r),e.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function bE(t,e,n){var r=e.pendingProps,s=et.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(et,s&1),t===null)return cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ad(a,r,0,null),t=Xs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vm(n),e.memoizedState=ym,t):Kp(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return hN(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=hs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=hs(o,i):(i=Xs(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?vm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ym,r}return i=t.child,t=i.sibling,r=hs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kp(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ju(t,e,n,r){return r!==null&&jp(r),ma(e,t.child,null,n),t=Kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hN(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=ef(Error(q(422))),ju(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ad({mode:"visible",children:r.children},s,0,null),i=Xs(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ma(e,t.child,null,a),e.child.memoizedState=vm(a),e.memoizedState=ym,i);if(!(e.mode&1))return ju(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(q(419)),r=ef(i,r,void 0),ju(t,e,a,r)}if(o=(a&t.childLanes)!==0,un||o){if(r=_t,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ar(t,s),qn(r,t,s,-1))}return Jp(),r=ef(Error(q(421))),ju(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yn=ls(s.nextSibling),_n=e,Ze=!0,Ln=null,t!==null&&(In[Nn++]=Sr,In[Nn++]=br,In[Nn++]=ii,Sr=t.id,br=t.overflow,ii=e),e=Kp(e,r.children),e.flags|=4096,e)}function y0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dm(t.return,e,n)}function tf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Gt(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y0(t,n,e);else if(t.tag===19)y0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&jc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&jc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tf(e,!0,n,null,i);break;case"together":tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fN(t,e,n){switch(e.tag){case 3:SE(e),fa();break;case 5:Xw(e);break;case 1:dn(e.type)&&Ic(e);break;case 4:Up(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ke(Ac,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?bE(t,e,n):(Ke(et,et.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Ke(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,EE(t,e,n)}return Rr(t,e,n)}var IE,_m,NE,CE;IE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};NE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ks(sr.current);var i=null;switch(n){case"input":s=zf(t,s),r=zf(t,r),i=[];break;case"select":s=nt({},s,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":s=qf(t,s),r=qf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bc)}Hf(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ho.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};CE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ao(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mN(t,e,n){var r=e.pendingProps;switch(Pp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return dn(e.type)&&kc(),Ot(e),null;case 3:return r=e.stateNode,pa(),Ye(cn),Ye($t),zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ru(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Im(Ln),Ln=null))),_m(t,e),Ot(e),null;case 5:Fp(e);var s=Ks(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)NE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ot(e),null}if(t=Ks(sr.current),Ru(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[nl]=i,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<xo.length;s++)Qe(xo[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":kv(r,i),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",r);break;case"textarea":Nv(r,i),Qe("invalid",r)}Hf(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,o,t),s=["children",""+o]):Ho.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Eu(r),Iv(r,i,!0);break;case"textarea":Eu(r),Cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Jn]=e,t[nl]=r,IE(t,e,!1,!1),e.stateNode=t;e:{switch(a=Kf(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),s=r;break;case"iframe":case"object":case"embed":Qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<xo.length;s++)Qe(xo[s],t);s=r;break;case"source":Qe("error",t),s=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=r;break;case"details":Qe("toggle",t),s=r;break;case"input":kv(t,r),s=zf(t,r),Qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=nt({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":Nv(t,r),s=qf(t,r),Qe("invalid",t);break;default:s=r}Hf(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?aw(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sw(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ko(t,c):typeof c=="number"&&Ko(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",t):c!=null&&yp(t,i,c,a))}switch(n){case"input":Eu(t),Iv(t,r,!1);break;case"textarea":Eu(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?na(t,!!r.multiple,i,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)CE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Ks(sl.current),Ks(sr.current),Ru(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ye(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&yn!==null&&e.mode&1&&!(e.flags&128))Kw(),fa(),e.flags|=98560,i=!1;else if(i=Ru(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Jn]=e}else fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),i=!1}else Ln!==null&&(Im(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?pt===0&&(pt=3):Jp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return pa(),_m(t,e),t===null&&el(e.stateNode.containerInfo),Ot(e),null;case 10:return Mp(e.type._context),Ot(e),null;case 17:return dn(e.type)&&kc(),Ot(e),null;case 19:if(Ye(et),i=e.memoizedState,i===null)return Ot(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ao(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=jc(t),a!==null){for(e.flags|=128,ao(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(et,et.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>ya&&(e.flags|=128,r=!0,ao(i,!1),e.lanes=4194304)}else{if(!r)if(t=jc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ze)return Ot(e),null}else 2*lt()-i.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,ao(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=et.current,Ke(et,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Xp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function pN(t,e){switch(Pp(e),e.tag){case 1:return dn(e.type)&&kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pa(),Ye(cn),Ye($t),zp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fp(e),null;case 13:if(Ye(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(et),null;case 4:return pa(),null;case 10:return Mp(e.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Du=!1,Ft=!1,gN=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function xm(t,e,n){try{n()}catch(r){it(t,e,r)}}var v0=!1;function yN(t,e){if(rm=Ec,t=Dw(),Ap(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,f=0,m=t,p=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(o=a+s),m!==i||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++d===s&&(o=a),p===i&&++f===r&&(c=a),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sm={focusedElem:t,selectionRange:n},Ec=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var N=E.memoizedProps,A=E.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?N:Mn(e.type,N),A);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(D){it(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return E=v0,v0=!1,E}function Do(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xm(e,n,i)}s=s.next}while(s!==r)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AE(t){var e=t.alternate;e!==null&&(t.alternate=null,AE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[nl],delete e[om],delete e[JI],delete e[eN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RE(t){return t.tag===5||t.tag===3||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bc));else if(r!==4&&(t=t.child,t!==null))for(Em(t,e,n),t=t.sibling;t!==null;)Em(t,e,n),t=t.sibling}function Tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tm(t,e,n),t=t.sibling;t!==null;)Tm(t,e,n),t=t.sibling}var wt=null,Vn=!1;function Wr(t,e,n){for(n=n.child;n!==null;)PE(t,e,n),n=n.sibling}function PE(t,e,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(xd,n)}catch{}switch(n.tag){case 5:Ft||Ji(n,e);case 6:var r=wt,s=Vn;wt=null,Wr(t,e,n),wt=r,Vn=s,wt!==null&&(Vn?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Vn?(t=wt,n=n.stateNode,t.nodeType===8?Gh(t.parentNode,n):t.nodeType===1&&Gh(t,n),Zo(t)):Gh(wt,n.stateNode));break;case 4:r=wt,s=Vn,wt=n.stateNode.containerInfo,Vn=!0,Wr(t,e,n),wt=r,Vn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&xm(n,e,a),s=s.next}while(s!==r)}Wr(t,e,n);break;case 1:if(!Ft&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){it(n,e,o)}Wr(t,e,n);break;case 21:Wr(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,Wr(t,e,n),Ft=r):Wr(t,e,n);break;default:Wr(t,e,n)}}function x0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gN),e.forEach(function(r){var s=kN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:wt=o.stateNode,Vn=!1;break e;case 3:wt=o.stateNode.containerInfo,Vn=!0;break e;case 4:wt=o.stateNode.containerInfo,Vn=!0;break e}o=o.return}if(wt===null)throw Error(q(160));PE(i,a,s),wt=null,Vn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){it(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jE(e,t),e=e.sibling}function jE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Zn(t),r&4){try{Do(3,t,t.return),Nd(3,t)}catch(N){it(t,t.return,N)}try{Do(5,t,t.return)}catch(N){it(t,t.return,N)}}break;case 1:On(e,t),Zn(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(On(e,t),Zn(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var s=t.stateNode;try{Ko(s,"")}catch(N){it(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&tw(s,i),Kf(o,a);var d=Kf(o,i);for(a=0;a<c.length;a+=2){var f=c[a],m=c[a+1];f==="style"?aw(s,m):f==="dangerouslySetInnerHTML"?sw(s,m):f==="children"?Ko(s,m):yp(s,f,m,d)}switch(o){case"input":$f(s,i);break;case"textarea":nw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?na(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?na(s,!!i.multiple,i.defaultValue,!0):na(s,!!i.multiple,i.multiple?[]:"",!1))}s[nl]=i}catch(N){it(t,t.return,N)}}break;case 6:if(On(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){it(t,t.return,N)}}break;case 3:if(On(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(N){it(t,t.return,N)}break;case 4:On(e,t),Zn(t);break;case 13:On(e,t),Zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yp=lt())),r&4&&x0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(d=Ft)||f,On(e,t),Ft=d):On(e,t),Zn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(re=t,f=t.child;f!==null;){for(m=re=f;re!==null;){switch(p=re,y=p.child,p.tag){case 0:case 11:case 14:case 15:Do(4,p,p.return);break;case 1:Ji(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(N){it(r,n,N)}}break;case 5:Ji(p,p.return);break;case 22:if(p.memoizedState!==null){E0(m);continue}}y!==null?(y.return=p,re=y):E0(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=iw("display",a))}catch(N){it(t,t.return,N)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(N){it(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:On(e,t),Zn(t),r&4&&x0(t);break;case 21:break;default:On(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RE(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ko(s,""),r.flags&=-33);var i=_0(t);Tm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=_0(t);Em(t,o,a);break;default:throw Error(q(161))}}catch(c){it(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vN(t,e,n){re=t,DE(t)}function DE(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Du;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ft;o=Du;var d=Ft;if(Du=a,(Ft=c)&&!d)for(re=s;re!==null;)a=re,c=a.child,a.tag===22&&a.memoizedState!==null?T0(s):c!==null?(c.return=a,re=c):T0(s);for(;i!==null;)re=i,DE(i),i=i.sibling;re=s,Du=o,Ft=d}w0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):w0(t)}}function w0(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&i0(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i0(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Zo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||e.flags&512&&wm(e)}catch(p){it(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function E0(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function T0(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(c){it(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){it(e,s,c)}}var i=e.return;try{wm(e)}catch(c){it(e,i,c)}break;case 5:var a=e.return;try{wm(e)}catch(c){it(e,a,c)}}}catch(c){it(e,e.return,c)}if(e===t){re=null;break}var o=e.sibling;if(o!==null){o.return=e.return,re=o;break}re=e.return}}var _N=Math.ceil,Mc=Lr.ReactCurrentDispatcher,Gp=Lr.ReactCurrentOwner,An=Lr.ReactCurrentBatchConfig,je=0,_t=null,dt=null,bt=0,gn=0,ea=Cs(0),pt=0,ll=null,oi=0,Cd=0,Qp=0,Oo=null,on=null,Yp=0,ya=1/0,wr=null,Vc=!1,Sm=null,cs=null,Ou=!1,es=null,Lc=0,Mo=0,bm=null,rc=-1,sc=0;function Zt(){return je&6?lt():rc!==-1?rc:rc=lt()}function ds(t){return t.mode&1?je&2&&bt!==0?bt&-bt:nN.transition!==null?(sc===0&&(sc=vw()),sc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:bw(t.type)),t):1}function qn(t,e,n,r){if(50<Mo)throw Mo=0,bm=null,Error(q(185));zl(t,n,r),(!(je&2)||t!==_t)&&(t===_t&&(!(je&2)&&(Cd|=n),pt===4&&Yr(t,bt)),hn(t,r),n===1&&je===0&&!(e.mode&1)&&(ya=lt()+500,bd&&As()))}function hn(t,e){var n=t.callbackNode;nI(t,e);var r=wc(t,t===_t?bt:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?tN(S0.bind(null,t)):qw(S0.bind(null,t)),ZI(function(){!(je&6)&&As()}),n=null;else{switch(_w(r)){case 1:n=Ep;break;case 4:n=gw;break;case 16:n=xc;break;case 536870912:n=yw;break;default:n=xc}n=$E(n,OE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OE(t,e){if(rc=-1,sc=0,je&6)throw Error(q(327));var n=t.callbackNode;if(oa()&&t.callbackNode!==n)return null;var r=wc(t,t===_t?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Uc(t,r);else{e=r;var s=je;je|=2;var i=VE();(_t!==t||bt!==e)&&(wr=null,ya=lt()+500,Zs(t,e));do try{EN();break}catch(o){ME(t,o)}while(!0);Op(),Mc.current=i,je=s,dt!==null?e=0:(_t=null,bt=0,e=pt)}if(e!==0){if(e===2&&(s=Xf(t),s!==0&&(r=s,e=km(t,s))),e===1)throw n=ll,Zs(t,0),Yr(t,r),hn(t,lt()),n;if(e===6)Yr(t,r);else{if(s=t.current.alternate,!(r&30)&&!xN(s)&&(e=Uc(t,r),e===2&&(i=Xf(t),i!==0&&(r=i,e=km(t,i))),e===1))throw n=ll,Zs(t,0),Yr(t,r),hn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:zs(t,on,wr);break;case 3:if(Yr(t,r),(r&130023424)===r&&(e=Yp+500-lt(),10<e)){if(wc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=am(zs.bind(null,t,on,wr),e);break}zs(t,on,wr);break;case 4:if(Yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Bn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_N(r/1960))-r,10<r){t.timeoutHandle=am(zs.bind(null,t,on,wr),r);break}zs(t,on,wr);break;case 5:zs(t,on,wr);break;default:throw Error(q(329))}}}return hn(t,lt()),t.callbackNode===n?OE.bind(null,t):null}function km(t,e){var n=Oo;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=Uc(t,e),t!==2&&(e=on,on=n,e!==null&&Im(e)),t}function Im(t){on===null?on=t:on.push.apply(on,t)}function xN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yr(t,e){for(e&=~Qp,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function S0(t){if(je&6)throw Error(q(327));oa();var e=wc(t,0);if(!(e&1))return hn(t,lt()),null;var n=Uc(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=km(t,r))}if(n===1)throw n=ll,Zs(t,0),Yr(t,e),hn(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,on,wr),hn(t,lt()),null}function Zp(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(ya=lt()+500,bd&&As())}}function li(t){es!==null&&es.tag===0&&!(je&6)&&oa();var e=je;je|=1;var n=An.transition,r=Fe;try{if(An.transition=null,Fe=1,t)return t()}finally{Fe=r,An.transition=n,je=e,!(je&6)&&As()}}function Xp(){gn=ea.current,Ye(ea)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YI(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Pp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kc();break;case 3:pa(),Ye(cn),Ye($t),zp();break;case 5:Fp(r);break;case 4:pa();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:Mp(r.type._context);break;case 22:case 23:Xp()}n=n.return}if(_t=t,dt=t=hs(t.current,null),bt=gn=e,pt=0,ll=null,Qp=Cd=oi=0,on=Oo=null,Hs!==null){for(e=0;e<Hs.length;e++)if(n=Hs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Hs=null}return t}function ME(t,e){do{var n=dt;try{if(Op(),ec.current=Oc,Dc){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dc=!1}if(ai=0,vt=mt=tt=null,jo=!1,il=0,Gp.current=null,n===null||n.return===null){pt=1,ll=e,dt=null;break}e:{var i=t,a=n.return,o=n,c=e;if(e=bt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=o,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=d0(a);if(y!==null){y.flags&=-257,h0(y,a,o,i,e),y.mode&1&&c0(i,d,e),e=y,c=d;var E=e.updateQueue;if(E===null){var N=new Set;N.add(c),e.updateQueue=N}else E.add(c);break e}else{if(!(e&1)){c0(i,d,e),Jp();break e}c=Error(q(426))}}else if(Ze&&o.mode&1){var A=d0(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),h0(A,a,o,i,e),jp(ga(c,o));break e}}i=c=ga(c,o),pt!==4&&(pt=2),Oo===null?Oo=[i]:Oo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=_E(i,c,e);s0(i,w);break e;case 1:o=c;var _=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(cs===null||!cs.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=xE(i,o,e);s0(i,D);break e}}i=i.return}while(i!==null)}UE(n)}catch(U){e=U,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function VE(){var t=Mc.current;return Mc.current=Oc,t===null?Oc:t}function Jp(){(pt===0||pt===3||pt===2)&&(pt=4),_t===null||!(oi&268435455)&&!(Cd&268435455)||Yr(_t,bt)}function Uc(t,e){var n=je;je|=2;var r=VE();(_t!==t||bt!==e)&&(wr=null,Zs(t,e));do try{wN();break}catch(s){ME(t,s)}while(!0);if(Op(),je=n,Mc.current=r,dt!==null)throw Error(q(261));return _t=null,bt=0,pt}function wN(){for(;dt!==null;)LE(dt)}function EN(){for(;dt!==null&&!Kk();)LE(dt)}function LE(t){var e=zE(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?UE(t):dt=e,Gp.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pN(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,dt=null;return}}else if(n=mN(n,e,gn),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);pt===0&&(pt=5)}function zs(t,e,n){var r=Fe,s=An.transition;try{An.transition=null,Fe=1,TN(t,e,n,r)}finally{An.transition=s,Fe=r}return null}function TN(t,e,n,r){do oa();while(es!==null);if(je&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rI(t,i),t===_t&&(dt=_t=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ou||(Ou=!0,$E(xc,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=An.transition,An.transition=null;var a=Fe;Fe=1;var o=je;je|=4,Gp.current=null,yN(t,n),jE(n,t),BI(sm),Ec=!!rm,sm=rm=null,t.current=n,vN(n),Gk(),je=o,Fe=a,An.transition=i}else t.current=n;if(Ou&&(Ou=!1,es=t,Lc=s),i=t.pendingLanes,i===0&&(cs=null),Zk(n.stateNode),hn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vc)throw Vc=!1,t=Sm,Sm=null,t;return Lc&1&&t.tag!==0&&oa(),i=t.pendingLanes,i&1?t===bm?Mo++:(Mo=0,bm=t):Mo=0,As(),null}function oa(){if(es!==null){var t=_w(Lc),e=An.transition,n=Fe;try{if(An.transition=null,Fe=16>t?16:t,es===null)var r=!1;else{if(t=es,es=null,Lc=0,je&6)throw Error(q(331));var s=je;for(je|=4,re=t.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(re=d;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Do(8,f,i)}var m=f.child;if(m!==null)m.return=f,re=m;else for(;re!==null;){f=re;var p=f.sibling,y=f.return;if(AE(f),f===d){re=null;break}if(p!==null){p.return=y,re=p;break}re=y}}}var E=i.alternate;if(E!==null){var N=E.child;if(N!==null){E.child=null;do{var A=N.sibling;N.sibling=null,N=A}while(N!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,re=w;break e}re=i.return}}var _=t.current;for(re=_;re!==null;){a=re;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,re=I;else e:for(a=_;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Nd(9,o)}}catch(U){it(o,o.return,U)}if(o===a){re=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,re=D;break e}re=o.return}}if(je=s,As(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(xd,t)}catch{}r=!0}return r}finally{Fe=n,An.transition=e}}return!1}function b0(t,e,n){e=ga(n,e),e=_E(t,e,1),t=us(t,e,1),e=Zt(),t!==null&&(zl(t,1,e),hn(t,e))}function it(t,e,n){if(t.tag===3)b0(t,t,n);else for(;e!==null;){if(e.tag===3){b0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=ga(n,t),t=xE(e,t,1),e=us(e,t,1),t=Zt(),e!==null&&(zl(e,1,t),hn(e,t));break}}e=e.return}}function SN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(bt&n)===n&&(pt===4||pt===3&&(bt&130023424)===bt&&500>lt()-Yp?Zs(t,0):Qp|=n),hn(t,e)}function FE(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=Zt();t=Ar(t,e),t!==null&&(zl(t,e,n),hn(t,n))}function bN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FE(t,n)}function kN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),FE(t,n)}var zE;zE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,fN(t,e,n);un=!!(t.flags&131072)}else un=!1,Ze&&e.flags&1048576&&Ww(e,Cc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nc(t,e),t=e.pendingProps;var s=ha(e,$t.current);aa(e,n),s=Bp(null,e,r,t,s,n);var i=qp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,Ic(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lp(e),s.updater=Id,e.stateNode=s,s._reactInternals=e,fm(e,r,t,n),e=gm(null,e,r,!0,i,n)):(e.tag=0,Ze&&i&&Rp(e),Gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NN(r),t=Mn(r,t),s){case 0:e=pm(null,e,r,t,n);break e;case 1:e=p0(null,e,r,t,n);break e;case 11:e=f0(null,e,r,t,n);break e;case 14:e=m0(null,e,r,Mn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),pm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),p0(t,e,r,s,n);case 3:e:{if(SE(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zw(t,e),Pc(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ga(Error(q(423)),e),e=g0(t,e,r,n,s);break e}else if(r!==s){s=ga(Error(q(424)),e),e=g0(t,e,r,n,s);break e}else for(yn=ls(e.stateNode.containerInfo.firstChild),_n=e,Ze=!0,Ln=null,n=Qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===s){e=Rr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return Xw(e),t===null&&cm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,im(r,s)?a=null:i!==null&&im(r,i)&&(e.flags|=32),TE(t,e),Gt(t,e,a,n),e.child;case 6:return t===null&&cm(e),null;case 13:return bE(t,e,n);case 4:return Up(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),f0(t,e,r,s,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ke(Ac,r._currentValue),r._currentValue=a,i!==null)if(Kn(i.value,a)){if(i.children===s.children&&!cn.current){e=Rr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=kr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),dm(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),dm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,aa(e,n),s=Pn(s),r=r(s),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,s=Mn(r,e.pendingProps),s=Mn(r.type,s),m0(t,e,r,s,n);case 15:return wE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),nc(t,e),e.tag=1,dn(r)?(t=!0,Ic(e)):t=!1,aa(e,n),vE(e,r,s),fm(e,r,s,n),gm(null,e,r,!0,t,n);case 19:return kE(t,e,n);case 22:return EE(t,e,n)}throw Error(q(156,e.tag))};function $E(t,e){return pw(t,e)}function IN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new IN(t,e,n,r)}function eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NN(t){if(typeof t=="function")return eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_p)return 11;if(t===xp)return 14}return 2}function hs(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ic(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")eg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qi:return Xs(n.children,s,i,e);case vp:a=8,s|=8;break;case Vf:return t=Cn(12,n,e,s|2),t.elementType=Vf,t.lanes=i,t;case Lf:return t=Cn(13,n,e,s),t.elementType=Lf,t.lanes=i,t;case Uf:return t=Cn(19,n,e,s),t.elementType=Uf,t.lanes=i,t;case Xx:return Ad(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yx:a=10;break e;case Zx:a=9;break e;case _p:a=11;break e;case xp:a=14;break e;case Hr:a=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Cn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xs(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=Xx,t.lanes=n,t.stateNode={isHidden:!1},t}function nf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function rf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vh(0),this.expirationTimes=Vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tg(t,e,n,r,s,i,a,o,c){return t=new CN(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lp(i),t}function AN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BE(t){if(!t)return vs;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(dn(n))return Bw(t,n,e)}return e}function qE(t,e,n,r,s,i,a,o,c){return t=tg(n,r,!0,t,s,i,a,o,c),t.context=BE(null),n=t.current,r=Zt(),s=ds(n),i=kr(r,s),i.callback=e??null,us(n,i,s),t.current.lanes=s,zl(t,s,r),hn(t,r),t}function Rd(t,e,n,r){var s=e.current,i=Zt(),a=ds(s);return n=BE(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(s,e,a),t!==null&&(qn(t,s,a,i),Ju(t,s,a)),a}function Fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ng(t,e){k0(t,e),(t=t.alternate)&&k0(t,e)}function RN(){return null}var WE=typeof reportError=="function"?reportError:function(t){console.error(t)};function rg(t){this._internalRoot=t}Pd.prototype.render=rg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Rd(t,e,null,null)};Pd.prototype.unmount=rg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Rd(null,t,null,null)}),e[Cr]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&Sw(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I0(){}function PN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Fc(a);i.call(d)}}var a=qE(e,r,t,0,null,!1,!1,"",I0);return t._reactRootContainer=a,t[Cr]=a.current,el(t.nodeType===8?t.parentNode:t),li(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=Fc(c);o.call(d)}}var c=tg(t,0,!1,null,null,!1,!1,"",I0);return t._reactRootContainer=c,t[Cr]=c.current,el(t.nodeType===8?t.parentNode:t),li(function(){Rd(e,c,n,r)}),c}function Dd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Fc(a);o.call(c)}}Rd(e,a,t,s)}else a=PN(n,e,t,s,r);return Fc(a)}xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_o(e.pendingLanes);n!==0&&(Tp(e,n|1),hn(e,lt()),!(je&6)&&(ya=lt()+500,As()))}break;case 13:li(function(){var r=Ar(t,1);if(r!==null){var s=Zt();qn(r,t,1,s)}}),ng(t,1)}};Sp=function(t){if(t.tag===13){var e=Ar(t,134217728);if(e!==null){var n=Zt();qn(e,t,134217728,n)}ng(t,134217728)}};ww=function(t){if(t.tag===13){var e=ds(t),n=Ar(t,e);if(n!==null){var r=Zt();qn(n,t,e,r)}ng(t,e)}};Ew=function(){return Fe};Tw=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Qf=function(t,e,n){switch(e){case"input":if($f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Sd(r);if(!s)throw Error(q(90));ew(r),$f(r,s)}}}break;case"textarea":nw(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};uw=Zp;cw=li;var jN={usingClientEntryPoint:!1,Events:[Bl,Gi,Sd,ow,lw,Zp]},oo={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DN={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fw(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||RN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{xd=Mu.inject(DN),rr=Mu}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jN;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error(q(200));return AN(t,e,null,n)};Tn.createRoot=function(t,e){if(!sg(t))throw Error(q(299));var n=!1,r="",s=WE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tg(t,1,!1,null,null,n,!1,r,s),t[Cr]=e.current,el(t.nodeType===8?t.parentNode:t),new rg(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=fw(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return li(t)};Tn.hydrate=function(t,e,n){if(!jd(e))throw Error(q(200));return Dd(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!sg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=WE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=qE(e,null,t,1,n??null,s,!1,i,a),t[Cr]=e.current,el(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pd(e)};Tn.render=function(t,e,n){if(!jd(e))throw Error(q(200));return Dd(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!jd(t))throw Error(q(40));return t._reactRootContainer?(li(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};Tn.unstable_batchedUpdates=Zp;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jd(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Dd(t,e,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(t){console.error(t)}}HE(),Hx.exports=Tn;var KE=Hx.exports,GE,N0=KE;GE=N0.createRoot,N0.hydrateRoot;var ig=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ne=(t,e,n)=>(ig(t,e,"read from private field"),n?n.call(t):e.get(t)),$s=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Us=(t,e,n,r)=>(ig(t,e,"write to private field"),e.set(t,n),n),ON=(t,e,n)=>(ig(t,e,"access private method"),n);typeof window<"u"&&!window.global&&(window.global=window);var QE=t=>typeof atob<"u"&&typeof atob=="function"?atob(t):typeof window<"u"&&window.Buffer?new window.Buffer(t,"base64").toString():t,YE="pk_live_",MN="pk_test_";function C0(t){if(t=t||"",!ZE(t))return null;const e=t.startsWith(YE)?"production":"development";let n=QE(t.split("_")[2]);return n.endsWith("$")?(n=n.slice(0,-1),{instanceType:e,frontendApi:n}):null}function ZE(t){t=t||"";const e=t.startsWith(YE)||t.startsWith(MN),n=QE(t.split("_")[2]||"").endsWith("$");return e&&n}function VN(t){return t=t||"",t.startsWith("clerk.")}function LN(){const t=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],e=new Map;return{isDevOrStagingUrl:n=>{if(!n)return!1;const r=typeof n=="string"?n:n.hostname;let s=e.get(r);return s===void 0&&(s=t.some(i=>r.endsWith(i)),e.set(r,s)),s}}}var XE=Object.defineProperty,UN=Object.getOwnPropertyDescriptor,FN=Object.getOwnPropertyNames,zN=Object.prototype.hasOwnProperty,$N=(t,e)=>{for(var n in e)XE(t,n,{get:e[n],enumerable:!0})},BN=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of FN(e))!zN.call(t,s)&&s!==n&&XE(t,s,{get:()=>e[s],enumerable:!(r=UN(e,s))||r.enumerable});return t},qN=(t,e,n)=>(BN(t,e,"default"),n),WN=()=>{try{return!1}catch{}return!1},HN=()=>{try{return!1}catch{}return!1},KN=()=>{try{return!0}catch{}return!1},A0=new Set,zc=(t,e,n)=>{const r=HN()||KN(),s=t;A0.has(s)||r||(A0.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},GN={Expired:"expired",Failed:"failed"};new Proxy(GN,{get(t,e,n){return zc("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(t,e,n)}});var QN=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});function YN({packageName:t,customMessages:e}){let n=t;const r={...QN,...e};function s(i,a){if(!a)return`${n}: ${i}`;let o=i;const c=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const d of c){const f=(a[d[1]]||"").toString();o=o.replace(`{{${d[1]}}}`,f)}return`${n}: ${o}`}return{setPackageName({packageName:i}){return typeof i=="string"&&(n=i),this},setMessages({customMessages:i}){return Object.assign(r,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(s(r.InvalidPublishableKeyErrorMessage,i))},throwInvalidFrontendApiError(i){throw new Error(s(r.InvalidFrontendApiErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(s(r.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(s(r.MissingPublishableKeyErrorMessage))}}}const ZN="Clerk: You must wrap your application in a <ClerkProvider> component.",XN="Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",sf="Clerk: Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",JN="Clerk: <UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",eC="Clerk: <UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",tC="Clerk: <OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",nC="Clerk: <OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",rC=t=>`Clerk: <${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored.`,sC=t=>`Clerk: Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,iC=t=>`Clerk: Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,Vo=YN({packageName:"@clerk/react"});function aC(t){Vo.setMessages(t).setPackageName(t)}function oC(t){return typeof t=="function"}var lC="loadScript cannot be called when document does not exist",uC="loadScript cannot be called without a src";async function cC(t="",e){const{async:n,defer:r,beforeLoad:s,crossOrigin:i}=e||{};return new Promise((a,o)=>{t||o(uC),(!document||!document.body)&&o(lC);const c=document.createElement("script");i&&c.setAttribute("crossorigin",i),c.async=n||!1,c.defer=r||!1,c.addEventListener("load",()=>{c.remove(),a(c)}),c.addEventListener("error",()=>{c.remove(),o()}),c.src=t,s==null||s(c),document.body.appendChild(c)})}function dC(t){return t?hC(t)||JE(t):!0}function hC(t){return/^http(s)?:\/\//.test(t||"")}function JE(t){return t.startsWith("/")}function fC(t){return t?JE(t)?new URL(t,window.location.origin).toString():t:""}function mC(t){if(!t)return"";let e;if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}return`clerk.${t.replace(e,"")}`}const{isDevOrStagingUrl:pC}=LN(),gC=t=>{if(t)return t;const e=yC("4.32.4");return e?e==="snapshot"?"4.73.9":e:vC("4.32.4")},yC=t=>{var e;return(e=t.match(/-(.*)\./))==null?void 0:e[1]},vC=t=>t.split(".")[0],_C="Clerk: Failed to load Clerk",xC=t=>{const{frontendApi:e,publishableKey:n}=t;return!n&&!e&&Vo.throwMissingPublishableKeyError(),cC(wC(t),{async:!0,crossOrigin:"anonymous",beforeLoad:EC(t)}).catch(()=>{throw new Error(_C)})},wC=t=>{var e,n;const{clerkJSUrl:r,clerkJSVariant:s,clerkJSVersion:i,proxyUrl:a,domain:o,publishableKey:c,frontendApi:d}=t;if(r)return r;let f="";a&&dC(a)?f=fC(a).replace(/http(s)?:\/\//,""):o&&!pC(((e=C0(c))==null?void 0:e.frontendApi)||d||"")?f=mC(o):f=((n=C0(c))==null?void 0:n.frontendApi)||d||"";const m=s?`${s.replace(/\.+$/,"")}.`:"",p=gC(i);return`https://${f}/npm/@clerk/clerk-js@${p}/dist/clerk.${m}browser.js`},EC=t=>e=>{const{publishableKey:n,frontendApi:r,proxyUrl:s,domain:i}=t;n?e.setAttribute("data-clerk-publishable-key",n):r&&e.setAttribute("data-clerk-frontend-api",r),s&&e.setAttribute("data-clerk-proxy-url",s),i&&e.setAttribute("data-clerk-domain",i)},Vu=new Map;function TC(t,e,n=1){$.useEffect(()=>{const r=Vu.get(t)||0;if(r==n)throw new Error(e);return Vu.set(t,r+1),()=>{Vu.set(t,(Vu.get(t)||1)-1)}},[])}function SC(t,e,n){const r=t.displayName||t.name||e||"Component",s=i=>(TC(e,n),$.createElement(t,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${r})`,s}const af=t=>{const e=Array(t.length).fill(null),[n,r]=j.useState(e);return t.map((s,i)=>({id:s.id,mount:a=>r(o=>o.map((c,d)=>d===i?a:c)),unmount:()=>r(a=>a.map((o,c)=>c===i?null:o)),portal:()=>$.createElement($.Fragment,null,n[i]?KE.createPortal(s.component,n[i]):null)}))};function of(t,e,n){if(typeof t=="function")return t(e);if(typeof t<"u")return t;if(typeof n<"u")return n}function R0(){return typeof window<"u"}var Js=t=>{WN()&&console.error(t)},e1={exports:{}},t1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=j;function bC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kC=typeof Object.is=="function"?Object.is:bC,IC=va.useState,NC=va.useEffect,CC=va.useLayoutEffect,AC=va.useDebugValue;function RC(t,e){var n=e(),r=IC({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return CC(function(){s.value=n,s.getSnapshot=e,lf(s)&&i({inst:s})},[t,n,e]),NC(function(){return lf(s)&&i({inst:s}),t(function(){lf(s)&&i({inst:s})})},[t]),AC(n),n}function lf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kC(t,n)}catch{return!0}}function PC(t,e){return e()}var jC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PC:RC;t1.useSyncExternalStore=va.useSyncExternalStore!==void 0?va.useSyncExternalStore:jC;e1.exports=t1;var n1=e1.exports;const ts=()=>{},Yt=ts(),ac=Object,Se=t=>t===Yt,Fn=t=>typeof t=="function",Pr=(t,e)=>({...t,...e}),DC=t=>Fn(t.then),Lu=new WeakMap;let OC=0;const ul=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let s,i;if(ac(t)===t&&!r&&n!=RegExp){if(s=Lu.get(t),s)return s;if(s=++OC+"~",Lu.set(t,s),n==Array){for(s="@",i=0;i<t.length;i++)s+=ul(t[i])+",";Lu.set(t,s)}if(n==ac){s="#";const a=ac.keys(t).sort();for(;!Se(i=a.pop());)Se(t[i])||(s+=i+":"+ul(t[i])+",");Lu.set(t,s)}}else s=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},er=new WeakMap,uf={},Uu={},ag="undefined",Od=typeof window!=ag,Nm=typeof document!=ag,MC=()=>Od&&typeof window.requestAnimationFrame!=ag,Gr=(t,e)=>{const n=er.get(t);return[()=>!Se(e)&&t.get(e)||uf,r=>{if(!Se(e)){const s=t.get(e);e in Uu||(Uu[e]=s),n[5](e,Pr(s,r),s||uf)}},n[6],()=>!Se(e)&&e in Uu?Uu[e]:!Se(e)&&t.get(e)||uf]};let Cm=!0;const VC=()=>Cm,[Am,Rm]=Od&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ts,ts],LC=()=>{const t=Nm&&document.visibilityState;return Se(t)||t!=="hidden"},UC=t=>(Nm&&document.addEventListener("visibilitychange",t),Am("focus",t),()=>{Nm&&document.removeEventListener("visibilitychange",t),Rm("focus",t)}),FC=t=>{const e=()=>{Cm=!0,t()},n=()=>{Cm=!1};return Am("online",e),Am("offline",n),()=>{Rm("online",e),Rm("offline",n)}},zC={isOnline:VC,isVisible:LC},$C={initFocus:UC,initReconnect:FC},P0=!$.useId,cl=!Od||"Deno"in window,BC=t=>MC()?window.requestAnimationFrame(t):setTimeout(t,1),Lo=cl?j.useEffect:j.useLayoutEffect,cf=typeof navigator<"u"&&navigator.connection,j0=!cl&&cf&&(["slow-2g","2g"].includes(cf.effectiveType)||cf.saveData),_s=t=>{if(Fn(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?ul(t):"",[t,e]};let qC=0;const Pm=()=>++qC,r1=0,s1=1,i1=2,WC=3;var lo={__proto__:null,ERROR_REVALIDATE_EVENT:WC,FOCUS_EVENT:r1,MUTATE_EVENT:i1,RECONNECT_EVENT:s1};async function a1(...t){const[e,n,r,s]=t,i=Pr({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let a=i.populateCache;const o=i.rollbackOnError;let c=i.optimisticData;const d=i.revalidate!==!1,f=y=>typeof o=="function"?o(y):o!==!1,m=i.throwOnError;if(Fn(n)){const y=n,E=[],N=e.keys();for(const A of N)!/^\$(inf|sub)\$/.test(A)&&y(e.get(A)._k)&&E.push(A);return Promise.all(E.map(p))}return p(n);async function p(y){const[E]=_s(y);if(!E)return;const[N,A]=Gr(e,E),[w,_,I,D]=er.get(e),U=w[E],z=()=>d&&(delete I[E],delete D[E],U&&U[0])?U[0](i1).then(()=>N().data):N().data;if(t.length<3)return z();let T=r,v;const S=Pm();_[E]=[S,0];const k=!Se(c),P=N(),R=P.data,b=P._c,fe=Se(b)?R:b;if(k&&(c=Fn(c)?c(fe,R):c,A({data:c,_c:fe})),Fn(T))try{T=T(fe)}catch(Ve){v=Ve}if(T&&DC(T))if(T=await T.catch(Ve=>{v=Ve}),S!==_[E][0]){if(v)throw v;return T}else v&&k&&f(v)&&(a=!0,T=fe,A({data:T,_c:Yt}));a&&(v||(Fn(a)&&(T=a(T,fe)),A({data:T,error:Yt,_c:Yt}))),_[E][1]=Pm();const xe=await z();if(A({_c:Yt}),v){if(m)throw v;return}return a?xe:T}}const D0=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},o1=(t,e)=>{if(!er.has(t)){const n=Pr($C,e),r={},s=a1.bind(Yt,t);let i=ts;const a={},o=(f,m)=>{const p=a[f]||[];return a[f]=p,p.push(m),()=>p.splice(p.indexOf(m),1)},c=(f,m,p)=>{t.set(f,m);const y=a[f];if(y)for(const E of y)E(m,p)},d=()=>{if(!er.has(t)&&(er.set(t,[r,{},{},{},s,c,o]),!cl)){const f=n.initFocus(setTimeout.bind(Yt,D0.bind(Yt,r,r1))),m=n.initReconnect(setTimeout.bind(Yt,D0.bind(Yt,r,s1)));i=()=>{f&&f(),m&&m(),er.delete(t)}}};return d(),[t,s,d,i]}return[t,er.get(t)[4]]},HC=(t,e,n,r,s)=>{const i=n.errorRetryCount,a=s.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!Se(i)&&a>i||setTimeout(r,o,s)},KC=(t,e)=>ul(t)==ul(e),[Md,l1]=o1(new Map),u1=Pr({onLoadingSlow:ts,onSuccess:ts,onError:ts,onErrorRetry:HC,onDiscarded:ts,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:j0?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:j0?5e3:3e3,compare:KC,isPaused:()=>!1,cache:Md,mutate:l1,fallback:{}},zC),c1=(t,e)=>{const n=Pr(t,e);if(e){const{use:r,fallback:s}=t,{use:i,fallback:a}=e;r&&i&&(n.use=r.concat(i)),s&&a&&(n.fallback=Pr(s,a))}return n},jm=j.createContext({}),GC=t=>{const{value:e}=t,n=j.useContext(jm),r=Fn(e),s=j.useMemo(()=>r?e(n):e,[r,n,e]),i=j.useMemo(()=>r?s:c1(n,s),[r,n,s]),a=s&&s.provider,o=j.useRef(Yt);a&&!o.current&&(o.current=o1(a(i.cache||Md),s));const c=o.current;return c&&(i.cache=c[0],i.mutate=c[1]),Lo(()=>{if(c)return c[2]&&c[2](),c[3]},[]),j.createElement(jm.Provider,Pr(t,{value:i}))},d1=Od&&window.__SWR_DEVTOOLS_USE__,QC=d1?window.__SWR_DEVTOOLS_USE__:[],YC=()=>{d1&&(window.__SWR_DEVTOOLS_REACT__=$)},h1=t=>Fn(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],f1=()=>Pr(u1,j.useContext(jm)),ZC=(t,e)=>{const[n,r]=_s(t),[,,,s]=er.get(Md);if(s[n])return s[n];const i=e(r);return s[n]=i,i},XC=t=>(e,n,r)=>t(e,n&&((...i)=>{const[a]=_s(e),[,,,o]=er.get(Md),c=o[a];return Se(c)?n(...i):(delete o[a],c)}),r),JC=QC.concat(XC),eA=t=>function(...n){const r=f1(),[s,i,a]=h1(n),o=c1(r,a);let c=t;const{use:d}=o,f=(d||[]).concat(JC);for(let m=f.length;m--;)c=f[m](c);return c(s,i||o.fetcher||null,o)},tA=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}},nA=(t,e)=>(...n)=>{const[r,s,i]=h1(n),a=(i.use||[]).concat(e);return t(r,s,{...i,use:a})};YC();const rA=t=>_s(t)[0],O0=$.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),df={dedupe:!0},sA=(t,e,n)=>{const{cache:r,compare:s,suspense:i,fallbackData:a,revalidateOnMount:o,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:f,refreshWhenOffline:m,keepPreviousData:p}=n,[y,E,N,A]=er.get(r),[w,_]=_s(t),I=j.useRef(!1),D=j.useRef(!1),U=j.useRef(w),z=j.useRef(e),T=j.useRef(n),v=()=>T.current,S=()=>v().isVisible()&&v().isOnline(),[k,P,R,b]=Gr(r,w),fe=j.useRef({}).current,xe=Se(a)?n.fallback[w]:a,Ve=(Le,De)=>{for(const Xe in fe){const We=Xe;if(We==="data"){if(!s(Le[We],De[We])&&(!Se(Le[We])||!s(Ct,De[We])))return!1}else if(De[We]!==Le[We])return!1}return!0},$e=j.useMemo(()=>{const Le=!w||!e?!1:Se(o)?v().isPaused()||i?!1:Se(c)?!0:c:o,De=O=>{const V=Pr(O);return delete V._k,Le?{isValidating:!0,isLoading:!0,...V}:V},Xe=k(),We=b(),rn=De(Xe),gr=Xe===We?rn:De(We);let C=rn;return[()=>{const O=De(k());return Ve(O,C)?(C.data=O.data,C.isLoading=O.isLoading,C.isValidating=O.isValidating,C.error=O.error,C):(C=O,O)},()=>gr]},[r,w]),K=n1.useSyncExternalStore(j.useCallback(Le=>R(w,(De,Xe)=>{Ve(Xe,De)||Le()}),[r,w]),$e[0],$e[1]),ue=!I.current,oe=y[w]&&y[w].length>0,Ne=K.data,we=Se(Ne)?xe:Ne,Be=K.error,qt=j.useRef(we),Ct=p?Se(Ne)?qt.current:Ne:we,At=oe&&!Se(Be)?!1:ue&&!Se(o)?o:v().isPaused()?!1:i?Se(we)?!1:c:Se(we)||c,Wt=!!(w&&e&&ue&&At),js=Se(K.isValidating)?Wt:K.isValidating,bi=Se(K.isLoading)?Wt:K.isLoading,bn=j.useCallback(async Le=>{const De=z.current;if(!w||!De||D.current||v().isPaused())return!1;let Xe,We,rn=!0;const gr=Le||{},C=!N[w]||!gr.dedupe,O=()=>P0?!D.current&&w===U.current&&I.current:w===U.current,V={isValidating:!1,isLoading:!1},Z=()=>{P(V)},G=()=>{const te=N[w];te&&te[1]===We&&delete N[w]},W={isValidating:!0};Se(k().data)&&(W.isLoading=!0);try{if(C&&(P(W),n.loadingTimeout&&Se(k().data)&&setTimeout(()=>{rn&&O()&&v().onLoadingSlow(w,n)},n.loadingTimeout),N[w]=[De(_),Pm()]),[Xe,We]=N[w],Xe=await Xe,C&&setTimeout(G,n.dedupingInterval),!N[w]||N[w][1]!==We)return C&&O()&&v().onDiscarded(w),!1;V.error=Yt;const te=E[w];if(!Se(te)&&(We<=te[0]||We<=te[1]||te[1]===0))return Z(),C&&O()&&v().onDiscarded(w),!1;const de=k().data;V.data=s(de,Xe)?de:Xe,C&&O()&&v().onSuccess(Xe,w,n)}catch(te){G();const de=v(),{shouldRetryOnError:Te}=de;de.isPaused()||(V.error=te,C&&O()&&(de.onError(te,w,de),(Te===!0||Fn(Te)&&Te(te))&&S()&&de.onErrorRetry(te,w,de,ke=>{const Rt=y[w];Rt&&Rt[0]&&Rt[0](lo.ERROR_REVALIDATE_EVENT,ke)},{retryCount:(gr.retryCount||0)+1,dedupe:!0})))}return rn=!1,Z(),!0},[w,r]),Yn=j.useCallback((...Le)=>a1(r,U.current,...Le),[]);if(Lo(()=>{z.current=e,T.current=n,Se(Ne)||(qt.current=Ne)}),Lo(()=>{if(!w)return;const Le=bn.bind(Yt,df);let De=0;const We=tA(w,y,(rn,gr={})=>{if(rn==lo.FOCUS_EVENT){const C=Date.now();v().revalidateOnFocus&&C>De&&S()&&(De=C+v().focusThrottleInterval,Le())}else if(rn==lo.RECONNECT_EVENT)v().revalidateOnReconnect&&S()&&Le();else{if(rn==lo.MUTATE_EVENT)return bn();if(rn==lo.ERROR_REVALIDATE_EVENT)return bn(gr)}});return D.current=!1,U.current=w,I.current=!0,P({_k:_}),At&&(Se(we)||cl?Le():BC(Le)),()=>{D.current=!0,We()}},[w]),Lo(()=>{let Le;function De(){const We=Fn(d)?d(k().data):d;We&&Le!==-1&&(Le=setTimeout(Xe,We))}function Xe(){!k().error&&(f||v().isVisible())&&(m||v().isOnline())?bn(df).then(De):De()}return De(),()=>{Le&&(clearTimeout(Le),Le=-1)}},[d,f,m,w]),j.useDebugValue(Ct),i&&Se(we)&&w){if(!P0&&cl)throw new Error("Fallback data is required when using suspense in SSR.");z.current=e,T.current=n,D.current=!1;const Le=A[w];if(!Se(Le)){const De=Yn(Le);O0(De)}if(Se(Be)){const De=bn(df);Se(Ct)||(De.status="fulfilled",De.value=!0),O0(De)}else throw Be}return{mutate:Yn,get data(){return fe.data=!0,Ct},get error(){return fe.error=!0,Be},get isValidating(){return fe.isValidating=!0,js},get isLoading(){return fe.isLoading=!0,bi}}},og=ac.defineProperty(GC,"defaultValue",{value:u1}),lg=eA(sA),iA=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:og,default:lg,mutate:l1,preload:ZC,unstable_serialize:rA,useSWRConfig:f1},Symbol.toStringTag,{value:"Module"})),aA="$inf$",oA=t=>_s(t?t(0,null):null)[0],hf=Promise.resolve(),lA=t=>(e,n,r)=>{const s=j.useRef(!1),{cache:i,initialSize:a=1,revalidateAll:o=!1,persistSize:c=!1,revalidateFirstPage:d=!0,revalidateOnMount:f=!1,parallel:m=!1}=r;let p;try{p=oA(e),p&&(p=aA+p)}catch{}const[y,E,N]=Gr(i,p),A=j.useCallback(()=>Se(y()._l)?a:y()._l,[i,p,a]);n1.useSyncExternalStore(j.useCallback(T=>p?N(p,()=>{T()}):()=>{},[i,p]),A,A);const w=j.useCallback(()=>{const T=y()._l;return Se(T)?a:T},[p,a]),_=j.useRef(w());Lo(()=>{if(!s.current){s.current=!0;return}p&&E({_l:c?_.current:w()})},[p,i]);const I=f&&!s.current,D=t(p,async T=>{const v=y()._i,S=[],k=w(),[P]=Gr(i,T),R=P().data,b=[];let fe=null;for(let xe=0;xe<k;++xe){const[Ve,$e]=_s(e(xe,m?null:fe));if(!Ve)break;const[K,ue]=Gr(i,Ve);let oe=K().data;const Ne=o||v||Se(oe)||d&&!xe&&!Se(R)||I||R&&!Se(R[xe])&&!r.compare(R[xe],oe);if(n&&Ne){const we=async()=>{oe=await n($e),ue({data:oe,_k:$e}),S[xe]=oe};m?b.push(we):await we()}else S[xe]=oe;m||(fe=oe)}return m&&await Promise.all(b.map(xe=>xe())),E({_i:Yt}),S},r),U=j.useCallback(function(T,v){const S=typeof v=="boolean"?{revalidate:v}:v||{},k=S.revalidate!==!1;return p?(k&&(Se(T)?E({_i:!0}):E({_i:!1})),arguments.length?D.mutate(T,{...S,revalidate:k}):D.mutate()):hf},[p,i]),z=j.useCallback(T=>{if(!p)return hf;const[,v]=Gr(i,p);let S;if(Fn(T)?S=T(w()):typeof T=="number"&&(S=T),typeof S!="number")return hf;v({_l:S}),_.current=S;const k=[],[P]=Gr(i,p);let R=null;for(let b=0;b<S;++b){const[fe]=_s(e(b,R)),[xe]=Gr(i,fe),Ve=fe?xe().data:Yt;if(Se(Ve))return U(P().data);k.push(Ve),R=Ve}return U(k)},[p,i,U,w]);return{size:w(),setSize:z,mutate:U,get data(){return D.data},get error(){return D.error},get isValidating(){return D.isValidating},get isLoading(){return D.isLoading}}},uA=nA(lg,lA);function cA(t,e){if(!t)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}var ja=(t,e)=>{const{assertCtxFn:n=cA}={},r=$.createContext(void 0);return r.displayName=t,[r,()=>{const a=$.useContext(r);return n(a,`${t} not found`),a.value},()=>{const a=$.useContext(r);return a?a.value:{}}]},m1={};$N(m1,{SWRConfig:()=>og,useSWR:()=>lg,useSWRInfinite:()=>uA});qN(m1,iA);var[dA,hA]=ja("ClerkInstanceContext"),[fA,mA]=ja("UserContext"),[pA,p6]=ja("ClientContext"),[gA,g6]=ja("SessionContext"),[yA,y6]=ja("OrganizationContext"),vA=({children:t,organization:e,lastOrganizationMember:n,lastOrganizationInvitation:r,swrConfig:s})=>$.createElement(og,{value:s},$.createElement(yA.Provider,{value:{value:{organization:e,lastOrganizationMember:n,lastOrganizationInvitation:r}}},t));typeof window<"u"?$.useLayoutEffect:$.useEffect;const[_A,xA]=[dA,hA];function wA(t){if(!t)throw new Error(ZN)}const p1=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),Vd=$.createContext(void 0);Vd.displayName="StructureContext";const EA=()=>{const t=$.useContext(Vd);return wA(t),t},TA=({children:t})=>EA().guaranteedLoaded?$.createElement($.Fragment,null,t):$.createElement(Vd.Provider,{value:p1.guaranteedLoaded},t),nn=(t,e)=>{e=e||t.displayName||t.name||"Component",t.displayName=e;const n=r=>{const s=xA();return s.loaded?$.createElement(TA,null,$.createElement(t,{...r,clerk:s})):null};return n.displayName=`withClerk(${e})`,n},uo=t=>"mount"in t,M0=t=>"open"in t;class Ur extends $.PureComponent{constructor(){super(...arguments),this.portalRef=$.createRef()}componentDidUpdate(e){var n,r,s,i;!uo(e)||!uo(this.props)||(e.props.appearance!==this.props.props.appearance||((r=(n=e.props)==null?void 0:n.customPages)==null?void 0:r.length)!==((i=(s=this.props.props)==null?void 0:s.customPages)==null?void 0:i.length))&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&(uo(this.props)&&this.props.mount(this.portalRef.current,this.props.props),M0(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.portalRef.current&&(uo(this.props)&&this.props.unmount(this.portalRef.current),M0(this.props)&&this.props.close())}render(){var e,n;return $.createElement($.Fragment,null,$.createElement("div",{ref:this.portalRef}),uo(this.props)&&((n=(e=this.props)==null?void 0:e.customPagesPortals)==null?void 0:n.map((r,s)=>j.createElement(r,{key:s}))))}}const SA=nn(({clerk:t,...e})=>$.createElement(Ur,{mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:e}),"SignIn"),bA=nn(({clerk:t,...e})=>$.createElement(Ur,{mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:e}),"SignUp");function ug({children:t}){return Js(JN),$.createElement($.Fragment,null,t)}function cg({children:t}){return Js(eC),$.createElement($.Fragment,null,t)}const kA=nn(({clerk:t,...e})=>{const{customPages:n,customPagesPortals:r}=g1(e.children);return $.createElement(Ur,{mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...e,customPages:n},customPagesPortals:r})},"UserProfile");Object.assign(kA,{Page:ug,Link:cg});const IA=nn(({clerk:t,...e})=>{const{customPages:n,customPagesPortals:r}=g1(e.children),s=Object.assign(e.userProfileProps||{},{customPages:n});return $.createElement(Ur,{mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...e,userProfileProps:s},customPagesPortals:r})},"UserButton"),V0=Object.assign(IA,{UserProfilePage:ug,UserProfileLink:cg});function dg({children:t}){return Js(tC),$.createElement($.Fragment,null,t)}function hg({children:t}){return Js(nC),$.createElement($.Fragment,null,t)}const NA=nn(({clerk:t,...e})=>{const{customPages:n,customPagesPortals:r}=y1(e.children);return $.createElement(Ur,{mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...e,customPages:n},customPagesPortals:r})},"OrganizationProfile");Object.assign(NA,{Page:dg,Link:hg});nn(({clerk:t,...e})=>$.createElement(Ur,{mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:e}),"CreateOrganization");const CA=nn(({clerk:t,...e})=>{const{customPages:n,customPagesPortals:r}=y1(e.children),s=Object.assign(e.organizationProfileProps||{},{customPages:n});return $.createElement(Ur,{mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...e,organizationProfileProps:s},customPagesPortals:r})},"OrganizationSwitcher");Object.assign(CA,{OrganizationProfilePage:dg,OrganizationProfileLink:hg});nn(({clerk:t,...e})=>$.createElement(Ur,{mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:e}),"OrganizationList");nn(({clerk:t,...e})=>$.createElement(Ur,{open:t.openGoogleOneTap,close:t.closeGoogleOneTap,props:e}),"GoogleOneTap");const Fu=(t,e)=>!!t&&$.isValidElement(t)&&(t==null?void 0:t.type)===e,g1=t=>v1({children:t,reorderItemsLabels:["account","security"],LinkComponent:cg,PageComponent:ug,componentName:"UserProfile"}),y1=t=>v1({children:t,reorderItemsLabels:["members","settings"],LinkComponent:hg,PageComponent:dg,componentName:"OrganizationProfile"}),v1=({children:t,LinkComponent:e,PageComponent:n,reorderItemsLabels:r,componentName:s})=>{const i=[];$.Children.forEach(t,E=>{if(!Fu(E,n)&&!Fu(E,e)){E&&Js(rC(s));return}const{props:N}=E,{children:A,label:w,url:_,labelIcon:I}=N;if(Fu(E,n))if(L0(N,r))i.push({label:w});else if(ff(N))i.push({label:w,labelIcon:I,children:A,url:_});else{Js(sC(s));return}if(Fu(E,e))if(mf(N))i.push({label:w,labelIcon:I,url:_});else{Js(iC(s));return}});const a=[],o=[],c=[];i.forEach((E,N)=>{if(ff(E)){a.push({component:E.children,id:N}),o.push({component:E.labelIcon,id:N});return}mf(E)&&c.push({component:E.labelIcon,id:N})});const d=af(a),f=af(o),m=af(c),p=[],y=[];return i.forEach((E,N)=>{if(L0(E,r)){p.push({label:E.label});return}if(ff(E)){const{portal:A,mount:w,unmount:_}=d.find(z=>z.id===N),{portal:I,mount:D,unmount:U}=f.find(z=>z.id===N);p.push({label:E.label,url:E.url,mount:w,unmount:_,mountIcon:D,unmountIcon:U}),y.push(A),y.push(I);return}if(mf(E)){const{portal:A,mount:w,unmount:_}=m.find(I=>I.id===N);p.push({label:E.label,url:E.url,mountIcon:w,unmountIcon:_}),y.push(A);return}}),{customPages:p,customPagesPortals:y}},L0=(t,e)=>{const{children:n,label:r,url:s,labelIcon:i}=t;return!n&&!s&&!i&&e.some(a=>a===r)},ff=t=>{const{children:e,label:n,url:r,labelIcon:s}=t;return!!e&&!!r&&!!s&&!!n},mf=t=>{const{children:e,label:n,url:r,labelIcon:s}=t;return!e&&!!r&&!!s&&!!n};var ae,Vi,Li,oc,lc,qs,Dm,_1;const x1=class w1{constructor(e){$s(this,Dm),this.clerkjs=null,this.preopenOneTap=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],$s(this,ae,!1),$s(this,Vi,void 0),$s(this,Li,void 0),$s(this,oc,void 0),$s(this,lc,void 0),this.isReady=()=>{var i;return!!((i=this.clerkjs)!=null&&i.isReady())},this.buildSignInUrl=i=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(i))||""};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("buildSignInUrl",a)},this.buildSignUpUrl=i=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(i))||""};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("buildSignUpUrl",a)},this.buildUserProfileUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildUserProfileUrl())||""};if(this.clerkjs&&ne(this,ae))return i();this.premountMethodCalls.set("buildUserProfileUrl",i)},this.buildCreateOrganizationUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildCreateOrganizationUrl())||""};if(this.clerkjs&&ne(this,ae))return i();this.premountMethodCalls.set("buildCreateOrganizationUrl",i)},this.buildOrganizationProfileUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildOrganizationProfileUrl())||""};if(this.clerkjs&&ne(this,ae))return i();this.premountMethodCalls.set("buildOrganizationProfileUrl",i)},this.buildHomeUrl=()=>{const i=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildHomeUrl())||""};if(this.clerkjs&&ne(this,ae))return i();this.premountMethodCalls.set("buildHomeUrl",i)},this.buildUrlWithAuth=i=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(i))||""};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("buildUrlWithAuth",a)},this.handleUnauthenticated=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleUnauthenticated()};this.clerkjs&&ne(this,ae)?i():this.premountMethodCalls.set("handleUnauthenticated",i)},this.addOnLoaded=i=>{this.loadedListeners.push(i),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(i=>i()),this.loadedListeners=[]},this.hydrateClerkJS=i=>{if(!i)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=i,this.premountMethodCalls.forEach(a=>a()),this.preopenSignIn!==null&&i.openSignIn(this.preopenSignIn),this.preopenSignUp!==null&&i.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&i.openUserProfile(this.preopenUserProfile),this.preopenOneTap!==null&&i.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&i.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&i.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((a,o)=>{i.mountSignIn(o,a)}),this.premountSignUpNodes.forEach((a,o)=>{i.mountSignUp(o,a)}),this.premountUserProfileNodes.forEach((a,o)=>{i.mountUserProfile(o,a)}),this.premountUserButtonNodes.forEach((a,o)=>{i.mountUserButton(o,a)}),this.premountOrganizationListNodes.forEach((a,o)=>{i.mountOrganizationList(o,a)}),Us(this,ae,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=i=>{if(this.clerkjs&&"__unstable__updateProps"in this.clerkjs)this.clerkjs.__unstable__updateProps(i);else return},this.setActive=({session:i,organization:a,beforeEmit:o})=>this.clerkjs?this.clerkjs.setActive({session:i,organization:a,beforeEmit:o}):Promise.reject(),this.setSession=(i,a)=>(zc("setSession","Use `Clerk.setActive` instead"),this.setActive({session:i,beforeEmit:a})),this.openSignIn=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.openSignIn(i):this.preopenSignIn=i},this.closeSignIn=()=>{this.clerkjs&&ne(this,ae)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openGoogleOneTap=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.openGoogleOneTap(i):this.preopenOneTap=i},this.closeGoogleOneTap=()=>{this.clerkjs&&ne(this,ae)?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.openUserProfile(i):this.preopenUserProfile=i},this.closeUserProfile=()=>{this.clerkjs&&ne(this,ae)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.openOrganizationProfile(i):this.preopenOrganizationProfile=i},this.closeOrganizationProfile=()=>{this.clerkjs&&ne(this,ae)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.openCreateOrganization(i):this.preopenCreateOrganization=i},this.closeCreateOrganization=()=>{this.clerkjs&&ne(this,ae)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.openSignUp(i):this.preopenSignUp=i},this.closeSignUp=()=>{this.clerkjs&&ne(this,ae)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountSignIn(i,a):this.premountSignInNodes.set(i,a)},this.unmountSignIn=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountSignIn(i):this.premountSignInNodes.delete(i)},this.mountSignUp=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountSignUp(i,a):this.premountSignUpNodes.set(i,a)},this.unmountSignUp=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountSignUp(i):this.premountSignUpNodes.delete(i)},this.mountUserProfile=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountUserProfile(i,a):this.premountUserProfileNodes.set(i,a)},this.unmountUserProfile=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountUserProfile(i):this.premountUserProfileNodes.delete(i)},this.mountOrganizationProfile=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountOrganizationProfile(i,a):this.premountOrganizationProfileNodes.set(i,a)},this.unmountOrganizationProfile=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountOrganizationProfile(i):this.premountOrganizationProfileNodes.delete(i)},this.mountCreateOrganization=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountCreateOrganization(i,a):this.premountCreateOrganizationNodes.set(i,a)},this.unmountCreateOrganization=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountCreateOrganization(i):this.premountCreateOrganizationNodes.delete(i)},this.mountOrganizationSwitcher=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountOrganizationSwitcher(i,a):this.premountOrganizationSwitcherNodes.set(i,a)},this.unmountOrganizationSwitcher=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountOrganizationSwitcher(i):this.premountOrganizationSwitcherNodes.delete(i)},this.mountOrganizationList=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountOrganizationList(i,a):this.premountOrganizationListNodes.set(i,a)},this.unmountOrganizationList=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountOrganizationList(i):this.premountOrganizationListNodes.delete(i)},this.mountUserButton=(i,a)=>{this.clerkjs&&ne(this,ae)?this.clerkjs.mountUserButton(i,a):this.premountUserButtonNodes.set(i,a)},this.unmountUserButton=i=>{this.clerkjs&&ne(this,ae)?this.clerkjs.unmountUserButton(i):this.premountUserButtonNodes.delete(i)},this.addListener=i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.addListener(i)};return this.clerkjs?a():(this.premountMethodCalls.set("addListener",a),()=>this.premountMethodCalls.delete("addListener"))},this.navigate=i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(i)};this.clerkjs&&ne(this,ae)?a():this.premountMethodCalls.set("navigate",a)},this.redirectWithAuth=(...i)=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...i)};this.clerkjs&&ne(this,ae)?a():this.premountMethodCalls.set("redirectWithAuth",a)},this.redirectToSignIn=i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(i)};this.clerkjs&&ne(this,ae)?a():this.premountMethodCalls.set("redirectToSignIn",a)},this.redirectToSignUp=i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(i)};this.clerkjs&&ne(this,ae)?a():this.premountMethodCalls.set("redirectToSignUp",a)},this.redirectToUserProfile=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToUserProfile()};this.clerkjs&&ne(this,ae)?i():this.premountMethodCalls.set("redirectToUserProfile",i)},this.redirectToHome=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToHome()};this.clerkjs&&ne(this,ae)?i():this.premountMethodCalls.set("redirectToHome",i)},this.redirectToOrganizationProfile=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToOrganizationProfile()};this.clerkjs&&ne(this,ae)?i():this.premountMethodCalls.set("redirectToOrganizationProfile",i)},this.redirectToCreateOrganization=()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToCreateOrganization()};this.clerkjs&&ne(this,ae)?i():this.premountMethodCalls.set("redirectToCreateOrganization",i)},this.handleRedirectCallback=i=>{var a;const o=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleRedirectCallback(i)};this.clerkjs&&ne(this,ae)?(a=o())==null||a.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleMagicLinkVerification=async i=>{zc("handleMagicLinkVerification","Use `handleEmailLinkVerification` instead.");const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleMagicLinkVerification(i)};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("handleMagicLinkVerification",a)},this.handleGoogleOneTapCallback=(i,a)=>{var o;const c=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleGoogleOneTapCallback(i,a)};this.clerkjs&&ne(this,ae)?(o=c())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",c)},this.handleEmailLinkVerification=async i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(i)};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("handleEmailLinkVerification",a)},this.authenticateWithMetamask=async i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(i)};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("authenticateWithMetamask",a)},this.authenticateWithGoogleOneTap=async i=>(await ON(this,Dm,_1).call(this)).authenticateWithGoogleOneTap(i),this.createOrganization=async i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(i)};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("createOrganization",a)},this.getOrganizationMemberships=async()=>{const i=()=>{var a;return(a=this.clerkjs)==null?void 0:a.getOrganizationMemberships()};if(this.clerkjs&&ne(this,ae))return i();this.premountMethodCalls.set("getOrganizationMemberships",i)},this.getOrganization=async i=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(i)};if(this.clerkjs&&ne(this,ae))return a();this.premountMethodCalls.set("getOrganization",a)},this.signOut=async(i,a)=>{const o=()=>{var c;return(c=this.clerkjs)==null?void 0:c.signOut(i,a)};if(this.clerkjs&&ne(this,ae))return o();this.premountMethodCalls.set("signOut",o)};const{Clerk:n=null,frontendApi:r,publishableKey:s}=e||{};Us(this,oc,r),Us(this,lc,s),Us(this,Li,e==null?void 0:e.proxyUrl),Us(this,Vi,e==null?void 0:e.domain),this.options=e,this.Clerk=n,this.mode=R0()?"browser":"server",this.loadClerkJS()}get publishableKey(){return ne(this,lc)}get loaded(){return ne(this,ae)}static getOrCreateInstance(e){return(!R0()||!ne(this,qs)||e.Clerk&&ne(this,qs).Clerk!==e.Clerk)&&Us(this,qs,new w1(e)),ne(this,qs)}static clearInstance(){Us(this,qs,null)}get domain(){if(typeof window<"u"&&window.location)return of(ne(this,Vi),new URL(window.location.href),"");if(typeof ne(this,Vi)=="function")throw new Error(sf);return ne(this,Vi)||""}get proxyUrl(){if(typeof window<"u"&&window.location)return of(ne(this,Li),new URL(window.location.href),"");if(typeof ne(this,Li)=="function")throw new Error(sf);return ne(this,Li)||""}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||ne(this,oc)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){if(typeof window<"u"&&window.location)return of(this.options.isSatellite,new URL(window.location.href),!1);if(typeof this.options.isSatellite=="function")throw new Error(sf);return!1}async loadClerkJS(){var e,n,r;if(!(this.mode!=="browser"||ne(this,ae))){typeof window<"u"&&(window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;oC(this.Clerk)?(s=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await s.load(this.options)):(s=this.Clerk,s.isReady()||await s.load(this.options)),window.Clerk=s}else{if(window.Clerk||await xC({...this.options,frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain}),!window.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await window.Clerk.load(this.options)}return window.Clerk.sdkMetadata=(e=this.options.sdkMetadata)!=null?e:{name:"@clerk/clerk-react",version:"4.32.4"},(n=window.Clerk)!=null&&n.loaded||(r=window.Clerk)!=null&&r.isReady()?this.hydrateClerkJS(window.Clerk):void 0}catch(s){const i=s;console.error(i.stack||i.message||i);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};ae=new WeakMap;Vi=new WeakMap;Li=new WeakMap;oc=new WeakMap;lc=new WeakMap;qs=new WeakMap;Dm=new WeakSet;_1=function(){return new Promise(t=>{ne(this,ae)&&t(this.clerkjs),this.addOnLoaded(()=>t(this.clerkjs))})};$s(x1,qs,void 0);let U0=x1;const AA=(t,e,n)=>!t&&n?RA(n):PA(e),RA=t=>{const e=t.userId,n=t.user,r=t.sessionId,s=t.session,i=t.organization,a=t.orgId,o=t.orgRole,c=t.orgPermissions,d=t.orgSlug,f=t.actor;return{userId:e,user:n,sessionId:r,session:s,organization:i,orgId:a,orgRole:o,orgPermissions:c,orgSlug:d,actor:f,lastOrganizationInvitation:null,lastOrganizationMember:null}},PA=t=>{var e;const n=t.user?t.user.id:t.user,r=t.user,s=t.session?t.session.id:t.session,i=t.session,a=i==null?void 0:i.actor,o=t.organization,c=t.organization?t.organization.id:t.organization,d=o==null?void 0:o.slug,f=o&&((e=r==null?void 0:r.organizationMemberships)==null?void 0:e.find(N=>N.organization.id===c)),m=f&&f.permissions,p=f&&f.role,y=t.lastOrganizationInvitation,E=t.lastOrganizationMember;return{userId:n,user:r,sessionId:s,session:i,organization:o,orgId:c,orgRole:p,orgSlug:d,orgPermissions:m,actor:a,lastOrganizationInvitation:y,lastOrganizationMember:E}},[jA,E1]=ja("AuthContext");function DA(t){const{isomorphicClerkOptions:e,initialState:n,children:r}=t,{isomorphicClerk:s,loaded:i}=OA(e);e.frontendApi&&zc("frontendApi","Use `publishableKey` instead.");const[a,o]=$.useState({client:s.client,session:s.session,user:s.user,organization:s.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});$.useEffect(()=>s.addListener(P=>o({...P})),[]);const c=AA(i,a,n),d=$.useMemo(()=>({value:s}),[i]),f=$.useMemo(()=>({value:a.client}),[a.client]),{sessionId:m,session:p,userId:y,user:E,orgId:N,actor:A,lastOrganizationInvitation:w,lastOrganizationMember:_,organization:I,orgRole:D,orgSlug:U,orgPermissions:z}=c,T=$.useMemo(()=>({value:{sessionId:m,userId:y,actor:A,orgId:N,orgRole:D,orgSlug:U,orgPermissions:z}}),[m,y,A,N,D,U]),v=$.useMemo(()=>({value:E}),[y,E]),S=$.useMemo(()=>({value:p}),[m,p]),k=$.useMemo(()=>({value:{organization:I,lastOrganizationInvitation:w,lastOrganizationMember:_}}),[N,I,w,_]);return $.createElement(_A.Provider,{value:d},$.createElement(pA.Provider,{value:f},$.createElement(gA.Provider,{value:S},$.createElement(vA,{...k.value},$.createElement(jA.Provider,{value:T},$.createElement(fA.Provider,{value:v},r))))))}const OA=t=>{const[e,n]=$.useState(!1),r=$.useMemo(()=>U0.getOrCreateInstance(t),[]);return $.useEffect(()=>{r.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),$.useEffect(()=>{r.__unstable__updateProps({options:t})},[t.localization]),$.useEffect(()=>{r.addOnLoaded(()=>n(!0))},[]),$.useEffect(()=>()=>{U0.clearInstance()},[]),{isomorphicClerk:r,loaded:e}};aC({packageName:"@clerk/clerk-react"});function MA(t){const{initialState:e,children:n,...r}=t,{frontendApi:s="",publishableKey:i="",Clerk:a}=r;return a||(!i&&!s?Vo.throwMissingPublishableKeyError():i&&!ZE(i)?Vo.throwInvalidPublishableKeyError({key:i}):!i&&s&&!VN(s)&&Vo.throwInvalidFrontendApiError({key:s})),$.createElement(Vd.Provider,{value:p1.noGuarantees},$.createElement(DA,{initialState:e,isomorphicClerkOptions:r},n))}const T1=SC(MA,"ClerkProvider",XN);T1.displayName="ClerkProvider";function Rs(){const t=mA();return t===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:t===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:t}}const VA=({children:t})=>{const{userId:e}=E1();return e?$.createElement($.Fragment,null,t):null},LA=({children:t})=>{const{userId:e}=E1();return e===null?$.createElement($.Fragment,null,t):null};nn(({clerk:t,...e})=>{const{client:n,session:r}=t,{__unstable__environment:s}=t,i=n.activeSessions&&n.activeSessions.length>0;return $.useEffect(()=>{if(r===null&&i&&s){const{afterSignOutOneUrl:a}=s.displayConfig;t.navigate(a)}else t.redirectToSignIn(e)},[]),null},"RedirectToSignIn");nn(({clerk:t,...e})=>($.useEffect(()=>{t.redirectToSignUp(e)},[]),null),"RedirectToSignUp");nn(({clerk:t})=>($.useEffect(()=>{t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");nn(({clerk:t})=>($.useEffect(()=>{t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");nn(({clerk:t})=>($.useEffect(()=>{t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");nn(({clerk:t,...e})=>($.useEffect(()=>{t.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}var ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ns||(ns={}));const F0="popstate";function UA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return Om("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:b1(s)}return zA(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function S1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FA(){return Math.random().toString(36).substr(2,8)}function z0(t,e){return{usr:t.state,key:t.key,idx:e}}function Om(t,e,n,r){return n===void 0&&(n=null),dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||FA()})}function b1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=ns.Pop,c=null,d=f();d==null&&(d=0,a.replaceState(dl({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function m(){o=ns.Pop;let A=f(),w=A==null?null:A-d;d=A,c&&c({action:o,location:N.location,delta:w})}function p(A,w){o=ns.Push;let _=Om(N.location,A,w);d=f()+1;let I=z0(_,d),D=N.createHref(_);try{a.pushState(I,"",D)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(D)}i&&c&&c({action:o,location:N.location,delta:1})}function y(A,w){o=ns.Replace;let _=Om(N.location,A,w);d=f();let I=z0(_,d),D=N.createHref(_);a.replaceState(I,"",D),i&&c&&c({action:o,location:N.location,delta:0})}function E(A){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof A=="string"?A:b1(A);return _=_.replace(/ $/,"%20"),gt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let N={get action(){return o},get location(){return t(s,a)},listen(A){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(F0,m),c=A,()=>{s.removeEventListener(F0,m),c=null}},createHref(A){return e(s,A)},createURL:E,encodeLocation(A){let w=E(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:y,go(A){return a.go(A)}};return N}var $0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($0||($0={}));function $A(t,e,n){return n===void 0&&(n="/"),BA(t,e,n,!1)}function BA(t,e,n,r){let s=typeof e=="string"?Da(e):e,i=N1(s.pathname||"/",n);if(i==null)return null;let a=k1(t);qA(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=tR(i);o=JA(a[c],d,r)}return o}function k1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ei([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),k1(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:ZA(d,i.index),routesMeta:f})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of I1(i.path))s(i,a,c)}),e}function I1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=I1(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function qA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WA=/^:[\w-]+$/,HA=3,KA=2,GA=1,QA=10,YA=-2,B0=t=>t==="*";function ZA(t,e){let n=t.split("/"),r=n.length;return n.some(B0)&&(r+=YA),e&&(r+=KA),n.filter(s=>!B0(s)).reduce((s,i)=>s+(WA.test(i)?HA:i===""?GA:QA),r)}function XA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JA(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=q0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=q0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:ei([i,m.pathname]),pathnameBase:oR(ei([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=ei([i,m.pathnameBase]))}return a}function q0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,f,m)=>{let{paramName:p,isOptional:y}=f;if(p==="*"){let N=o[m]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const E=o[m];return y&&!E?d[p]=void 0:d[p]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function eR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),S1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return S1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function N1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:rR(n,e):e,search:lR(r),hash:uR(s)}}function rR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iR(t,e){let n=sR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function aR(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Da(t):(s=dl({},t),gt(!s.pathname||!s.pathname.includes("?"),pf("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),pf("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),pf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}o=m>=0?e[m]:"/"}let c=nR(s,o),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const ei=t=>t.join("/").replace(/\/\/+/g,"/"),oR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C1=["post","put","patch","delete"];new Set(C1);const dR=["get",...C1];new Set(dR);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}const fg=j.createContext(null),hR=j.createContext(null),Ld=j.createContext(null),Ud=j.createContext(null),wi=j.createContext({outlet:null,matches:[],isDataRoute:!1}),A1=j.createContext(null);function Fd(){return j.useContext(Ud)!=null}function mg(){return Fd()||gt(!1),j.useContext(Ud).location}function R1(t){j.useContext(Ld).static||j.useLayoutEffect(t)}function Oa(){let{isDataRoute:t}=j.useContext(wi);return t?bR():fR()}function fR(){Fd()||gt(!1);let t=j.useContext(fg),{basename:e,future:n,navigator:r}=j.useContext(Ld),{matches:s}=j.useContext(wi),{pathname:i}=mg(),a=JSON.stringify(iR(s,n.v7_relativeSplatPath)),o=j.useRef(!1);return R1(()=>{o.current=!0}),j.useCallback(function(d,f){if(f===void 0&&(f={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=aR(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ei([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,a,i,t])}function P1(){let{matches:t}=j.useContext(wi),e=t[t.length-1];return e?e.params:{}}function mR(t,e){return pR(t,e)}function pR(t,e,n,r){Fd()||gt(!1);let{navigator:s}=j.useContext(Ld),{matches:i}=j.useContext(wi),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=mg(),f;if(e){var m;let A=typeof e=="string"?Da(e):e;c==="/"||(m=A.pathname)!=null&&m.startsWith(c)||gt(!1),f=A}else f=d;let p=f.pathname||"/",y=p;if(c!=="/"){let A=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=$A(t,{pathname:y}),N=xR(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:ei([c,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:ei([c,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&N?j.createElement(Ud.Provider,{value:{location:hl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ns.Pop}},N):N}function gR(){let t=SR(),e=cR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const yR=j.createElement(gR,null);class vR extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(wi.Provider,{value:this.props.routeContext},j.createElement(A1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _R(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(fg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(wi.Provider,{value:e},r)}function xR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);f>=0||gt(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:p,errors:y}=n,E=m.route.loader&&p[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,m,p)=>{let y,E=!1,N=null,A=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,N=m.route.errorElement||yR,c&&(d<0&&p===0?(E=!0,A=null):d===p&&(E=!0,A=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),_=()=>{let I;return y?I=N:E?I=A:m.route.Component?I=j.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=f,j.createElement(_R,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?j.createElement(vR,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var j1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(j1||{}),$c=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($c||{});function wR(t){let e=j.useContext(fg);return e||gt(!1),e}function ER(t){let e=j.useContext(hR);return e||gt(!1),e}function TR(t){let e=j.useContext(wi);return e||gt(!1),e}function D1(t){let e=TR(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function SR(){var t;let e=j.useContext(A1),n=ER($c.UseRouteError),r=D1($c.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bR(){let{router:t}=wR(j1.UseNavigateStable),e=D1($c.UseNavigateStable),n=j.useRef(!1);return R1(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hl({fromRouteId:e},i)))},[t,e])}const W0={};function kR(t,e){W0[e]||(W0[e]=!0,console.warn(e))}const H0=(t,e,n)=>kR(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function IR(t,e){t!=null&&t.v7_startTransition||H0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&H0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Kt(t){gt(!1)}function NR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ns.Pop,navigator:i,static:a=!1,future:o}=t;Fd()&&gt(!1);let c=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:i,static:a,future:hl({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=Da(r));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:E="default"}=r,N=j.useMemo(()=>{let A=N1(f,c);return A==null?null:{location:{pathname:A,search:m,hash:p,state:y,key:E},navigationType:s}},[c,f,m,p,y,E,s]);return N==null?null:j.createElement(Ld.Provider,{value:d},j.createElement(Ud.Provider,{children:n,value:N}))}function K0(t){let{children:e,location:n}=t;return mR(Mm(e),n)}new Promise(()=>{});function Mm(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Mm(r.props.children,i));return}r.type!==Kt&&gt(!1),!r.props.index||!r.props.children||gt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const CR="6";try{window.__reactRouterVersion=CR}catch{}const AR="startTransition",G0=Sk[AR];function RR(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=UA({window:s,v5Compat:!0}));let a=i.current,[o,c]=j.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},f=j.useCallback(m=>{d&&G0?G0(()=>c(m)):c(m)},[c,d]);return j.useLayoutEffect(()=>a.listen(f),[a,f]),j.useEffect(()=>IR(r),[r]),j.createElement(NR,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var Q0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q0||(Q0={}));var Y0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y0||(Y0={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...d},f)=>j.createElement("svg",{ref:f,...PR,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jR(t)}`,o].join(" "),...d},[...e.map(([m,p])=>j.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=ie("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=ie("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=ie("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=ie("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=ie("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=ie("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=ie("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=ie("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=ie("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ie("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ie("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=ie("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=ie("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ie("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ie("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ie("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ie("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dP(){return u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Dashboard"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:u.jsx(UR,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Active Deals"}),u.jsx("p",{className:"text-2xl font-semibold",children:"12"})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:u.jsx(yg,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Deal Value"}),u.jsx("p",{className:"text-2xl font-semibold",children:"$2.4M"})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:u.jsx(Fr,{className:"w-6 h-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Network Size"}),u.jsx("p",{className:"text-2xl font-semibold",children:"847"})]})]})})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Deal Updates"}),u.jsx("div",{className:"space-y-4",children:[{title:"New deal room created",description:"Tech Startup Acquisition",time:"2 hours ago"},{title:"Document uploaded",description:"Financial Statement Q4 2023",time:"5 hours ago"},{title:"Team member added",description:"Sarah Johnson joined Deal #127",time:"1 day ago"}].map((t,e)=>u.jsxs("div",{className:"flex items-start gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-gray-900",children:t.title}),u.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),u.jsx("span",{className:"text-sm text-gray-500",children:t.time})]},e))})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Deal Pipeline"}),u.jsx("div",{className:"space-y-4",children:[{stage:"KYC Verification",count:3,color:"bg-blue-600"},{stage:"Due Diligence",count:5,color:"bg-yellow-500"},{stage:"Deal Structuring",count:2,color:"bg-green-500"},{stage:"Negotiation",count:1,color:"bg-purple-500"},{stage:"Signing",count:1,color:"bg-gray-500"}].map((t,e)=>u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-600",children:t.stage}),u.jsx("span",{className:"font-medium",children:t.count})]}),u.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full ${t.color}`,style:{width:`${t.count/12*100}%`}})})]},e))})]})]})]})}const G1="meet.jit.si";var hP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(f){try{d(r.next(f))}catch(m){a(m)}}function c(f){try{d(r.throw(f))}catch(m){a(m)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((r=r.apply(t,e||[])).next())})};const fP=(t,e,n)=>hP(void 0,void 0,void 0,function*(){return new Promise((r,s)=>{if(window.JitsiMeetExternalAPI)return r(window.JitsiMeetExternalAPI);const i=document.createElement("script"),a=e?`?release=${e}`:"",o=n?`${n}/`:"";i.async=!0,i.src=`https://${t}/${o}external_api.js${a}`,i.onload=()=>r(window.JitsiMeetExternalAPI),i.onerror=()=>s(new Error(`Script load error: ${i.src}`)),document.head.appendChild(i)})});let zu;const mP=(t=G1,e,n)=>zu||(zu=fP(t,e,n),zu),pP=t=>{const e=t.split("/");if(!(e.length<=1))return e[0]};let gP=0;const Z0=t=>`${t}-${gP++}`,yP=({domain:t=G1,roomName:e,configOverwrite:n,interfaceConfigOverwrite:r,jwt:s,invitees:i,devices:a,userInfo:o,release:c,lang:d,spinner:f,onApiReady:m,onReadyToClose:p,getIFrameRef:y})=>{const[E,N]=j.useState(!0),[A,w]=j.useState(!1),_=j.useRef(),I=j.useRef(),D=j.useRef(null),U=j.useMemo(()=>Z0("jitsiMeeting"),[Z0]);j.useEffect(()=>{mP(t,c,pP(e)).then(v=>{_.current=v,w(!0)}).catch(v=>console.error(v.message))},[]);const z=j.useCallback(v=>{I.current=new v(t,{roomName:e,configOverwrite:n,interfaceConfigOverwrite:r,jwt:s,invitees:i,devices:a,userInfo:o,release:c,lang:d,parentNode:D.current}),N(!1),I.current&&(typeof m=="function"&&m(I.current),I.current.on("readyToClose",()=>{typeof p=="function"&&p()}),D.current&&typeof y=="function"&&y(D.current))},[I,D,m,p,y,t,e,n,r,s,i,a,o,c,d]);j.useEffect(()=>{A&&!I.current&&_.current&&z(_.current)},[A,z]);const T=j.useCallback(()=>!f||!E||I.current?null:u.jsx(f,{},void 0),[f,I.current]);return u.jsxs(u.Fragment,{children:[T(),u.jsx("div",{id:U,ref:D},U)]},void 0)},vP="meet.jit.si";function _P(){var r;const{user:t}=Rs(),[e,n]=j.useState("");return j.useEffect(()=>{const s=Date.now(),i=Math.random().toString(36).substring(7);n(`dealflow-${s}-${i}`)},[]),e?u.jsx("div",{className:"h-full",children:u.jsx(yP,{domain:vP,roomName:e,configOverwrite:{startWithAudioMuted:!0,disableModeratorIndicator:!0,startScreenSharing:!0,enableEmailInStats:!1,prejoinPageEnabled:!1,disableDeepLinking:!0},interfaceConfigOverwrite:{DISABLE_JOIN_LEAVE_NOTIFICATIONS:!0,MOBILE_APP_PROMO:!1,HIDE_INVITE_MORE_HEADER:!0,SHOW_CHROME_EXTENSION_BANNER:!1},userInfo:{displayName:(t==null?void 0:t.fullName)||"Deal Room User",email:(r=t==null?void 0:t.emailAddresses[0])==null?void 0:r.emailAddress},getIFrameRef:s=>{s.style.height="100%",s.style.width="100%"}})}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:"Initializing video conference..."})})}function St(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xP(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const $u=43200,X0=1440;let wP={};function EP(){return wP}function J0(t){const e=St(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uc(t,e){const n=St(t),r=St(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function TP(t){return xP(t,Date.now())}function SP(t,e){const n=St(t),r=St(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function bP(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function kP(t,e){return+St(t)-+St(e)}function IP(t){const e=St(t);return e.setHours(23,59,59,999),e}function NP(t){const e=St(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function CP(t){const e=St(t);return+IP(e)==+NP(e)}function AP(t,e){const n=St(t),r=St(e),s=uc(n,r),i=Math.abs(SP(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let o=uc(n,r)===-s;CP(St(t))&&i===1&&uc(t,r)===1&&(o=!1),a=s*(i-Number(o))}return a===0?0:a}function RP(t,e,n){const r=kP(t,e)/1e3;return bP(n==null?void 0:n.roundingMethod)(r)}const PP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jP=(t,e,n)=>{let r;const s=PP[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function yf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VP={date:yf({formats:DP,defaultWidth:"full"}),time:yf({formats:OP,defaultWidth:"full"}),dateTime:yf({formats:MP,defaultWidth:"full"})},LP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UP=(t,e,n,r)=>LP[t];function co(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const FP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$P={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HP=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KP={ordinalNumber:HP,era:co({values:FP,defaultWidth:"wide"}),quarter:co({values:zP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:co({values:$P,defaultWidth:"wide"}),day:co({values:BP,defaultWidth:"wide"}),dayPeriod:co({values:qP,defaultWidth:"wide",formattingValues:WP,defaultFormattingWidth:"wide"})};function ho(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?QP(o,m=>m.test(a)):GP(o,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function GP(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function QP(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function YP(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const ZP=/^(\d+)(th|st|nd|rd)?/i,XP=/\d+/i,JP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ej={any:[/^b/i,/^(a|c)/i]},tj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nj={any:[/1/i,/2/i,/3/i,/4/i]},rj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ij={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uj={ordinalNumber:YP({matchPattern:ZP,parsePattern:XP,valueCallback:t=>parseInt(t,10)}),era:ho({matchPatterns:JP,defaultMatchWidth:"wide",parsePatterns:ej,defaultParseWidth:"any"}),quarter:ho({matchPatterns:tj,defaultMatchWidth:"wide",parsePatterns:nj,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ho({matchPatterns:rj,defaultMatchWidth:"wide",parsePatterns:sj,defaultParseWidth:"any"}),day:ho({matchPatterns:ij,defaultMatchWidth:"wide",parsePatterns:aj,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:oj,defaultMatchWidth:"any",parsePatterns:lj,defaultParseWidth:"any"})},cj={code:"en-US",formatDistance:jP,formatLong:VP,formatRelative:UP,localize:KP,match:uj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q1(t,e,n){const r=EP(),s=(n==null?void 0:n.locale)??r.locale??cj,i=2520,a=uc(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,d;a>0?(c=St(e),d=St(t)):(c=St(t),d=St(e));const f=RP(d,c),m=(J0(d)-J0(c))/1e3,p=Math.round((f-m)/60);let y;if(p<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,o):f<10?s.formatDistance("lessThanXSeconds",10,o):f<20?s.formatDistance("lessThanXSeconds",20,o):f<40?s.formatDistance("halfAMinute",0,o):f<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):p===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",p,o);if(p<45)return s.formatDistance("xMinutes",p,o);if(p<90)return s.formatDistance("aboutXHours",1,o);if(p<X0){const E=Math.round(p/60);return s.formatDistance("aboutXHours",E,o)}else{if(p<i)return s.formatDistance("xDays",1,o);if(p<$u){const E=Math.round(p/X0);return s.formatDistance("xDays",E,o)}else if(p<$u*2)return y=Math.round(p/$u),s.formatDistance("aboutXMonths",y,o)}if(y=AP(d,c),y<12){const E=Math.round(p/$u);return s.formatDistance("xMonths",E,o)}else{const E=y%12,N=Math.trunc(y/12);return E<3?s.formatDistance("aboutXYears",N,o):E<9?s.formatDistance("overXYears",N,o):s.formatDistance("almostXYears",N+1,o)}}function wg(t,e){return Q1(t,TP(t),e)}function Y1(){const[t,e]=j.useState("video"),[n,r]=j.useState(""),[s,i]=j.useState([]),a=()=>{n.trim()&&(i(c=>[...c,{id:Date.now().toString(),content:n,sender:"local",timestamp:new Date}]),r(""))},o=()=>u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:s.map(c=>u.jsx("div",{className:`flex ${c.sender==="local"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${c.sender==="local"?"bg-blue-600 text-white":"bg-gray-100"}`,children:[u.jsx("p",{children:c.content}),u.jsx("span",{className:"text-xs opacity-75",children:wg(c.timestamp,{addSuffix:!0})})]})},c.id))}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),onKeyPress:c=>c.key==="Enter"&&a(),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:a,className:"gradient-btn",children:u.jsx(gg,{className:"w-5 h-5"})})]})})]});return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden h-[600px] flex flex-col",children:[u.jsx("div",{className:"flex border-b",children:[{id:"video",icon:xg,label:"Video"},{id:"audio",icon:ZR,label:"Audio"},{id:"chat",icon:ui,label:"Chat"},{id:"transcript",icon:fs,label:"Transcript"}].map(c=>u.jsxs("button",{onClick:()=>e(c.id),className:`flex-1 p-3 flex flex-col items-center gap-1 transition-colors ${t===c.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,title:c.label,children:[u.jsx(c.icon,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs",children:c.label})]},c.id))}),u.jsxs("div",{className:"flex-1",children:[t==="video"&&u.jsx(_P,{}),t==="audio"&&u.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Audio conference feature coming soon"}),t==="chat"&&o(),t==="transcript"&&u.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Transcript feature coming soon"})]})]})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(e_||(e_={}));var t_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(t_||(t_={}));var n_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(n_||(n_={}));var r_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(r_||(r_={}));var Bc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(Bc||(Bc={}));var s_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(s_||(s_={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class i_ extends ml{constructor(e,n){super(e),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="https://generativelanguage.googleapis.com",hj="v1",fj="0.2.1",mj="genai-js";var ci;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ci||(ci={}));class Hl{constructor(e,n,r,s){this.model=e,this.task=n,this.apiKey=r,this.stream=s}toString(){let e=`${dj}/${hj}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}function pj(){return`${mj}/${fj}`}async function Kl(t,e,n){let r;try{if(r=await fetch(t.toString(),Object.assign(Object.assign({},gj(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":pj(),"x-goog-api-key":t.apiKey},body:e})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new ml(`Error fetching from ${t.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function gj(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Z1(t.candidates[0]))throw new i_(`${qc(t)}`,t);return yj(t)}else if(t.promptFeedback)throw new i_(`Text not available. ${qc(t)}`,t);return""},t}function yj(t){var e,n,r,s;return!((s=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?t.candidates[0].content.parts[0].text:""}const vj=[Bc.RECITATION,Bc.SAFETY];function Z1(t){return!!t.finishReason&&vj.includes(t.finishReason)}function qc(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Z1(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function pl(t){return this instanceof pl?(this.v=t,this):new pl(t)}function _j(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(p){r[p]&&(s[p]=function(y){return new Promise(function(E,N){i.push([p,y,E,N])>1||o(p,y)})})}function o(p,y){try{c(r[p](y))}catch(E){m(i[0][3],E)}}function c(p){p.value instanceof pl?Promise.resolve(p.value.v).then(d,f):m(i[0][2],p)}function d(p){o("next",p)}function f(p){o("throw",p)}function m(p,y){p(y),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function xj(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Tj(e),[r,s]=n.tee();return{stream:Ej(r),response:wj(s)}}async function wj(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Eg(Sj(e));e.push(s)}}function Ej(t){return _j(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield pl(n.read());if(s)break;yield yield pl(Eg(r))}})}function Tj(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:a,done:o})=>{if(o){if(s.trim()){r.error(new ml("Failed to parse stream"));return}r.close();return}s+=a;let c=s.match(a_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new ml(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),s=s.substring(c[0].length),c=s.match(a_)}return i()})}}})}function Sj(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const a of s.content.parts)a.text&&(n.candidates[i].content.parts[0].text+=a.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(t,e,n,r){const s=new Hl(e,ci.STREAM_GENERATE_CONTENT,t,!0),i=await Kl(s,JSON.stringify(n),r);return xj(i)}async function J1(t,e,n,r){const s=new Hl(e,ci.GENERATE_CONTENT,t,!1),a=await(await Kl(s,JSON.stringify(n),r)).json();return{response:Eg(a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){let n=[];if(typeof t=="string")n=[{text:t}];else for(const r of t)typeof r=="string"?n.push({text:r}):n.push(r);return{role:e,parts:n}}function vf(t){return t.contents?t:{contents:[Uo(t,"user")]}}function bj(t){return typeof t=="string"||Array.isArray(t)?{content:Uo(t,"user")}:t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="SILENT_ERROR";class kj{constructor(e,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return Uo(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r;await this._sendPromise;const s=Uo(e,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let a;return this._sendPromise=this._sendPromise.then(()=>J1(this._apiKey,this.model,i,this.requestOptions)).then(o=>{var c;if(o.response.candidates&&o.response.candidates.length>0){this._history.push(s);const d=Object.assign({parts:[],role:"model"},(c=o.response.candidates)===null||c===void 0?void 0:c[0].content);this._history.push(d)}else{const d=qc(o.response);d&&console.warn(`sendMessage() was unsuccessful. ${d}. Inspect response object for details.`)}a=o}),await this._sendPromise,a}async sendMessageStream(e){var n,r;await this._sendPromise;const s=Uo(e,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},a=X1(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>a).catch(o=>{throw new Error(o_)}).then(o=>o.response).then(o=>{if(o.candidates&&o.candidates.length>0){this._history.push(s);const c=Object.assign({},o.candidates[0].content);c.role||(c.role="model"),this._history.push(c)}else{const c=qc(o);c&&console.warn(`sendMessageStream() was unsuccessful. ${c}. Inspect response object for details.`)}}).catch(o=>{o.message!==o_&&console.error(o)}),a}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e,n,r){const s=new Hl(e,ci.COUNT_TOKENS,t,!1);return(await Kl(s,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e,n,r){const s=new Hl(e,ci.EMBED_CONTENT,t,!1);return(await Kl(s,JSON.stringify(n),r)).json()}async function Cj(t,e,n,r){const s=new Hl(e,ci.BATCH_EMBED_CONTENTS,t,!1),i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Kl(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(e){const n=vf(e);return J1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(e){const n=vf(e);return X1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(e){return new kj(this.apiKey,this.model,e,this.requestOptions)}async countTokens(e){const n=vf(e);return Ij(this.apiKey,this.model,n)}async embedContent(e){const n=bj(e);return Nj(this.apiKey,this.model,n)}async batchEmbedContents(e){return Cj(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ml("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Aj(this.apiKey,e,n)}}const Pj=new Rj("AIzaSyBKTGDc8RasTCKNfI4BCDRTH31AMdXNYIk");async function Tg(t){try{return(await(await Pj.getGenerativeModel({model:"gemini-pro"}).startChat({history:[{role:"user",parts:"You are DealFlow GPT, an AI assistant specialized in investment banking, deal structuring, and financial advisory. Be concise and professional."},{role:"model",parts:"Understood. I am DealFlow GPT, ready to assist with investment banking, deal structuring, and financial advisory matters."}]}).sendMessage(t)).response).text()}catch(e){return console.error("Error calling Gemini AI:",e),"I apologize, but I encountered an error. Please try again."}}const jj=[{id:"ma",name:"Mergers and Acquisitions (M&A)",icon:"🤝",jurisdictions:["US","EU","UK","APAC"]},{id:"real-estate",name:"Real Estate Transactions",icon:"🏢",jurisdictions:["US","EU","UK","UAE"]},{id:"legal",name:"Legal Services",icon:"⚖️",jurisdictions:["US","EU","UK","APAC"]},{id:"financial",name:"Financial Services",icon:"💰",jurisdictions:["US","EU","UK","APAC"]},{id:"vc-pe",name:"Venture Capital and Private Equity",icon:"📈",jurisdictions:["US","EU","UK","APAC"]},{id:"healthcare",name:"Healthcare and Life Sciences",icon:"🏥",jurisdictions:["US","EU","UK","APAC"]},{id:"tech",name:"Technology and Software",icon:"💻",jurisdictions:["US","EU","UK","APAC"]},{id:"manufacturing",name:"Manufacturing and Supply Chain",icon:"🏭",jurisdictions:["US","EU","UK","APAC"]},{id:"education",name:"Education and Training",icon:"🎓",jurisdictions:["US","EU","UK","APAC"]},{id:"government",name:"Government and Public Sector",icon:"🏛️",jurisdictions:["US","EU","UK","APAC"]},{id:"insurance",name:"Insurance",icon:"🛡️",jurisdictions:["US","EU","UK","APAC"]},{id:"retail",name:"Retail and E-Commerce",icon:"🛍️",jurisdictions:["US","EU","UK","APAC"]},{id:"telecom",name:"Telecommunications",icon:"📡",jurisdictions:["US","EU","UK","APAC"]},{id:"construction",name:"Construction and Engineering",icon:"🏗️",jurisdictions:["US","EU","UK","APAC"]},{id:"media",name:"Entertainment and Media",icon:"🎬",jurisdictions:["US","EU","UK","APAC"]},{id:"travel",name:"Travel and Hospitality",icon:"✈️",jurisdictions:["US","EU","UK","APAC"]},{id:"pharma",name:"Pharmaceuticals",icon:"💊",jurisdictions:["US","EU","UK","APAC"]},{id:"automotive",name:"Automotive",icon:"🚗",jurisdictions:["US","EU","UK","APAC"]},{id:"energy",name:"Energy and Utilities",icon:"⚡",jurisdictions:["US","EU","UK","APAC"]},{id:"agriculture",name:"Agriculture and Food Processing",icon:"🌾",jurisdictions:["US","EU","UK","APAC"]},{id:"freelance",name:"Freelancers and Consultants",icon:"👨‍💻",jurisdictions:["US","EU","UK","APAC"]},{id:"real-estate-agent",name:"Real Estate Agents",icon:"🏠",jurisdictions:["US","EU","UK","UAE"]},{id:"small-business",name:"Small Business Owners",icon:"🏪",jurisdictions:["US","EU","UK","APAC"]},{id:"content",name:"Authors and Content Creators",icon:"✍️",jurisdictions:["US","EU","UK","APAC"]},{id:"investors",name:"Investors and Angel Investors",icon:"🦈",jurisdictions:["US","EU","UK","APAC"]},{id:"research",name:"Academic Researchers",icon:"🔬",jurisdictions:["US","EU","UK","APAC"]},{id:"events",name:"Event Organisers",icon:"🎪",jurisdictions:["US","EU","UK","APAC"]},{id:"artists",name:"Artists and Musicians",icon:"🎨",jurisdictions:["US","EU","UK","APAC"]},{id:"online",name:"Online Entrepreneurs",icon:"💻",jurisdictions:["US","EU","UK","APAC"]},{id:"ifa",name:"Independent Financial Advisors",icon:"📊",jurisdictions:["US","EU","UK","APAC"]}];function Dj({onTemplateSelect:t}){const[e,n]=j.useState(""),[r,s]=j.useState(null),[i,a]=j.useState("US"),[o,c]=j.useState(!1),[d,f]=j.useState(null),m=jj.filter(y=>y.name.toLowerCase().includes(e.toLowerCase())),p=async(y,E)=>{s(y.id),c(!0);try{const N=`Generate a detailed deal flow template for ${y.name} in ${E} jurisdiction that covers these 5 stages:
        1. KYC (Know Your Customer)
        2. Due Diligence
        3. Deal Structuring
        4. Negotiation
        5. Signing

        Consider specific ${E} regulatory requirements and industry standards for ${y.name}.
        For each stage, provide:
        - Brief description
        - Key requirements
        - Required documents
        
        Format the response as a structured list for each stage.`,A=await Tg(N),w={stages:[{name:"KYC",description:`Initial verification and background checks (${E} standards)`,requirements:["Identity verification","Background checks","Financial status verification"],documents:["ID documents","Company registration","Financial statements"],status:"active"},{name:"Due Diligence",description:"Comprehensive evaluation of the deal",requirements:["Financial analysis","Market research","Risk assessment"],documents:["Financial records","Market reports","Legal documents"],status:"pending"},{name:"Deal Structuring",description:"Defining deal terms and structure",requirements:["Term sheet preparation","Financial modeling","Legal framework"],documents:["Term sheet","Financial models","Legal agreements"],status:"pending"},{name:"Negotiation",description:"Finalizing terms and conditions",requirements:["Term negotiation","Stakeholder approval","Final pricing"],documents:["Negotiation records","Meeting minutes","Draft agreements"],status:"pending"},{name:"Signing",description:"Executing final agreements",requirements:["Final review","Signature collection","Payment processing"],documents:["Final agreements","Payment proof","Closing documents"],status:"pending"}],currentStage:0};f(w),t({...y,workflow:w,jurisdiction:E})}catch(N){console.error("Error generating template:",N)}finally{c(!1)}};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 h-[600px] flex flex-col",children:[d?u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"Deal Progress"}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Jurisdiction: ",i]})]}),u.jsx("button",{onClick:()=>f(null),className:"text-sm text-gray-500 hover:text-gray-700",children:"Change Template"})]}),u.jsx("div",{className:"space-y-6",children:d.stages.map((y,E)=>u.jsxs("div",{className:`p-4 rounded-lg border ${E===d.currentStage?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.status==="completed"?u.jsx(V1,{className:"w-5 h-5 text-green-500"}):y.status==="active"?u.jsx(Vm,{className:"w-5 h-5 text-blue-500"}):u.jsx(Vm,{className:"w-5 h-5 text-gray-300"}),u.jsx("h3",{className:"font-semibold",children:y.name})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:y.description}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium mb-1",children:"Requirements:"}),u.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:y.requirements.map((N,A)=>u.jsx("li",{children:N},A))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium mb-1",children:"Required Documents:"}),u.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:y.documents.map((N,A)=>u.jsx("li",{children:N},A))})]})]}),E===d.currentStage&&u.jsx("button",{className:"mt-4 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start This Stage"})]},E))})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h2",{className:"font-bold mb-4 flex items-center gap-2",children:[u.jsx(iP,{className:"w-5 h-5"}),"Deal Flow Templates"]}),u.jsxs("div",{className:"space-y-4 mb-4",children:[u.jsx("input",{type:"text",placeholder:"Search templates...",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e,onChange:y=>n(y.target.value)}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(F1,{className:"w-5 h-5 text-gray-400"}),u.jsxs("select",{className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:y=>a(y.target.value),children:[u.jsx("option",{value:"US",children:"United States"}),u.jsx("option",{value:"EU",children:"European Union"}),u.jsx("option",{value:"UK",children:"United Kingdom"}),u.jsx("option",{value:"APAC",children:"Asia Pacific"}),u.jsx("option",{value:"UAE",children:"United Arab Emirates"})]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx("div",{className:"grid gap-2",children:m.map(y=>u.jsxs("button",{onClick:()=>p(y,i),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition-colors ${r===y.id?"bg-blue-50 text-blue-600":"hover:bg-gray-50"}`,children:[u.jsx("span",{className:"text-2xl",children:y.icon}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:y.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Available in: ",y.jurisdictions.join(", ")]})]}),u.jsx(LR,{className:"w-5 h-5 text-gray-400"})]},y.id))})})]}),o&&u.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg flex items-center gap-2",children:[u.jsx(fs,{className:"w-5 h-5 text-blue-500 animate-pulse"}),u.jsx("span",{className:"text-blue-600",children:"Generating template..."})]})]})}function eT(){const[t,e]=j.useState([{role:"assistant",content:"I'm here to help with your deal process. What would you like to know?"}]),[n,r]=j.useState(""),[s,i]=j.useState(!1),a=async()=>{if(!n.trim()||s)return;const o=n.trim();r(""),e(c=>[...c,{role:"user",content:o}]),i(!0);try{const c=await Tg(o);e(d=>[...d,{role:"assistant",content:c}])}catch(c){console.error("Error sending message:",c),e(d=>[...d,{role:"assistant",content:"I apologize, but I encountered an error. Please try again."}])}finally{i(!1)}};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:u.jsx(ui,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold",children:"DealFlow GPT"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini AI"})]})]}),u.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg p-4 mb-4 overflow-y-auto space-y-4",children:[t.map((o,c)=>u.jsx("div",{className:`${o.role==="assistant"?"bg-blue-50 text-blue-800":"bg-white text-gray-800"} rounded-lg p-3 shadow-sm`,children:u.jsx("p",{className:"text-sm",children:o.content})},c)),s&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[u.jsx("div",{className:"animate-pulse",children:"●"}),u.jsx("div",{className:"animate-pulse animation-delay-200",children:"●"}),u.jsx("div",{className:"animate-pulse animation-delay-400",children:"●"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:n,onChange:o=>r(o.target.value),onKeyPress:o=>o.key==="Enter"&&a(),placeholder:"Ask anything about the deal...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s}),u.jsx("button",{onClick:a,disabled:s,className:"gradient-btn",children:u.jsx(gg,{className:"w-5 h-5"})})]})]})}function tT({users:t}){const[e,n]=j.useState(!1),r=window.location.href,s=()=>{navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)};return u.jsx("div",{className:"bg-white p-6 mb-6 rounded-lg shadow-sm",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"flex -space-x-4",children:t.map(i=>{const a=i.id||i.userId||Math.random().toString(36).substr(2,9);return u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i.avatar,alt:i.name,className:"w-12 h-12 rounded-full border-2 border-white"}),i.status==="online"&&u.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),u.jsxs("div",{className:"absolute invisible group-hover:visible bg-gray-900 text-white text-xs rounded py-1 px-2 -bottom-8 left-1/2 transform -translate-x-1/2 whitespace-nowrap z-10",children:[i.name," ",i.role&&`• ${i.role}`]})]},a)})}),u.jsx("button",{onClick:s,className:"flex items-center gap-2 bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 transition-colors",children:e?u.jsxs(u.Fragment,{children:[u.jsx(MR,{className:"w-4 h-4"}),"Copied!"]}):u.jsxs(u.Fragment,{children:[u.jsx(Bd,{className:"w-4 h-4"}),"Share Deal Room"]})})]})})}function Oj({onSubmit:t}){const[e,n]=j.useState({type:"primary",minInvestment:"",targetRaise:"",currency:"USD",spvName:"",jurisdiction:"US",investorLimit:"",description:""}),r=s=>{s.preventDefault(),t(e)};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Syndicate Setup"}),u.jsxs("form",{onSubmit:r,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deal Type"}),u.jsxs("select",{value:e.type,onChange:s=>n({...e,type:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"primary",children:"Primary (New Shares)"}),u.jsx("option",{value:"secondary",children:"Secondary (Existing Shares)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SPV Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",value:e.spvName,onChange:s=>n({...e,spvName:s.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter SPV name"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Investment"}),u.jsxs("div",{className:"relative",children:[u.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:e.minInvestment,onChange:s=>n({...e,minInvestment:s.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter minimum investment"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Raise"}),u.jsxs("div",{className:"relative",children:[u.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:e.targetRaise,onChange:s=>n({...e,targetRaise:s.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter target raise amount"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jurisdiction"}),u.jsxs("div",{className:"relative",children:[u.jsx(F1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsxs("select",{value:e.jurisdiction,onChange:s=>n({...e,jurisdiction:s.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"US",children:"United States"}),u.jsx("option",{value:"UK",children:"United Kingdom"}),u.jsx("option",{value:"EU",children:"European Union"}),u.jsx("option",{value:"SG",children:"Singapore"}),u.jsx("option",{value:"HK",children:"Hong Kong"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Investor Limit"}),u.jsxs("div",{className:"relative",children:[u.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:e.investorLimit,onChange:s=>n({...e,investorLimit:s.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter maximum number of investors"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deal Description"}),u.jsx("textarea",{value:e.description,onChange:s=>n({...e,description:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Provide a detailed description of the deal"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",className:"gradient-btn",children:"Continue to Fee Structure"})})]})]})}function Mj({syndicateDetails:t,onSubmit:e}){const[n,r]=j.useState({carried_interest:"",management_fee:"",deal_expenses:"",setup_fee:"",admin_fee:"",legal_fee:"",incentives:[{recipient:"",percentage:"",description:""}]}),s=()=>{r(d=>({...d,incentives:[...d.incentives,{recipient:"",percentage:"",description:""}]}))},i=d=>{r(f=>({...f,incentives:f.incentives.filter((m,p)=>p!==d)}))},a=(d,f,m)=>{r(p=>({...p,incentives:p.incentives.map((y,E)=>E===d?{...y,[f]:m}:y)}))},o=()=>{e(n)},c=()=>{const d=Number(n.setup_fee)||0,f=Number(n.admin_fee)||0;return d+f};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Fee Structure"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carried Interest (%)"}),u.jsxs("div",{className:"relative",children:[u.jsx(gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:n.carried_interest,onChange:d=>r({...n,carried_interest:d.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 20"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Management Fee (% per year)"}),u.jsxs("div",{className:"relative",children:[u.jsx(gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:n.management_fee,onChange:d=>r({...n,management_fee:d.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 2"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Setup Fee"}),u.jsxs("div",{className:"relative",children:[u.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:n.setup_fee,onChange:d=>r({...n,setup_fee:d.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter setup fee amount"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Administrative Fee"}),u.jsxs("div",{className:"relative",children:[u.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:n.admin_fee,onChange:d=>r({...n,admin_fee:d.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter administrative fee amount"})]})]})]}),u.jsxs("div",{className:"border-t pt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-medium",children:"Incentive Structure"}),u.jsx("button",{type:"button",onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium",children:"Add Incentive"})]}),u.jsx("div",{className:"space-y-4",children:n.incentives.map((d,f)=>u.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient"}),u.jsx("input",{type:"text",value:d.recipient,onChange:m=>a(f,"recipient",m.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter recipient name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Percentage"}),u.jsxs("div",{className:"relative",children:[u.jsx(gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"number",value:d.percentage,onChange:m=>a(f,"percentage",m.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter percentage"})]})]}),u.jsx("div",{className:"flex items-end",children:u.jsx("button",{type:"button",onClick:()=>i(f),className:"px-4 py-2 text-red-600 hover:text-red-700 font-medium",children:"Remove"})})]},f))})]}),(t==null?void 0:t.targetRaise)&&u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex items-start gap-3",children:[u.jsx(Wl,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-blue-600 mb-1",children:"Fee Structure Summary"}),u.jsxs("p",{className:"text-sm text-blue-600",children:["Based on your target raise of ",t.currency," ",t.targetRaise.toLocaleString(),", the estimated total fees would be ",t.currency," ",c().toLocaleString()," upfront",n.carried_interest&&` plus ${n.carried_interest}% carried interest`,n.management_fee&&` and ${n.management_fee}% annual management fee`,"."]})]})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{type:"button",className:"px-4 py-2 text-gray-600 hover:text-gray-700",children:"Save as Draft"}),u.jsx("button",{type:"button",onClick:o,className:"gradient-btn",children:"Continue to Investor Management"})]})]})]})}function Vj(){const[t,e]=j.useState([{id:1,name:"John Smith",email:"john@example.com",amount:5e4,status:"pending",kycStatus:"completed",documents:["passport.pdf","proof_of_funds.pdf"]}]),[n,r]=j.useState(""),[s,i]=j.useState("all"),a=t.filter(o=>{const c=o.name.toLowerCase().includes(n.toLowerCase())||o.email.toLowerCase().includes(n.toLowerCase()),d=s==="all"||o.status===s;return c&&d});return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Investor Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[u.jsx(uP,{className:"w-5 h-5"}),"Import"]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[u.jsx(L1,{className:"w-5 h-5"}),"Export"]}),u.jsxs("button",{className:"gradient-btn",children:[u.jsx(Fr,{className:"w-5 h-5"}),"Add Investor"]})]})]}),u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search investors...",value:n,onChange:o=>r(o.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(U1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsxs("select",{value:s,onChange:o=>i(o.target.value),className:"pl-10 pr-8 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none bg-white",children:[u.jsx("option",{value:"all",children:"All Statuses"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"text-left py-3 font-semibold text-gray-600",children:"Investor"}),u.jsx("th",{className:"text-left py-3 font-semibold text-gray-600",children:"Amount"}),u.jsx("th",{className:"text-left py-3 font-semibold text-gray-600",children:"Status"}),u.jsx("th",{className:"text-left py-3 font-semibold text-gray-600",children:"KYC Status"}),u.jsx("th",{className:"text-left py-3 font-semibold text-gray-600",children:"Documents"}),u.jsx("th",{className:"text-left py-3 font-semibold text-gray-600",children:"Actions"})]})}),u.jsx("tbody",{children:a.map(o=>u.jsxs("tr",{className:"border-b last:border-0",children:[u.jsx("td",{className:"py-4",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:o.name}),u.jsx("p",{className:"text-sm text-gray-500",children:o.email})]})}),u.jsx("td",{className:"py-4",children:u.jsxs("span",{className:"font-medium",children:["$",o.amount.toLocaleString()]})}),u.jsx("td",{className:"py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.status==="pending"?"bg-yellow-100 text-yellow-700":o.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})}),u.jsx("td",{className:"py-4",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.kycStatus==="completed"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.kycStatus.charAt(0).toUpperCase()+o.kycStatus.slice(1)})}),u.jsx("td",{className:"py-4",children:u.jsx("div",{className:"flex flex-col gap-1",children:o.documents.map((c,d)=>u.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 text-left",children:c},d))})}),u.jsx("td",{className:"py-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Edit"}),u.jsx("button",{className:"px-3 py-1 text-sm text-red-600 hover:text-red-700 font-medium",children:"Remove"})]})})]},o.id))})]})})]})}var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Lj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,f=i>>2,m=(i&3)<<4|o>>4;let p=(o&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||d==null||m==null)throw new Uj;const p=i<<2|o>>4;if(r.push(p),d!==64){const y=o<<4&240|d>>2;if(r.push(y),m!==64){const E=d<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Uj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fj=function(t){const e=nT(t);return rT.encodeByteArray(e,!0)},Wc=function(t){return Fj(t).replace(/\./g,"")},zj=function(t){try{return rT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=()=>$j().__FIREBASE_DEFAULTS__,qj=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zj(t[1]);return e&&JSON.parse(e)},Sg=()=>{try{return Bj()||qj()||Wj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hj=t=>{var e,n;return(n=(e=Sg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sT=t=>{const e=Hj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iT=()=>{var t;return(t=Sg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qj(){var t;const e=(t=Sg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(window.process)==="[object process]"}catch{return!1}}function Yj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zj(){return!Qj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function lT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Xj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Jj,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wd.prototype.create)}}class Wd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?e2(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new zr(s,o,r)}}function e2(t,e){return t.replace(t2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const t2=/\{\$([^}]+)}/g;function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(u_(i)&&u_(a)){if(!Hc(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1e3,r2=2,s2=4*60*60*1e3,i2=.5;function c_(t,e=n2,n=r2){const r=e*Math.pow(n,t),s=Math.round(i2*r*(Math.random()-.5)*2);return Math.min(s2,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l2(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(t){return t===Bs?void 0:t}function l2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const c2={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},d2=Re.INFO,h2={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},f2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=h2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=f2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const m2=(t,e)=>e.some(n=>t instanceof n);let d_,h_;function p2(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Lm=new WeakMap,cT=new WeakMap,_f=new WeakMap,kg=new WeakMap;function y2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ms(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function v2(t){if(Lm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Lm.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _2(t){Um=t(Um)}function x2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xf(this),e,...n);return cT.set(r,e.sort?e.sort():[e]),ms(r)}:g2().includes(t)?function(...e){return t.apply(xf(this),e),ms(uT.get(this))}:function(...e){return ms(t.apply(xf(this),e))}}function w2(t){return typeof t=="function"?x2(t):(t instanceof IDBTransaction&&v2(t),m2(t,p2())?new Proxy(t,Um):t)}function ms(t){if(t instanceof IDBRequest)return y2(t);if(_f.has(t))return _f.get(t);const e=w2(t);return e!==t&&(_f.set(t,e),kg.set(e,t)),e}const xf=t=>kg.get(t);function dT(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=ms(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ms(a.result),c.oldVersion,c.newVersion,ms(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const E2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],wf=new Map;function f_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=T2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||E2.includes(n)))return;const i=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),s&&c.done]))[0]};return wf.set(e,i),i}_2(t=>({...t,get:(e,n,r)=>f_(e,n)||t.get(e,n,r),has:(e,n)=>!!f_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",m_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new bg("@firebase/app"),k2="@firebase/app-compat",I2="@firebase/analytics-compat",N2="@firebase/analytics",C2="@firebase/app-check-compat",A2="@firebase/app-check",R2="@firebase/auth",P2="@firebase/auth-compat",j2="@firebase/database",D2="@firebase/data-connect",O2="@firebase/database-compat",M2="@firebase/functions",V2="@firebase/functions-compat",L2="@firebase/installations",U2="@firebase/installations-compat",F2="@firebase/messaging",z2="@firebase/messaging-compat",$2="@firebase/performance",B2="@firebase/performance-compat",q2="@firebase/remote-config",W2="@firebase/remote-config-compat",H2="@firebase/storage",K2="@firebase/storage-compat",G2="@firebase/firestore",Q2="@firebase/vertexai-preview",Y2="@firebase/firestore-compat",Z2="firebase",X2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",J2={[Fm]:"fire-core",[k2]:"fire-core-compat",[N2]:"fire-analytics",[I2]:"fire-analytics-compat",[A2]:"fire-app-check",[C2]:"fire-app-check-compat",[R2]:"fire-auth",[P2]:"fire-auth-compat",[j2]:"fire-rtdb",[D2]:"fire-data-connect",[O2]:"fire-rtdb-compat",[M2]:"fire-fn",[V2]:"fire-fn-compat",[L2]:"fire-iid",[U2]:"fire-iid-compat",[F2]:"fire-fcm",[z2]:"fire-fcm-compat",[$2]:"fire-perf",[B2]:"fire-perf-compat",[q2]:"fire-rc",[W2]:"fire-rc-compat",[H2]:"fire-gcs",[K2]:"fire-gcs-compat",[G2]:"fire-fst",[Y2]:"fire-fst-compat",[Q2]:"fire-vertex","fire-js":"fire-js",[Z2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,eD=new Map,$m=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if($m.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,t);for(const n of Kc.values())p_(n,t);for(const n of eD.values())p_(n,t);return!0}function Ma(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Wd("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=X2;function fT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ps.create("bad-app-name",{appName:String(s)});if(n||(n=iT()),!n)throw ps.create("no-options");const i=Kc.get(s);if(i){if(Hc(n,i.options)&&Hc(r,i.config))return i;throw ps.create("duplicate-app",{appName:s})}const a=new u2(s);for(const c of $m.values())a.addComponent(c);const o=new nD(n,r,a);return Kc.set(s,o),o}function Ig(t=zm){const e=Kc.get(t);if(!e&&t===zm&&iT())return fT();if(!e)throw ps.create("no-app",{appName:t});return e}function Rn(t,e,n){var r;let s=(r=J2[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(o.join(" "));return}Dr(new ur(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebase-heartbeat-database",sD=1,gl="firebase-heartbeat-store";let Ef=null;function mT(){return Ef||(Ef=dT(rD,sD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),Ef}async function iD(t){try{const n=(await mT()).transaction(gl),r=await n.objectStore(gl).get(pT(t));return await n.done,r}catch(e){if(e instanceof zr)jr.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function g_(t,e){try{const r=(await mT()).transaction(gl,"readwrite");await r.objectStore(gl).put(e,pT(t)),await r.done}catch(n){if(n instanceof zr)jr.warn(n.message);else{const r=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function pT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,oD=30*24*60*60*1e3;class lD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=y_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=oD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:r,unsentEntries:s}=uD(this._heartbeatsCache.heartbeats),i=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return jr.warn(n),""}}}function y_(){return new Date().toISOString().substring(0,10)}function uD(t,e=aD){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),v_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?lT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return g_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v_(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){Dr(new ur("platform-logger",e=>new S2(e),"PRIVATE")),Dr(new ur("heartbeat",e=>new lD(e),"PRIVATE")),Rn(Fm,m_,t),Rn(Fm,m_,"esm2017"),Rn("fire-js","")}dD("");var __=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,gT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function S(){}S.prototype=v.prototype,T.D=v.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(k,P,R){for(var b=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)b[fe-2]=arguments[fe];return v.prototype[P].apply(k,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,S){S||(S=0);var k=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)k[P]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(P=0;16>P;++P)k[P]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=T.g[0],S=T.g[1],P=T.g[2];var R=T.g[3],b=v+(R^S&(P^R))+k[0]+3614090360&4294967295;v=S+(b<<7&4294967295|b>>>25),b=R+(P^v&(S^P))+k[1]+3905402710&4294967295,R=v+(b<<12&4294967295|b>>>20),b=P+(S^R&(v^S))+k[2]+606105819&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(v^P&(R^v))+k[3]+3250441966&4294967295,S=P+(b<<22&4294967295|b>>>10),b=v+(R^S&(P^R))+k[4]+4118548399&4294967295,v=S+(b<<7&4294967295|b>>>25),b=R+(P^v&(S^P))+k[5]+1200080426&4294967295,R=v+(b<<12&4294967295|b>>>20),b=P+(S^R&(v^S))+k[6]+2821735955&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(v^P&(R^v))+k[7]+4249261313&4294967295,S=P+(b<<22&4294967295|b>>>10),b=v+(R^S&(P^R))+k[8]+1770035416&4294967295,v=S+(b<<7&4294967295|b>>>25),b=R+(P^v&(S^P))+k[9]+2336552879&4294967295,R=v+(b<<12&4294967295|b>>>20),b=P+(S^R&(v^S))+k[10]+4294925233&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(v^P&(R^v))+k[11]+2304563134&4294967295,S=P+(b<<22&4294967295|b>>>10),b=v+(R^S&(P^R))+k[12]+1804603682&4294967295,v=S+(b<<7&4294967295|b>>>25),b=R+(P^v&(S^P))+k[13]+4254626195&4294967295,R=v+(b<<12&4294967295|b>>>20),b=P+(S^R&(v^S))+k[14]+2792965006&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(v^P&(R^v))+k[15]+1236535329&4294967295,S=P+(b<<22&4294967295|b>>>10),b=v+(P^R&(S^P))+k[1]+4129170786&4294967295,v=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(v^S))+k[6]+3225465664&4294967295,R=v+(b<<9&4294967295|b>>>23),b=P+(v^S&(R^v))+k[11]+643717713&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^v&(P^R))+k[0]+3921069994&4294967295,S=P+(b<<20&4294967295|b>>>12),b=v+(P^R&(S^P))+k[5]+3593408605&4294967295,v=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(v^S))+k[10]+38016083&4294967295,R=v+(b<<9&4294967295|b>>>23),b=P+(v^S&(R^v))+k[15]+3634488961&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^v&(P^R))+k[4]+3889429448&4294967295,S=P+(b<<20&4294967295|b>>>12),b=v+(P^R&(S^P))+k[9]+568446438&4294967295,v=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(v^S))+k[14]+3275163606&4294967295,R=v+(b<<9&4294967295|b>>>23),b=P+(v^S&(R^v))+k[3]+4107603335&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^v&(P^R))+k[8]+1163531501&4294967295,S=P+(b<<20&4294967295|b>>>12),b=v+(P^R&(S^P))+k[13]+2850285829&4294967295,v=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(v^S))+k[2]+4243563512&4294967295,R=v+(b<<9&4294967295|b>>>23),b=P+(v^S&(R^v))+k[7]+1735328473&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^v&(P^R))+k[12]+2368359562&4294967295,S=P+(b<<20&4294967295|b>>>12),b=v+(S^P^R)+k[5]+4294588738&4294967295,v=S+(b<<4&4294967295|b>>>28),b=R+(v^S^P)+k[8]+2272392833&4294967295,R=v+(b<<11&4294967295|b>>>21),b=P+(R^v^S)+k[11]+1839030562&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^v)+k[14]+4259657740&4294967295,S=P+(b<<23&4294967295|b>>>9),b=v+(S^P^R)+k[1]+2763975236&4294967295,v=S+(b<<4&4294967295|b>>>28),b=R+(v^S^P)+k[4]+1272893353&4294967295,R=v+(b<<11&4294967295|b>>>21),b=P+(R^v^S)+k[7]+4139469664&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^v)+k[10]+3200236656&4294967295,S=P+(b<<23&4294967295|b>>>9),b=v+(S^P^R)+k[13]+681279174&4294967295,v=S+(b<<4&4294967295|b>>>28),b=R+(v^S^P)+k[0]+3936430074&4294967295,R=v+(b<<11&4294967295|b>>>21),b=P+(R^v^S)+k[3]+3572445317&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^v)+k[6]+76029189&4294967295,S=P+(b<<23&4294967295|b>>>9),b=v+(S^P^R)+k[9]+3654602809&4294967295,v=S+(b<<4&4294967295|b>>>28),b=R+(v^S^P)+k[12]+3873151461&4294967295,R=v+(b<<11&4294967295|b>>>21),b=P+(R^v^S)+k[15]+530742520&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^v)+k[2]+3299628645&4294967295,S=P+(b<<23&4294967295|b>>>9),b=v+(P^(S|~R))+k[0]+4096336452&4294967295,v=S+(b<<6&4294967295|b>>>26),b=R+(S^(v|~P))+k[7]+1126891415&4294967295,R=v+(b<<10&4294967295|b>>>22),b=P+(v^(R|~S))+k[14]+2878612391&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~v))+k[5]+4237533241&4294967295,S=P+(b<<21&4294967295|b>>>11),b=v+(P^(S|~R))+k[12]+1700485571&4294967295,v=S+(b<<6&4294967295|b>>>26),b=R+(S^(v|~P))+k[3]+2399980690&4294967295,R=v+(b<<10&4294967295|b>>>22),b=P+(v^(R|~S))+k[10]+4293915773&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~v))+k[1]+2240044497&4294967295,S=P+(b<<21&4294967295|b>>>11),b=v+(P^(S|~R))+k[8]+1873313359&4294967295,v=S+(b<<6&4294967295|b>>>26),b=R+(S^(v|~P))+k[15]+4264355552&4294967295,R=v+(b<<10&4294967295|b>>>22),b=P+(v^(R|~S))+k[6]+2734768916&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~v))+k[13]+1309151649&4294967295,S=P+(b<<21&4294967295|b>>>11),b=v+(P^(S|~R))+k[4]+4149444226&4294967295,v=S+(b<<6&4294967295|b>>>26),b=R+(S^(v|~P))+k[11]+3174756917&4294967295,R=v+(b<<10&4294967295|b>>>22),b=P+(v^(R|~S))+k[2]+718787259&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~v))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var S=v-this.blockSize,k=this.B,P=this.h,R=0;R<v;){if(P==0)for(;R<=S;)s(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<v;)if(k[P++]=T.charCodeAt(R++),P==this.blockSize){s(this,k),P=0;break}}else for(;R<v;)if(k[P++]=T[R++],P==this.blockSize){s(this,k),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var S=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=S&255,S/=256;for(this.u(T),T=Array(16),v=S=0;4>v;++v)for(var k=0;32>k;k+=8)T[S++]=this.g[v]>>>k&255;return T};function i(T,v){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=v(T)}function a(T,v){this.h=v;for(var S=[],k=!0,P=T.length-1;0<=P;P--){var R=T[P]|0;k&&R==v||(S[P]=R,k=!1)}this.g=S}var o={};function c(T){return-128<=T&&128>T?i(T,function(v){return new a([v|0],0>v?-1:0)}):new a([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return A(d(-T));for(var v=[],S=1,k=0;T>=S;k++)v[k]=T/S|0,S*=4294967296;return new a(v,0)}function f(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return A(f(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(v,8)),k=m,P=0;P<T.length;P+=8){var R=Math.min(8,T.length-P),b=parseInt(T.substring(P,P+R),v);8>R?(R=d(Math.pow(v,R)),k=k.j(R).add(d(b))):(k=k.j(S),k=k.add(d(b)))}return k}var m=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(N(this))return-A(this).m();for(var T=0,v=1,S=0;S<this.g.length;S++){var k=this.i(S);T+=(0<=k?k:4294967296+k)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(N(this))return"-"+A(this).toString(T);for(var v=d(Math.pow(T,6)),S=this,k="";;){var P=D(S,v).g;S=w(S,P.j(v));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=P,E(S))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=w(this,T),N(T)?-1:E(T)?0:1};function A(T){for(var v=T.g.length,S=[],k=0;k<v;k++)S[k]=~T.g[k];return new a(S,~T.h).add(p)}t.abs=function(){return N(this)?A(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),S=[],k=0,P=0;P<=v;P++){var R=k+(this.i(P)&65535)+(T.i(P)&65535),b=(R>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);k=b>>>16,R&=65535,b&=65535,S[P]=b<<16|R}return new a(S,S[S.length-1]&-2147483648?-1:0)};function w(T,v){return T.add(A(v))}t.j=function(T){if(E(this)||E(T))return m;if(N(this))return N(T)?A(this).j(A(T)):A(A(this).j(T));if(N(T))return A(this.j(A(T)));if(0>this.l(y)&&0>T.l(y))return d(this.m()*T.m());for(var v=this.g.length+T.g.length,S=[],k=0;k<2*v;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<T.g.length;P++){var R=this.i(k)>>>16,b=this.i(k)&65535,fe=T.i(P)>>>16,xe=T.i(P)&65535;S[2*k+2*P]+=b*xe,_(S,2*k+2*P),S[2*k+2*P+1]+=R*xe,_(S,2*k+2*P+1),S[2*k+2*P+1]+=b*fe,_(S,2*k+2*P+1),S[2*k+2*P+2]+=R*fe,_(S,2*k+2*P+2)}for(k=0;k<v;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=v;k<2*v;k++)S[k]=0;return new a(S,0)};function _(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function I(T,v){this.g=T,this.h=v}function D(T,v){if(E(v))throw Error("division by zero");if(E(T))return new I(m,m);if(N(T))return v=D(A(T),v),new I(A(v.g),A(v.h));if(N(v))return v=D(T,A(v)),new I(A(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,k=v;0>=k.l(T);)S=U(S),k=U(k);var P=z(S,1),R=z(k,1);for(k=z(k,2),S=z(S,2);!E(k);){var b=R.add(k);0>=b.l(T)&&(P=P.add(S),R=b),k=z(k,1),S=z(S,1)}return v=w(T,P.j(v)),new I(P,v)}for(P=m;0<=T.l(v);){for(S=Math.max(1,Math.floor(T.m()/v.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=d(S),b=R.j(v);N(b)||0<b.l(T);)S-=k,R=d(S),b=R.j(v);E(R)&&(R=p),P=P.add(R),T=w(T,b)}return new I(P,T)}t.A=function(T){return D(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),S=[],k=0;k<v;k++)S[k]=this.i(k)&T.i(k);return new a(S,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),S=[],k=0;k<v;k++)S[k]=this.i(k)|T.i(k);return new a(S,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),S=[],k=0;k<v;k++)S[k]=this.i(k)^T.i(k);return new a(S,this.h^T.h)};function U(T){for(var v=T.g.length+1,S=[],k=0;k<v;k++)S[k]=T.i(k)<<1|T.i(k-1)>>>31;return new a(S,T.h)}function z(T,v){var S=v>>5;v%=32;for(var k=T.g.length-S,P=[],R=0;R<k;R++)P[R]=0<v?T.i(R+S)>>>v|T.i(R+S+1)<<32-v:T.i(R+S);return new a(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gT=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,ti=a}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yT,wo,vT,cc,Bm,_T,xT,wT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var M=l[x];if(!(M in g))break e;g=g[M]}l=l[l.length-1],x=g[l],h=h(x),h!=x&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var g=0,x=!1,M={next:function(){if(!x&&g<l.length){var L=g++;return{value:h(L,l[L]),done:!1}}return x=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,g){return l.call.apply(l.bind,arguments)}function m(l,h,g){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,x),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function y(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function E(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(x,M,L){for(var Q=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Q[qe-2]=arguments[qe];return h.prototype[M].apply(x,Q)}}function N(l){const h=l.length;if(0<h){const g=Array(h);for(let x=0;x<h;x++)g[x]=l[x];return g}return[]}function A(l,h){for(let g=1;g<arguments.length;g++){const x=arguments[g];if(c(x)){const M=l.length||0,L=x.length||0;l.length=M+L;for(let Q=0;Q<L;Q++)l[M+Q]=x[Q]}else l.push(x)}}class w{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function I(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var U=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function z(l,h,g){for(const x in l)h.call(g,l[x],x,l)}function T(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function v(l){const h={};for(const g in l)h[g]=l[g];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,h){let g,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(g in x)l[g]=x[g];for(let L=0;L<S.length;L++)g=S[L],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function P(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function R(l){o.setTimeout(()=>{throw l},0)}function b(){var l=ue;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class fe{constructor(){this.h=this.g=null}add(h,g){const x=xe.get();x.set(h,g),this.h?this.h.next=x:this.g=x,this.h=x}}var xe=new w(()=>new Ve,l=>l.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,K=!1,ue=new fe,oe=()=>{const l=o.Promise.resolve(void 0);$e=()=>{l.then(Ne)}};var Ne=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(g){R(g)}var h=xe;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}K=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return l}();function Ct(l,h){if(Be.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(U){e:{try{D(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:At[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ct.aa.h.call(this)}}E(Ct,Be);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Wt="closure_listenable_"+(1e6*Math.random()|0),js=0;function bi(l,h,g,x,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!x,this.ha=M,this.key=++js,this.da=this.fa=!1}function bn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,h,g,x,M){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var Q=De(l,h,x,M);return-1<Q?(h=l[Q],g||(h.fa=!1)):(h=new bi(h,this.src,L,!!x,M),h.fa=g,l.push(h)),h};function Le(l,h){var g=h.type;if(g in l.g){var x=l.g[g],M=Array.prototype.indexOf.call(x,h,void 0),L;(L=0<=M)&&Array.prototype.splice.call(x,M,1),L&&(bn(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function De(l,h,g,x){for(var M=0;M<l.length;++M){var L=l[M];if(!L.da&&L.listener==h&&L.capture==!!g&&L.ha==x)return M}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),We={};function rn(l,h,g,x,M){if(Array.isArray(h)){for(var L=0;L<h.length;L++)rn(l,h[L],g,x,M);return null}return g=de(g),l&&l[Wt]?l.K(h,g,d(x)?!!x.capture:!!x,M):gr(l,h,g,!1,x,M)}function gr(l,h,g,x,M,L){if(!h)throw Error("Invalid event type");var Q=d(M)?!!M.capture:!!M,qe=W(l);if(qe||(l[Xe]=qe=new Yn(l)),g=qe.add(h,g,x,Q,L),g.proxy)return g;if(x=C(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)qt||(M=Q),M===void 0&&(M=!1),l.addEventListener(h.toString(),x,M);else if(l.attachEvent)l.attachEvent(Z(h.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function C(){function l(g){return h.call(l.src,l.listener,g)}const h=G;return l}function O(l,h,g,x,M){if(Array.isArray(h))for(var L=0;L<h.length;L++)O(l,h[L],g,x,M);else x=d(x)?!!x.capture:!!x,g=de(g),l&&l[Wt]?(l=l.i,h=String(h).toString(),h in l.g&&(L=l.g[h],g=De(L,g,x,M),-1<g&&(bn(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete l.g[h],l.h--)))):l&&(l=W(l))&&(h=l.g[h.toString()],l=-1,h&&(l=De(h,g,x,M)),(g=-1<l?h[l]:null)&&V(g))}function V(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Wt])Le(h.i,l);else{var g=l.type,x=l.proxy;h.removeEventListener?h.removeEventListener(g,x,l.capture):h.detachEvent?h.detachEvent(Z(g),x):h.addListener&&h.removeListener&&h.removeListener(x),(g=W(h))?(Le(g,l),g.h==0&&(g.src=null,h[Xe]=null)):bn(l)}}}function Z(l){return l in We?We[l]:We[l]="on"+l}function G(l,h){if(l.da)l=!0;else{h=new Ct(h,this);var g=l.listener,x=l.ha||l.src;l.fa&&V(l),l=g.call(x,h)}return l}function W(l){return l=l[Xe],l instanceof Yn?l:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(l){return typeof l=="function"?l:(l[te]||(l[te]=function(h){return l.handleEvent(h)}),l[te])}function Te(){we.call(this),this.i=new Yn(this),this.M=this,this.F=null}E(Te,we),Te.prototype[Wt]=!0,Te.prototype.removeEventListener=function(l,h,g,x){O(this,l,h,g,x)};function ke(l,h){var g,x=l.F;if(x)for(g=[];x;x=x.F)g.push(x);if(l=l.M,x=h.type||h,typeof h=="string")h=new Be(h,l);else if(h instanceof Be)h.target=h.target||l;else{var M=h;h=new Be(x,l),k(h,M)}if(M=!0,g)for(var L=g.length-1;0<=L;L--){var Q=h.g=g[L];M=Rt(Q,x,!0,h)&&M}if(Q=h.g=l,M=Rt(Q,x,!0,h)&&M,M=Rt(Q,x,!1,h)&&M,g)for(L=0;L<g.length;L++)Q=h.g=g[L],M=Rt(Q,x,!1,h)&&M}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],x=0;x<g.length;x++)bn(g[x]);delete l.g[h],l.h--}}this.F=null},Te.prototype.K=function(l,h,g,x){return this.i.add(String(l),h,!1,g,x)},Te.prototype.L=function(l,h,g,x){return this.i.add(String(l),h,!0,g,x)};function Rt(l,h,g,x){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,L=0;L<h.length;++L){var Q=h[L];if(Q&&!Q.da&&Q.capture==g){var qe=Q.listener,xt=Q.ha||Q.src;Q.fa&&Le(l.i,Q),M=qe.call(xt,x)!==!1&&M}}return M&&!x.defaultPrevented}function ru(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:o.setTimeout(l,h||0)}function ki(l){l.g=ru(()=>{l.g=null,l.i&&(l.i=!1,ki(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Fa extends we{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ki(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(l){we.call(this),this.h=l,this.g={}}E(Ds,we);var za=[];function su(l){z(l.g,function(h,g){this.g.hasOwnProperty(g)&&V(h)},l),l.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),su(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=o.JSON.stringify,Mb=o.JSON.parse,Vb=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function yh(){}yh.prototype.h=null;function Cy(l){return l.h||(l.h=l.i())}function Ay(){}var $a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vh(){Be.call(this,"d")}E(vh,Be);function _h(){Be.call(this,"c")}E(_h,Be);var Os={},Ry=null;function iu(){return Ry=Ry||new Te}Os.La="serverreachability";function Py(l){Be.call(this,Os.La,l)}E(Py,Be);function Ba(l){const h=iu();ke(h,new Py(h))}Os.STAT_EVENT="statevent";function jy(l,h){Be.call(this,Os.STAT_EVENT,l),this.stat=h}E(jy,Be);function Ht(l){const h=iu();ke(h,new jy(h,l))}Os.Ma="timingevent";function Dy(l,h){Be.call(this,Os.Ma,l),this.size=h}E(Dy,Be);function qa(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function Wa(){this.g=!0}Wa.prototype.xa=function(){this.g=!1};function Lb(l,h,g,x,M,L){l.info(function(){if(l.g)if(L)for(var Q="",qe=L.split("&"),xt=0;xt<qe.length;xt++){var Oe=qe[xt].split("=");if(1<Oe.length){var Pt=Oe[0];Oe=Oe[1];var jt=Pt.split("_");Q=2<=jt.length&&jt[1]=="type"?Q+(Pt+"="+Oe+"&"):Q+(Pt+"=redacted&")}}else Q=null;else Q=L;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+h+`
`+g+`
`+Q})}function Ub(l,h,g,x,M,L,Q){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+h+`
`+g+`
`+L+" "+Q})}function Ni(l,h,g,x){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+zb(l,g)+(x?" "+x:"")})}function Fb(l,h){l.info(function(){return"TIMEOUT: "+h})}Wa.prototype.info=function(){};function zb(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var x=g[l];if(!(2>x.length)){var M=x[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var Q=1;Q<M.length;Q++)M[Q]=""}}}}return Ii(g)}catch{return h}}var au={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xh;function ou(){}E(ou,yh),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},xh=new ou;function $r(l,h,g,x){this.j=l,this.i=h,this.l=g,this.R=x||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new My}function My(){this.i=null,this.g="",this.h=!1}var Vy={},wh={};function Eh(l,h,g){l.L=1,l.v=du(yr(h)),l.m=g,l.P=!0,Ly(l,null)}function Ly(l,h){l.F=Date.now(),lu(l),l.A=yr(l.v);var g=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),Xy(g.i,"t",x),l.C=0,g=l.j.J,l.h=new My,l.g=gv(l.j,g?h:null,!l.m),0<l.O&&(l.M=new Fa(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,x=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(za[0]=M.toString()),M=za);for(var L=0;L<M.length;L++){var Q=rn(g,M[L],x||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ba(),Lb(l.i,l.u,l.A,l.l,l.R,l.m)}$r.prototype.ca=function(l){l=l.target;const h=this.M;h&&vr(l)==3?h.j():this.Y(l)},$r.prototype.Y=function(l){try{if(l==this.g)e:{const jt=vr(this.g);var h=this.g.Ba();const Ri=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||iv(this.g)))){this.J||jt!=4||h==7||(h==8||0>=Ri?Ba(3):Ba(2)),Th(this);var g=this.g.Z();this.X=g;t:if(Uy(this)){var x=iv(this.g);l="";var M=x.length,L=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Ha(this);var Q="";break t}this.h.i=new o.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(x[h],{stream:!(L&&h==M-1)});x.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=g==200,Ub(this.i,this.u,this.A,this.l,this.R,jt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,xt=this.g;if((qe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(qe)){var Oe=qe;break t}}Oe=null}if(g=Oe)Ni(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sh(this,g);else{this.o=!1,this.s=3,Ht(12),Ms(this),Ha(this);break e}}if(this.P){g=!0;let Dn;for(;!this.J&&this.C<Q.length;)if(Dn=$b(this,Q),Dn==wh){jt==4&&(this.s=4,Ht(14),g=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Vy){this.s=4,Ht(15),Ni(this.i,this.l,Q,"[Invalid Chunk]"),g=!1;break}else Ni(this.i,this.l,Dn,null),Sh(this,Dn);if(Uy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Q.length!=0||this.h.h||(this.s=1,Ht(16),g=!1),this.o=this.o&&g,!g)Ni(this.i,this.l,Q,"[Invalid Chunked Response]"),Ms(this),Ha(this);else if(0<Q.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Ah(Pt),Pt.M=!0,Ht(11))}}else Ni(this.i,this.l,Q,null),Sh(this,Q);jt==4&&Ms(this),this.o&&!this.J&&(jt==4?hv(this.j,this):(this.o=!1,lu(this)))}else ik(this.g),g==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Ms(this),Ha(this)}}}catch{}finally{}};function Uy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function $b(l,h){var g=l.C,x=h.indexOf(`
`,g);return x==-1?wh:(g=Number(h.substring(g,x)),isNaN(g)?Vy:(x+=1,x+g>h.length?wh:(h=h.slice(x,x+g),l.C=x+g,h)))}$r.prototype.cancel=function(){this.J=!0,Ms(this)};function lu(l){l.S=Date.now()+l.I,Fy(l,l.I)}function Fy(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=qa(p(l.ba,l),h)}function Th(l){l.B&&(o.clearTimeout(l.B),l.B=null)}$r.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Fb(this.i,this.A),this.L!=2&&(Ba(),Ht(17)),Ms(this),this.s=2,Ha(this)):Fy(this,this.S-l)};function Ha(l){l.j.G==0||l.J||hv(l.j,l)}function Ms(l){Th(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,su(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Sh(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||bh(g.h,l))){if(!l.K&&bh(g.h,l)&&g.G==3){try{var x=g.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)yu(g),pu(g);else break e;Ch(g),Ht(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=qa(p(g.Za,g),6e3));if(1>=By(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ls(g,11)}else if((l.K||g.g==l)&&yu(g),!_(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let Oe=M[h];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];const Pt=Oe[3];Pt!=null&&(g.la=Pt,g.j.info("VER="+g.la));const jt=Oe[4];jt!=null&&(g.Aa=jt,g.j.info("SVER="+g.Aa));const Ri=Oe[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(x=1.5*Ri,g.L=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const Dn=l.g;if(Dn){const _u=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var L=x.h;L.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(kh(L,L.h),L.h=null))}if(x.D){const Rh=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(x.ya=Rh,Ge(x.I,x.D,Rh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),x=g;var Q=l;if(x.qa=pv(x,x.J?x.ia:null,x.W),Q.K){qy(x.h,Q);var qe=Q,xt=x.L;xt&&(qe.I=xt),qe.B&&(Th(qe),lu(qe)),x.g=Q}else cv(x);0<g.i.length&&gu(g)}else Oe[0]!="stop"&&Oe[0]!="close"||Ls(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ls(g,7):Nh(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}Ba(4)}catch{}}var Bb=class{constructor(l,h){this.g=l,this.map=h}};function zy(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $y(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function By(l){return l.h?1:l.g?l.g.size:0}function bh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function kh(l,h){l.g?l.g.add(h):l.h=h}function qy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}zy.prototype.cancel=function(){if(this.i=Wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Wy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return N(l.i)}function qb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,x=0;x<g;x++)h.push(l[x]);return h}h=[],g=0;for(x in l)h[g++]=l[x];return h}function Wb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const x in l)h[g++]=x;return h}}}function Hy(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=Wb(l),x=qb(l),M=x.length,L=0;L<M;L++)h.call(void 0,x[L],g&&g[L],l)}var Ky=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hb(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var x=l[g].indexOf("="),M=null;if(0<=x){var L=l[g].substring(0,x);M=l[g].substring(x+1)}else L=l[g];h(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vs){this.h=l.h,uu(this,l.j),this.o=l.o,this.g=l.g,cu(this,l.s),this.l=l.l;var h=l.i,g=new Qa;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),Gy(this,g),this.m=l.m}else l&&(h=String(l).match(Ky))?(this.h=!1,uu(this,h[1]||"",!0),this.o=Ka(h[2]||""),this.g=Ka(h[3]||"",!0),cu(this,h[4]),this.l=Ka(h[5]||"",!0),Gy(this,h[6]||"",!0),this.m=Ka(h[7]||"")):(this.h=!1,this.i=new Qa(null,this.h))}Vs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Ga(h,Qy,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ga(h,Qy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ga(g,g.charAt(0)=="/"?Qb:Gb,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ga(g,Zb)),l.join("")};function yr(l){return new Vs(l)}function uu(l,h,g){l.j=g?Ka(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function cu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Gy(l,h,g){h instanceof Qa?(l.i=h,Xb(l.i,l.h)):(g||(h=Ga(h,Yb)),l.i=new Qa(h,l.h))}function Ge(l,h,g){l.i.set(h,g)}function du(l){return Ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ka(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ga(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,Kb),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Kb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Qy=/[#\/\?@]/g,Gb=/[#\?:]/g,Qb=/[#\?]/g,Yb=/[#\?@]/g,Zb=/#/g;function Qa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Br(l){l.g||(l.g=new Map,l.h=0,l.i&&Hb(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Qa.prototype,t.add=function(l,h){Br(this),this.i=null,l=Ci(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Yy(l,h){Br(l),h=Ci(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Zy(l,h){return Br(l),h=Ci(l,h),l.g.has(h)}t.forEach=function(l,h){Br(this),this.g.forEach(function(g,x){g.forEach(function(M){l.call(h,M,x,this)},this)},this)},t.na=function(){Br(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let x=0;x<h.length;x++){const M=l[x];for(let L=0;L<M.length;L++)g.push(h[x])}return g},t.V=function(l){Br(this);let h=[];if(typeof l=="string")Zy(this,l)&&(h=h.concat(this.g.get(Ci(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Br(this),this.i=null,l=Ci(this,l),Zy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Xy(l,h,g){Yy(l,h),0<g.length&&(l.i=null,l.g.set(Ci(l,h),N(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var x=h[g];const L=encodeURIComponent(String(x)),Q=this.V(x);for(x=0;x<Q.length;x++){var M=L;Q[x]!==""&&(M+="="+encodeURIComponent(String(Q[x]))),l.push(M)}}return this.i=l.join("&")};function Ci(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Xb(l,h){h&&!l.j&&(Br(l),l.i=null,l.g.forEach(function(g,x){var M=x.toLowerCase();x!=M&&(Yy(this,x),Xy(this,M,g))},l)),l.j=h}function Jb(l,h){const g=new Wa;if(o.Image){const x=new Image;x.onload=y(qr,g,"TestLoadImage: loaded",!0,h,x),x.onerror=y(qr,g,"TestLoadImage: error",!1,h,x),x.onabort=y(qr,g,"TestLoadImage: abort",!1,h,x),x.ontimeout=y(qr,g,"TestLoadImage: timeout",!1,h,x),o.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else h(!1)}function ek(l,h){const g=new Wa,x=new AbortController,M=setTimeout(()=>{x.abort(),qr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:x.signal}).then(L=>{clearTimeout(M),L.ok?qr(g,"TestPingServer: ok",!0,h):qr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),qr(g,"TestPingServer: error",!1,h)})}function qr(l,h,g,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(g)}catch{}}function tk(){this.g=new Vb}function nk(l,h,g){const x=g||"";try{Hy(l,function(M,L){let Q=M;d(M)&&(Q=Ii(M)),h.push(x+L+"="+encodeURIComponent(Q))})}catch(M){throw h.push(x+"type="+encodeURIComponent("_badmap")),M}}function hu(l){this.l=l.Ub||null,this.j=l.eb||!1}E(hu,yh),hu.prototype.g=function(){return new fu(this.l,this.j)},hu.prototype.i=function(l){return function(){return l}}({});function fu(l,h){Te.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(fu,Te),t=fu.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Za(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||o).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ya(this):Za(this),this.readyState==3&&Jy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ya(this))},t.Qa=function(l){this.g&&(this.response=l,Ya(this))},t.ga=function(){this.g&&Ya(this)};function Ya(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Za(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function Za(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ev(l){let h="";return z(l,function(g,x){h+=x,h+=":",h+=g,h+=`\r
`}),h}function Ih(l,h,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=ev(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ge(l,h,g))}function st(l){Te.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(st,Te);var rk=/^https?$/i,sk=["POST","PUT"];t=st.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xh.g(),this.v=this.o?Cy(this.o):Cy(xh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){tv(this,L);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)g.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const L of x.keys())g.set(L,x.get(L));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(sk,h,void 0))||x||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Q]of g)this.g.setRequestHeader(L,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sv(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){tv(this,L)}};function tv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,nv(l),mu(l)}function nv(l){l.A||(l.A=!0,ke(l,"complete"),ke(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ke(this,"complete"),ke(this,"abort"),mu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rv(this):this.bb())},t.bb=function(){rv(this)};function rv(l){if(l.h&&typeof a<"u"&&(!l.v[1]||vr(l)!=4||l.Z()!=2)){if(l.u&&vr(l)==4)ru(l.Ea,0,l);else if(ke(l,"readystatechange"),vr(l)==4){l.h=!1;try{const Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var x;if(x=Q===0){var M=String(l.D).match(Ky)[1]||null;!M&&o.self&&o.self.location&&(M=o.self.location.protocol.slice(0,-1)),x=!rk.test(M?M.toLowerCase():"")}g=x}if(g)ke(l,"complete"),ke(l,"success");else{l.m=6;try{var L=2<vr(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",nv(l)}}finally{mu(l)}}}}function mu(l,h){if(l.g){sv(l);const g=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ke(l,"ready");try{g.onreadystatechange=x}catch{}}}function sv(l){l.I&&(o.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function vr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Mb(h)}};function iv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ik(l){const h={};l=(l.g&&2<=vr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(_(l[x]))continue;var g=P(l[x]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=h[M]||[];h[M]=L,L.push(g)}T(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function av(l){this.Aa=0,this.i=[],this.j=new Wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,l),this.cb=Xa("retryDelaySeedMs",1e4,l),this.Wa=Xa("forwardChannelMaxRetries",2,l),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new zy(l&&l.concurrentRequestLimit),this.Da=new tk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=av.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,x){Ht(0),this.W=l,this.H=h||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.I=pv(this,null,this.W),gu(this)};function Nh(l){if(ov(l),l.G==3){var h=l.U++,g=yr(l.I);if(Ge(g,"SID",l.K),Ge(g,"RID",h),Ge(g,"TYPE","terminate"),Ja(l,g),h=new $r(l,l.j,h),h.L=2,h.v=du(yr(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.v,g=!0),g||(h.g=gv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),lu(h)}mv(l)}function pu(l){l.g&&(Ah(l),l.g.cancel(),l.g=null)}function ov(l){pu(l),l.u&&(o.clearTimeout(l.u),l.u=null),yu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function gu(l){if(!$y(l.h)&&!l.s){l.s=!0;var h=l.Ga;$e||oe(),K||($e(),K=!0),ue.add(h,l),l.B=0}}function ak(l,h){return By(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=qa(p(l.Ga,l,h),fv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new $r(this,this.j,l);let L=this.o;if(this.S&&(L?(L=v(L),k(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=uv(this,M,h),g=yr(this.I),Ge(g,"RID",l),Ge(g,"CVER",22),this.D&&Ge(g,"X-HTTP-Session-Id",this.D),Ja(this,g),L&&(this.O?h="headers="+encodeURIComponent(String(ev(L)))+"&"+h:this.m&&Ih(g,this.m,L)),kh(this.h,M),this.Ua&&Ge(g,"TYPE","init"),this.P?(Ge(g,"$req",h),Ge(g,"SID","null"),M.T=!0,Eh(M,g,null)):Eh(M,g,h),this.G=2}}else this.G==3&&(l?lv(this,l):this.i.length==0||$y(this.h)||lv(this))};function lv(l,h){var g;h?g=h.l:g=l.U++;const x=yr(l.I);Ge(x,"SID",l.K),Ge(x,"RID",g),Ge(x,"AID",l.T),Ja(l,x),l.m&&l.o&&Ih(x,l.m,l.o),g=new $r(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=uv(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),kh(l.h,g),Eh(g,x,h)}function Ja(l,h){l.H&&z(l.H,function(g,x){Ge(h,x,g)}),l.l&&Hy({},function(g,x){Ge(h,x,g)})}function uv(l,h,g){g=Math.min(l.i.length,g);var x=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let L=-1;for(;;){const Q=["count="+g];L==-1?0<g?(L=M[0].g,Q.push("ofs="+L)):L=0:Q.push("ofs="+L);let qe=!0;for(let xt=0;xt<g;xt++){let Oe=M[xt].g;const Pt=M[xt].map;if(Oe-=L,0>Oe)L=Math.max(0,M[xt].g-100),qe=!1;else try{nk(Pt,Q,"req"+Oe+"_")}catch{x&&x(Pt)}}if(qe){x=Q.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,x}function cv(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;$e||oe(),K||($e(),K=!0),ue.add(h,l),l.v=0}}function Ch(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=qa(p(l.Fa,l),fv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,dv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=qa(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),pu(this),dv(this))};function Ah(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function dv(l){l.g=new $r(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=yr(l.qa);Ge(h,"RID","rpc"),Ge(h,"SID",l.K),Ge(h,"AID",l.T),Ge(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ge(h,"TO",l.ja),Ge(h,"TYPE","xmlhttp"),Ja(l,h),l.m&&l.o&&Ih(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=du(yr(h)),g.m=null,g.P=!0,Ly(g,l)}t.Za=function(){this.C!=null&&(this.C=null,pu(this),Ch(this),Ht(19))};function yu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function hv(l,h){var g=null;if(l.g==h){yu(l),Ah(l),l.g=null;var x=2}else if(bh(l.h,h))g=h.D,qy(l.h,h),x=1;else return;if(l.G!=0){if(h.o)if(x==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;x=iu(),ke(x,new Dy(x,g)),gu(l)}else cv(l);else if(M=h.s,M==3||M==0&&0<h.X||!(x==1&&ak(l,h)||x==2&&Ch(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),M){case 1:Ls(l,5);break;case 4:Ls(l,10);break;case 3:Ls(l,6);break;default:Ls(l,2)}}}function fv(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Ls(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),x=l.Xa;const M=!x;x=new Vs(x||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||uu(x,"https"),du(x),M?Jb(x.toString(),g):ek(x.toString(),g)}else Ht(2);l.G=0,l.l&&l.l.sa(h),mv(l),ov(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function mv(l){if(l.G=0,l.ka=[],l.l){const h=Wy(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function pv(l,h,g){var x=g instanceof Vs?yr(g):new Vs(g);if(x.g!="")h&&(x.g=h+"."+x.g),cu(x,x.s);else{var M=o.location;x=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var L=new Vs(null);x&&uu(L,x),h&&(L.g=h),M&&cu(L,M),g&&(L.l=g),x=L}return g=l.D,h=l.ya,g&&h&&Ge(x,g,h),Ge(x,"VER",l.la),Ja(l,x),x}function gv(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new st(new hu({eb:g})):new st(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yv(){}t=yv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vu(){}vu.prototype.g=function(l,h){return new pn(l,h)};function pn(l,h){Te.call(this),this.g=new av(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ai(this)}E(pn,Te),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Nh(this.g)},pn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Ii(l),l=g);h.i.push(new Bb(h.Ya++,l)),h.G==3&&gu(h)},pn.prototype.N=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,pn.aa.N.call(this)};function vv(l){vh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(vv,vh);function _v(){_h.call(this),this.status=1}E(_v,_h);function Ai(l){this.g=l}E(Ai,yv),Ai.prototype.ua=function(){ke(this.g,"a")},Ai.prototype.ta=function(l){ke(this.g,new vv(l))},Ai.prototype.sa=function(l){ke(this.g,new _v)},Ai.prototype.ra=function(){ke(this.g,"b")},vu.prototype.createWebChannel=vu.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,wT=function(){return new vu},xT=function(){return iu()},_T=Os,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},au.NO_ERROR=0,au.TIMEOUT=8,au.HTTP_ERROR=6,cc=au,Oy.COMPLETE="complete",vT=Oy,Ay.EventType=$a,$a.OPEN="a",$a.CLOSE="b",$a.ERROR="c",$a.MESSAGE="d",Te.prototype.listen=Te.prototype.K,wo=Ay,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,yT=st}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new bg("@firebase/firestore");function fo(){return di.logLevel}function se(t,...e){if(di.logLevel<=Re.DEBUG){const n=e.map(Ng);di.debug(`Firestore (${Va}): ${t}`,...n)}}function Or(t,...e){if(di.logLevel<=Re.ERROR){const n=e.map(Ng);di.error(`Firestore (${Va}): ${t}`,...n)}}function _a(t,...e){if(di.logLevel<=Re.WARN){const n=e.map(Ng);di.warn(`Firestore (${Va}): ${t}`,...n)}}function Ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function ze(t,e){t||ge()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class fD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},o=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ir)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new ET(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ut(e)}}class pD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new yD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=_D(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function xa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Pe(0,0))}static max(){return new ye(new Pe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends yl{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const xD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends yl{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return xD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(He.fromString(e))}static fromName(e){return new ce(He.fromString(e).popFirst(5))}static empty(){return new ce(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new He(e.slice()))}}function wD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new ws(s,ce.empty(),e)}function ED(t){return new ws(t.readTime,t.key,-1)}class ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ws(ye.min(),ce.empty(),-1)}static max(){return new ws(ye.max(),ce.empty(),-1)}}function TD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==SD)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(f=>{a[d]=f,++o,o===i&&r(a)},f=>s(f))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function kD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cg.oe=-1;function Hd(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function ID(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ST(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Et(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new kt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bT("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const ND=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(ze(!!t),typeof t=="string"){let e=0;const n=ND.exec(t);if(ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ag(t){const e=t.mapValue.fields.__previous_value__;return Kd(e)?Ag(e):e}function vl(t){const e=Es(t.mapValue.fields.__local_write_time__.timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,s,i,a,o,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=d}}class _l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kd(t)?4:RD(t)?9007199254740991:AD(t)?10:11:ge()}function cr(t,e){if(t===e)return!0;const n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Es(s.timestampValue),o=Es(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return hi(s.bytesValue).isEqual(hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=ot(s.doubleValue),o=ot(i.doubleValue);return a===o?Gc(a)===Gc(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return xa(t.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(w_(a)!==w_(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!cr(a[c],o[c])))return!1;return!0}(t,e);default:return ge()}}function xl(t,e){return(t.values||[]).find(n=>cr(n,e))!==void 0}function wa(t,e){if(t===e)return 0;const n=fi(t),r=fi(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,a){const o=ot(i.integerValue||i.doubleValue),c=ot(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return T_(t.timestampValue,e.timestampValue);case 4:return T_(vl(t),vl(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,a){const o=hi(i),c=hi(a);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),c=a.split("/");for(let d=0;d<o.length&&d<c.length;d++){const f=Me(o[d],c[d]);if(f!==0)return f}return Me(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const o=Me(ot(i.latitude),ot(a.latitude));return o!==0?o:Me(ot(i.longitude),ot(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return S_(t.arrayValue,e.arrayValue);case 10:return function(i,a){var o,c,d,f;const m=i.fields||{},p=a.fields||{},y=(o=m.value)===null||o===void 0?void 0:o.arrayValue,E=(c=p.value)===null||c===void 0?void 0:c.arrayValue,N=Me(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:S_(y,E)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Wu.mapValue&&a===Wu.mapValue)return 0;if(i===Wu.mapValue)return 1;if(a===Wu.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=Me(c[m],f[m]);if(p!==0)return p;const y=wa(o[c[m]],d[f[m]]);if(y!==0)return y}return Me(c.length,f.length)}(t.mapValue,e.mapValue);default:throw ge()}}function T_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Es(t),r=Es(e),s=Me(n.seconds,r.seconds);return s!==0?s:Me(n.nanos,r.nanos)}function S_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=wa(n[s],r[s]);if(i)return i}return Me(n.length,r.length)}function Ea(t){return qm(t)}function qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=qm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${qm(n.fields[a])}`;return s+"}"}(t.mapValue):ge()}function Qc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wm(t){return!!t&&"integerValue"in t}function Rg(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function k_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dc(t){return!!t&&"mapValue"in t}function AD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fo(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=Fo(a):s.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());dc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(Fo(this.value))}}function kT(t){const e=[];return Ei(t.fields,(n,r)=>{const s=new Tt([n]);if(dc(r)){const i=kT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new zt(e,0,ye.min(),ye.min(),ye.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new zt(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new zt(e,2,n,ye.min(),ye.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ye.min(),ye.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.position=e,this.inclusive=n}}function I_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(a.referenceValue),n.key):r=wa(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function N_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function PD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class ht extends IT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DD(e,n,r):n==="array-contains"?new VD(e,r):n==="in"?new LD(e,r):n==="not-in"?new UD(e,r):n==="array-contains-any"?new FD(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OD(e,r):new MD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gn(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NT(t){return t.op==="and"}function CT(t){return jD(t)&&NT(t)}function jD(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function Hm(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(CT(t))return t.filters.map(e=>Hm(e)).join(",");{const e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&cr(r.value,s.value)}(t,e):t instanceof Gn?function(r,s){return s instanceof Gn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,o)=>i&&AT(a,s.filters[o]),!0):!1}(t,e):void ge()}function RT(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"}(t):"Filter"}class DD extends ht{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class OD extends ht{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MD extends ht{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class VD extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&xl(n.arrayValue,this.value)}}class LD extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class UD extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xl(this.value.arrayValue,n)}}class FD extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}}function C_(t,e=null,n=[],r=[],s=null,i=null,a=null){return new zD(t,e,n,r,s,i,a)}function Pg(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.ue=n}return e.ue}function jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N_(t.startAt,e.startAt)&&N_(t.endAt,e.endAt)}function Km(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $D(t,e,n,r,s,i,a,o){return new Ti(t,e,n,r,s,i,a,o)}function Gd(t){return new Ti(t)}function A_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dg(t){return t.collectionGroup!==null}function la(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new kt(Tt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(o=o.add(d.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new wl(i,r))}),n.has(Tt.keyField().canonicalString())||e.ce.push(new wl(Tt.keyField(),r))}return e.ce}function ir(t){const e=ve(t);return e.le||(e.le=BD(e,la(t))),e.le}function BD(t,e){if(t.limitType==="F")return C_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wl(s.field,i)});const n=t.endAt?new Ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ta(t.startAt.position,t.startAt.inclusive):null;return C_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gm(t,e){const n=t.filters.concat([e]);return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yc(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qd(t,e){return jg(ir(t),ir(e))&&t.limitType===e.limitType}function jT(t){return`${Pg(ir(t))}|lt:${t.limitType}`}function Ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>RT(s)).join(", ")}]`),Hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ea(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ea(s)).join(",")),`Target(${r})`}(ir(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of la(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,o,c){const d=I_(a,o,c);return a.inclusive?d<=0:d<0}(r.startAt,la(r),s)||r.endAt&&!function(a,o,c){const d=I_(a,o,c);return a.inclusive?d>=0:d>0}(r.endAt,la(r),s))}(t,e)}function qD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DT(t){return(e,n)=>{let r=!1;for(const s of la(t)){const i=WD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function WD(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,a,o){const c=a.data.field(i),d=o.data.field(i);return c!==null&&d!==null?wa(c,d):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ST(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new rt(ce.comparator);function Mr(){return HD}const OT=new rt(ce.comparator);function Eo(...t){let e=OT;for(const n of t)e=e.insert(n.key,n);return e}function MT(t){let e=OT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return zo()}function VT(){return zo()}function zo(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const KD=new rt(ce.comparator),GD=new kt(ce.comparator);function Ie(...t){let e=GD;for(const n of t)e=e.add(n);return e}const QD=new kt(Me);function YD(){return QD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function LT(t){return{integerValue:""+t}}function UT(t,e){return ID(e)?LT(e):Og(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}function ZD(t,e,n){return t instanceof Zc?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Kd(i)&&(i=Ag(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof El?zT(t,e):t instanceof Tl?$T(t,e):function(s,i){const a=FT(s,i),o=R_(a)+R_(s.Pe);return Wm(a)&&Wm(s.Pe)?LT(o):Og(s.serializer,o)}(t,e)}function XD(t,e,n){return t instanceof El?zT(t,e):t instanceof Tl?$T(t,e):n}function FT(t,e){return t instanceof Sl?function(r){return Wm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zc extends Zd{}class El extends Zd{constructor(e){super(),this.elements=e}}function zT(t,e){const n=BT(e);for(const r of t.elements)n.some(s=>cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tl extends Zd{constructor(e){super(),this.elements=e}}function $T(t,e){let n=BT(e);for(const r of t.elements)n=n.filter(s=>!cr(s,r));return{arrayValue:{values:n}}}class Sl extends Zd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function R_(t){return ot(t.integerValue||t.doubleValue)}function BT(t){return Rg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.field=e,this.transform=n}}function eO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof El&&s instanceof El||r instanceof Tl&&s instanceof Tl?xa(r.elements,s.elements,cr):r instanceof Sl&&s instanceof Sl?cr(r.Pe,s.Pe):r instanceof Zc&&s instanceof Zc}(t.transform,e.transform)}class tO{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xd{}function qT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HT(t.key,ar.none()):new Yl(t.key,t.data,ar.none());{const n=t.data,r=ln.empty();let s=new kt(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ps(t.key,r,new vn(s.toArray()),ar.none())}}function nO(t,e,n){t instanceof Yl?function(s,i,a){const o=s.value.clone(),c=j_(s.fieldTransforms,i,a.transformResults);o.setAll(c),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(s,i,a){if(!hc(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=j_(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(WT(s)),c.setAll(o),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function $o(t,e,n,r){return t instanceof Yl?function(i,a,o,c){if(!hc(i.precondition,a))return o;const d=i.value.clone(),f=D_(i.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ps?function(i,a,o,c){if(!hc(i.precondition,a))return o;const d=D_(i.fieldTransforms,c,a),f=a.data;return f.setAll(WT(i)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,a,o){return hc(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function rO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=FT(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function P_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xa(r,s,(i,a)=>eO(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yl extends Xd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ps extends Xd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j_(t,e,n){const r=new Map;ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,XD(a,o,n[s]))}return r}function D_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,ZD(i,a,e))}return r}class HT extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sO extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&nO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VT();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const c=qT(a,o);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(n,r)=>P_(n,r))&&xa(this.baseMutations,e.baseMutations,(n,r)=>P_(n,r))}}class Mg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length);let s=function(){return KD}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Mg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ce;function lO(t){switch(t){default:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function KT(t){if(t===void 0)return Or("GRPC error has no .code"),F.UNKNOWN;switch(t){case ct.OK:return F.OK;case ct.CANCELLED:return F.CANCELLED;case ct.UNKNOWN:return F.UNKNOWN;case ct.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ct.INTERNAL:return F.INTERNAL;case ct.UNAVAILABLE:return F.UNAVAILABLE;case ct.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ct.NOT_FOUND:return F.NOT_FOUND;case ct.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ct.ABORTED:return F.ABORTED;case ct.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ct.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(Ce=ct||(ct={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new ti([4294967295,4294967295],0);function O_(t){const e=uO().encode(t),n=new gT;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ti([n,r],0),new ti([s,i],0)]}class Vg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new To(`Invalid padding: ${n}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new To(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ti.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ti.fromNumber(r)));return s.compare(cO)===1&&(s=new ti([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=O_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Vg(i,s,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=O_(e),[r,s]=M_(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(ye.min(),s,new rt(Me),Mr(),Ie())}}class Zl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class GT{constructor(e,n){this.targetId=e,this.me=n}}class QT{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class V_{constructor(){this.fe=0,this.ge=U_(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ge()}}),new Zl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=U_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=L_(),this.Qe=new rt(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Km(i))if(r===0){const a=new ce(i.path);this.Ue(n,a,zt.newNoDocument(a,ye.min()))}else ze(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),c=o?this.Xe(o,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=hi(r).toUint8Array()}catch(c){if(c instanceof bT)return _a("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new Vg(a,s,i)}catch(c){return _a(c instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const o=this.Je(a);if(o){if(i.current&&Km(o.target)){const c=new ce(o.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,zt.newNoDocument(c,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=Ie();this.qe.forEach((i,a)=>{let o=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new Jd(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=L_(),this.Qe=new rt(Me),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new V_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new V_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function L_(){return new rt(ce.comparator)}function U_(){return new rt(ce.comparator)}const hO={asc:"ASCENDING",desc:"DESCENDING"},fO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mO={and:"AND",or:"OR"};class pO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function Xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gO(t,e){return Xc(t,e.toTimestamp())}function or(t){return ze(!!t),ye.fromTimestamp(function(n){const r=Es(n);return new Pe(r.seconds,r.nanos)}(t))}function Lg(t,e){return Ym(t,e).canonicalString()}function Ym(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZT(t){const e=He.fromString(t);return ze(nS(e)),e}function Zm(t,e){return Lg(t.databaseId,e.path)}function Tf(t,e){const n=ZT(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(JT(n))}function XT(t,e){return Lg(t.databaseId,e)}function yO(t){const e=ZT(t);return e.length===4?He.emptyPath():JT(e)}function Xm(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JT(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function F_(t,e,n){return{name:Zm(t,e),fields:n.value.mapValue.fields}}function vO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ze(f===void 0||typeof f=="string"),Nt.fromBase64String(f||"")):(ze(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Nt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(d){const f=d.code===void 0?F.UNKNOWN:KT(d.code);return new X(f,d.message||"")}(a);n=new QT(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tf(t,r.document.name),i=or(r.document.updateTime),a=r.document.createTime?or(r.document.createTime):ye.min(),o=new ln({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(s,i,a,o),d=r.targetIds||[],f=r.removedTargetIds||[];n=new fc(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tf(t,r.document),i=r.readTime?or(r.readTime):ye.min(),a=zt.newNoDocument(s,i),o=r.removedTargetIds||[];n=new fc([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tf(t,r.document),i=r.removedTargetIds||[];n=new fc([],i,s,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new oO(s,i),o=r.targetId;n=new GT(o,a)}}return n}function _O(t,e){let n;if(e instanceof Yl)n={update:F_(t,e.key,e.value)};else if(e instanceof HT)n={delete:Zm(t,e.key)};else if(e instanceof Ps)n={update:F_(t,e.key,e.data),updateMask:NO(e.fieldMask)};else{if(!(e instanceof sO))return ge();n={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const o=a.transform;if(o instanceof Zc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof El)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sl)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:gO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function xO(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?or(s.updateTime):or(i);return a.isEqual(ye.min())&&(a=or(i)),new tO(a,s.transformResults||[])}(n,e))):[]}function wO(t,e){return{documents:[XT(t,e.path)]}}function EO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XT(t,s);const i=function(d){if(d.length!==0)return tS(Gn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:Fi(p.field),direction:bO(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Qm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function TO(t){let e=yO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const p=eS(m);return p instanceof Gn&&CT(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(E){return new wl(zi(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,Hd(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,y=m.values||[];return new Ta(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,y=m.values||[];return new Ta(y,p)}(n.endAt)),$D(e,s,a,i,o,"F",c,d)}function SO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zi(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zi(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zi(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=zi(n.unaryFilter.field);return ht.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return ht.create(zi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>eS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function bO(t){return hO[t]}function kO(t){return fO[t]}function IO(t){return mO[t]}function Fi(t){return{fieldPath:t.canonicalString()}}function zi(t){return Tt.fromServerFormat(t.fieldPath)}function tS(t){return t instanceof ht?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fi(n.field),op:kO(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(s=>tS(s));return r.length===1?r[0]:{compositeFilter:{op:IO(n.op),filters:r}}}(t):ge()}function NO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,s,i=ye.min(),a=ye.min(),o=Nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.ct=e}}function AO(t){const e=TO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.un=new PO}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ws.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class PO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Sa(0)}static kn(){return new Sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$o(r.mutation,s,vn.empty(),Pe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Eo();return i.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,s){let i=Mr();const a=zo(),o=function(){return zo()}();return n.forEach((c,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof Ps)?i=i.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),$o(f.mutation,d,f.mutation.getFieldMask(),Pe.now())):a.set(d.key,vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var m;return o.set(d,new DO(f,(m=a.get(d))!==null&&m!==void 0?m:null))}),o))}recalculateAndSaveOverlays(e,n){const r=zo();let s=new rt((a,o)=>a-o),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||vn.empty();f=o.applyToLocalView(d,f),r.set(c,f);const m=(s.get(o.batchId)||Ie()).add(c);s=s.insert(o.batchId,m)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),d=c.key,f=c.value,m=VT();f.forEach(p=>{if(!i.has(p)){const y=qT(n.get(p),r.get(p));y!==null&&m.set(p,y),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ce.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Gs());let o=-1,c=i;return a.next(d=>B.forEach(d,(f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),i.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ie())).next(f=>({batchId:o,changes:MT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=Eo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Eo();return this.indexManager.getCollectionParents(e,i).next(o=>B.forEach(o,c=>{const d=function(m,p){return new Ti(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,zt.newInvalidDocument(f)))});let o=Eo();return a.forEach((c,d)=>{const f=i.get(c);f!==void 0&&$o(f.mutation,d,vn.empty(),Pe.now()),Yd(n,d)&&(o=o.insert(c,d))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:or(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:AO(s.bundledQuery),readTime:or(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new rt(ce.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),i=n.length+1,a=new ce(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new rt((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=Gs(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const o=Gs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>o.set(d,f)),!(o.size()>=s)););return B.resolve(o)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new aO(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ie(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.Tr=new kt(yt.Er),this.dr=new kt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new He([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new He([])),r=new yt(n,e),s=new yt(n,e+1);let i=Ie();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(yt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iO(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.br=this.br.add(new yt(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const o=this.Dr(a.wr);i.push(o)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Me);return n.forEach(s=>{const i=new yt(s,0),a=new yt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],o=>{r=r.add(o.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const a=new yt(new ce(i),0);let o=new kt(Me);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(o=o.add(c.wr)),!0)},a),B.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yt(n,0),s=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.Mr=e,this.docs=function(){return new rt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mr();const a=n.path,o=new ce(a.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||TD(ED(f),r)<=0||(s.has(f.key)||Yd(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ge()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zO(this)}getSize(e){return B.resolve(this.size)}}class zO extends jO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.persistence=e,this.Nr=new La(n=>Pg(n),jg),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ug,this.targetCount=0,this.kr=Sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cg(0),this.Kr=!1,this.Kr=!0,this.$r=new LO,this.referenceDelegate=e(this),this.Ur=new $O(this),this.indexManager=new RO,this.remoteDocumentCache=function(s){return new FO(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CO(n),this.Gr=new MO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new qO(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qO extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.Jr=new Ug,this.Yr=null}static Zr(e){return new Fg(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=ce.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Zj()?8:kD(Gj())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new WO;return this.Xi(e,n,a).next(o=>{if(i.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(fo()<=Re.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(fo()<=Re.DEBUG&&se("QueryEngine","Query:",Ui(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(fo()<=Re.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):B.resolve())}Yi(e,n){if(A_(n))return B.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yc(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ie(...i);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,o);return this.ns(n,d,a,c.readTime)?this.Yi(e,Yc(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return A_(n)||s.isEqual(ye.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?B.resolve(null):(fo()<=Re.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ui(n)),this.rs(e,a,n,wD(s,-1)).next(o=>o))})}ts(e,n){let r=new kt(DT(e));return n.forEach((s,i)=>{Yd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return fo()<=Re.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ui(n)),this.Ji.getDocumentsMatchingQuery(e,n,ws.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new rt(Me),this._s=new La(i=>Pg(i),jg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GO(t,e,n,r){return new KO(t,e,n,r)}async function rS(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],o=[];let c=Ie();for(const d of s){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:o}))})})}function QO(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,c,d,f){const m=d.batch,p=m.keys();let y=B.resolve();return p.forEach(E=>{y=y.next(()=>f.getEntry(c,E)).next(N=>{const A=d.docVersions.get(E);ze(A!==null),N.version.compareTo(A)<0&&(m.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=Ie();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(c=c.add(o.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function sS(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YO(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const o=[];e.targetChanges.forEach((f,m)=>{const p=s.get(m);if(!p)return;o.push(n.Ur.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,f.addedDocuments,m)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Nt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(m,y),function(N,A,w){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,y,f)&&o.push(n.Ur.updateTargetData(i,y))});let c=Mr(),d=Ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),o.push(ZO(i,a,e.documentUpdates).next(f=>{c=f.Ps,d=f.Is})),!r.isEqual(ye.min())){const f=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(f)}return B.waitFor(o).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function ZO(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Mr();return n.forEach((o,c)=>{const d=i.get(o);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(o)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):se("LocalStore","Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function XO(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JO(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new rs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jm(t,e,n){const r=ve(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ql(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function z_(t,e,n){const r=ve(t);let s=ye.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,f){const m=ve(c),p=m._s.get(f);return p!==void 0?B.resolve(m.os.get(p)):m.Ur.getTargetData(d,f)}(r,a,ir(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:ye.min(),n?i:Ie())).next(o=>(e4(r,qD(e),o),{documents:o,Ts:i})))}function e4(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class $_{constructor(){this.activeTargetIds=YD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t4{constructor(){this.so=new $_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Sf(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class i4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const o=Sf(),c=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${o}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,c,d,s).then(f=>(se("RestConnection",`Received RPC '${n}' ${o}: `,f),f),f=>{throw _a("RestConnection",`RPC '${n}' ${o} failed with error: `,f,"url: ",c,"request:",s),f})}Lo(n,r,s,i,a,o){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=r4[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Sf();return new Promise((a,o)=>{const c=new yT;c.setWithCredentials(!0),c.listenOnce(vT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cc.NO_ERROR:const f=c.getResponseJson();se(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case cc.TIMEOUT:se(Mt,`RPC '${e}' ${i} timed out`),o(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const m=c.getStatus();if(se(Mt,`RPC '${e}' ${i} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const E=function(A){const w=A.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(y.status);o(new X(E,y.message))}else o(new X(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new X(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{se(Mt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);se(Mt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Sf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wT(),o=xT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");se(Mt,`Creating RPC '${e}' stream ${s}: ${f}`,c);const m=a.createWebChannel(f,c);let p=!1,y=!1;const E=new s4({Io:A=>{y?se(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(p||(se(Mt,`Opening RPC '${e}' stream ${s} transport.`),m.open(),p=!0),se(Mt,`RPC '${e}' stream ${s} sending:`,A),m.send(A))},To:()=>m.close()}),N=(A,w,_)=>{A.listen(w,I=>{try{_(I)}catch(D){setTimeout(()=>{throw D},0)}})};return N(m,wo.EventType.OPEN,()=>{y||(se(Mt,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),N(m,wo.EventType.CLOSE,()=>{y||(y=!0,se(Mt,`RPC '${e}' stream ${s} transport closed`),E.So())}),N(m,wo.EventType.ERROR,A=>{y||(y=!0,_a(Mt,`RPC '${e}' stream ${s} transport errored:`,A),E.So(new X(F.UNAVAILABLE,"The operation could not be completed")))}),N(m,wo.EventType.MESSAGE,A=>{var w;if(!y){const _=A.data[0];ze(!!_);const I=_,D=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(D){se(Mt,`RPC '${e}' stream ${s} received error:`,D);const U=D.status;let z=function(S){const k=ct[S];if(k!==void 0)return KT(k)}(U),T=D.message;z===void 0&&(z=F.INTERNAL,T="Unknown error status: "+U+" with message "+D.message),y=!0,E.So(new X(z,T)),m.close()}else se(Mt,`RPC '${e}' stream ${s} received:`,_),E.bo(_)}}),N(o,_T.STAT_EVENT,A=>{A.stat===Bm.PROXY?se(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Bm.NOPROXY&&se(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new pO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,s,i,a,o,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a4 extends aS{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vO(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?or(a.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(i,a){let o;const c=a.target;if(o=Km(c)?{documents:wO(i,c)}:{query:EO(i,c)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=YT(i,a.resumeToken);const d=Qm(i,a.expectedCount);d!==null&&(o.expectedCount=d)}else if(a.snapshotVersion.compareTo(ye.min())>0){o.readTime=Xc(i,a.snapshotVersion.toTimestamp());const d=Qm(i,a.expectedCount);d!==null&&(o.expectedCount=d)}return o}(this.serializer,e);const r=SO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.a_(n)}}class o4 extends aS{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=xO(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_O(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Ym(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Ym(n,r),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(F.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class u4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Si(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=ve(c);d.L_.add(4),await Xl(d),d.q_.set("Unknown"),d.L_.delete(4),await th(d)}(this))})}),this.q_=new u4(r,s)}}async function th(t){if(Si(t))for(const e of t.B_)await e(!0)}async function Xl(t){for(const e of t.B_)await e(!1)}function oS(t,e){const n=ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Wg(n)?qg(n):Ua(n).r_()&&Bg(n,e))}function $g(t,e){const n=ve(t),r=Ua(n);n.N_.delete(e),r.r_()&&lS(n,e),n.N_.size===0&&(r.r_()?r.o_():Si(n)&&n.q_.set("Unknown"))}function Bg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).A_(e)}function lS(t,e){t.Q_.xe(e),Ua(t).R_(e)}function qg(t){t.Q_=new dO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.q_.v_()}function Wg(t){return Si(t)&&!Ua(t).n_()&&t.N_.size>0}function Si(t){return ve(t).L_.size===0}function uS(t){t.Q_=void 0}async function d4(t){t.q_.set("Online")}async function h4(t){t.N_.forEach((e,n)=>{Bg(t,e)})}async function f4(t,e){uS(t),Wg(t)?(t.q_.M_(e),qg(t)):t.q_.set("Unknown")}async function m4(t,e,n){if(t.q_.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.N_.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.N_.delete(o),s.Q_.removeTarget(o))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jc(t,r)}else if(e instanceof fc?t.Q_.Ke(e):e instanceof GT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{const r=await sS(t.localStore);n.compareTo(r)>=0&&await function(i,a){const o=i.Q_.rt(a);return o.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.N_.get(d);f&&i.N_.set(d,f.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,d)=>{const f=i.N_.get(c);if(!f)return;i.N_.set(c,f.withResumeToken(Nt.EMPTY_BYTE_STRING,f.snapshotVersion)),lS(i,c);const m=new rs(f.target,c,d,f.sequenceNumber);Bg(i,m)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Jc(t,r)}}async function Jc(t,e,n){if(!Ql(e))throw e;t.L_.add(1),await Xl(t),t.q_.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await th(t)})}function cS(t,e){return e().catch(n=>Jc(t,n,e))}async function nh(t){const e=ve(t),n=Ts(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;p4(e);)try{const s=await XO(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,g4(e,s)}catch(s){await Jc(e,s)}dS(e)&&hS(e)}function p4(t){return Si(t)&&t.O_.length<10}function g4(t,e){t.O_.push(e);const n=Ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dS(t){return Si(t)&&!Ts(t).n_()&&t.O_.length>0}function hS(t){Ts(t).start()}async function y4(t){Ts(t).p_()}async function v4(t){const e=Ts(t);for(const n of t.O_)e.m_(n.mutations)}async function _4(t,e,n){const r=t.O_.shift(),s=Mg.from(r,e,n);await cS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nh(t)}async function x4(t,e){e&&Ts(t).V_&&await async function(r,s){if(function(a){return lO(a)&&a!==F.ABORTED}(s.code)){const i=r.O_.shift();Ts(r).s_(),await cS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await nh(r)}}(t,e),dS(t)&&hS(t)}async function q_(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Si(n);n.L_.add(3),await Xl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await th(n)}async function w4(t,e){const n=ve(t);e?(n.L_.delete(2),await th(n)):e||(n.L_.add(2),await Xl(n),n.q_.set("Unknown"))}function Ua(t){return t.K_||(t.K_=function(n,r,s){const i=ve(n);return i.w_(),new a4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:d4.bind(null,t),Ro:h4.bind(null,t),mo:f4.bind(null,t),d_:m4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Wg(t)?qg(t):t.q_.set("Unknown")):(await t.K_.stop(),uS(t))})),t.K_}function Ts(t){return t.U_||(t.U_=function(n,r,s){const i=ve(n);return i.w_(),new o4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y4.bind(null,t),mo:x4.bind(null,t),f_:v4.bind(null,t),g_:_4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await nh(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new Hg(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Ql(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Eo(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new ua(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.W_=new rt(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ba{constructor(e,n,r,s,i,a,o,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new ba(e,n,ua.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class T4{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=H_(),i.forEach((a,o)=>{for(const c of o.j_)c.onError(r)})})(this,new X(F.ABORTED,"Firestore shutting down"))}}function H_(){return new La(t=>jT(t),Qd)}async function Gg(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new E4,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Kg(a,`Initialization of query '${Ui(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Yg(n)}async function Qg(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S4(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.j_)o.X_(s)&&(r=!0);a.z_=s}}r&&Yg(n)}function b4(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Yg(t){t.Y_.forEach(e=>{e.next()})}var ep,K_;(K_=ep||(ep={})).ea="default",K_.Cache="cache";class Zg{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.key=e}}class mS{constructor(e){this.key=e}}class k4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=DT(e),this.Ra=new ua(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new W_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const p=s.get(f),y=Yd(this.query,m)?m:null,E=!!p&&this.mutatedKeys.has(p.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?E!==N&&(r.track({type:3,doc:y}),A=!0):this.ga(p,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.Aa(y,c)>0||d&&this.Aa(y,d)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),A=!0):p&&!y&&(r.track({type:1,doc:p}),A=!0,(c||d)&&(o=!0)),A&&(y?(a=a.add(y),i=N?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:o,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,m)=>function(y,E){const N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return N(y)-N(E)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),s=s!=null&&s;const o=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new ba(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new mS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ba.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class I4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N4{constructor(e){this.key=e,this.va=!1}}class C4{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new La(o=>jT(o),Qd),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(ce.comparator),this.Na=new Map,this.La=new Ug,this.Ba={},this.ka=new Map,this.qa=Sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function A4(t,e,n=!0){const r=xS(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await pS(r,e,n,!0),s}async function R4(t,e){const n=xS(t);await pS(n,e,!0,!1)}async function pS(t,e,n,r){const s=await JO(t.localStore,ir(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await P4(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&oS(t.remoteStore,s),o}async function P4(t,e,n,r,s){t.Ka=(m,p,y)=>async function(N,A,w,_){let I=A.view.ma(w);I.ns&&(I=await z_(N.localStore,A.query,!1).then(({documents:T})=>A.view.ma(T,I)));const D=_&&_.targetChanges.get(A.targetId),U=_&&_.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(I,N.isPrimaryClient,D,U);return Q_(N,A.targetId,z.wa),z.snapshot}(t,m,p,y);const i=await z_(t.localStore,e,!0),a=new k4(e,i.Ts),o=a.ma(i.documents),c=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(o,t.isPrimaryClient,c);Q_(t,n,d.wa);const f=new I4(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function j4(t,e,n){const r=ve(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Qd(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$g(r.remoteStore,s.targetId),tp(r,s.targetId)}).catch(Gl)):(tp(r,s.targetId),await Jm(r.localStore,s.targetId,!0))}async function D4(t,e){const n=ve(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$g(n.remoteStore,r.targetId))}async function O4(t,e,n){const r=$4(t);try{const s=await function(a,o){const c=ve(a),d=Pe.now(),f=o.reduce((y,E)=>y.add(E.key),Ie());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Mr(),N=Ie();return c.cs.getEntries(y,f).next(A=>{E=A,E.forEach((w,_)=>{_.isValidDocument()||(N=N.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(A=>{m=A;const w=[];for(const _ of o){const I=rO(_,m.get(_.key).overlayedDocument);I!=null&&w.push(new Ps(_.key,I,kT(I.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,w,o)}).next(A=>{p=A;const w=A.applyToLocalDocumentSet(m,N);return c.documentOverlayCache.saveOverlays(y,A.batchId,w)})}).then(()=>({batchId:p.batchId,changes:MT(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,o,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new rt(Me)),d=d.insert(o,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await Jl(r,s.changes),await nh(r.remoteStore)}catch(s){const i=Kg(s,"Failed to persist write");n.reject(i)}}async function gS(t,e){const n=ve(t);try{const r=await YO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?ze(a.va):s.removedDocuments.size>0&&(ze(a.va),a.va=!1))}),await Jl(n,r,e)}catch(r){await Gl(r)}}function G_(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const o=a.view.Z_(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const c=ve(a);c.onlineState=o;let d=!1;c.queries.forEach((f,m)=>{for(const p of m.j_)p.Z_(o)&&(d=!0)}),d&&Yg(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M4(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new rt(ce.comparator);a=a.insert(i,zt.newNoDocument(i,ye.min()));const o=Ie().add(i),c=new Jd(ye.min(),new Map,new rt(Me),a,o);await gS(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Xg(r)}else await Jm(r.localStore,e,!1).then(()=>tp(r,e,n)).catch(Gl)}async function V4(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await QO(n.localStore,e);vS(n,r,null),yS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,s)}catch(s){await Gl(s)}}async function L4(t,e,n){const r=ve(t);try{const s=await function(a,o){const c=ve(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,o).next(m=>(ze(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);vS(r,e,n),yS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jl(r,s)}catch(s){await Gl(s)}}function yS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vS(t,e,n){const r=ve(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function tp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_S(t,r)})}function _S(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&($g(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Xg(t))}function Q_(t,e,n){for(const r of n)r instanceof fS?(t.La.addReference(r.key,e),U4(t,r)):r instanceof mS?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_S(t,r.key)):ge()}function U4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),Xg(t))}function Xg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(He.fromString(e)),r=t.qa.next();t.Na.set(r,new N4(n)),t.Oa=t.Oa.insert(n,r),oS(t.remoteStore,new rs(ir(Gd(n.path)),r,"TargetPurposeLimboResolution",Cg.oe))}}async function Jl(t,e,n){const r=ve(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,c)=>{a.push(r.Ka(c,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=zg.Wi(c.targetId,d);i.push(m)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const f=ve(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(d,p=>B.forEach(p.$i,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>B.forEach(p.Ui,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!Ql(m))throw m;se("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.os.get(p),E=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(p,N)}}}(r.localStore,i))}async function F4(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await rS(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(o=>{o.forEach(c=>{c.reject(new X(F.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.hs)}}function z4(t,e){const n=ve(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let s=Ie();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const o=n.Fa.get(a);s=s.unionWith(o.view.Va)}return s}}function xS(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M4.bind(null,e),e.Ca.d_=S4.bind(null,e.eventManager),e.Ca.$a=b4.bind(null,e.eventManager),e}function $4(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L4.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GO(this.persistence,new HO,e.initialUser,this.serializer)}Ga(e){return new BO(Fg.Zr,this.serializer)}Wa(e){return new t4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await w4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T4}()}createDatastore(e){const n=eh(e.databaseInfo.databaseId),r=function(i){return new i4(i)}(e.databaseInfo);return function(i,a,o,c){return new l4(i,a,o,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,o){return new c4(r,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return B_.D()?new B_:new n4}())}createSyncEngine(e,n){return function(s,i,a,o,c,d,f){const m=new C4(s,i,a,o,c,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ve(s);se("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Xl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kf(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await rS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q4(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>q_(e.remoteStore,s)),t._onlineComponents=e}async function q4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await kf(t,new ed)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await kf(t,new ed);return t._offlineComponents}async function wS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await Y_(t,new np))),t._onlineComponents}function W4(t){return wS(t).then(e=>e.syncEngine)}async function td(t){const e=await wS(t),n=e.eventManager;return n.onListen=A4.bind(null,e.syncEngine),n.onUnlisten=j4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D4.bind(null,e.syncEngine),n}function H4(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,c,d){const f=new Jg({next:p=>{f.Za(),a.enqueueAndForget(()=>Qg(i,m));const y=p.docs.has(o);!y&&p.fromCache?d.reject(new X(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new X(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new Zg(Gd(o.path),f,{includeMetadataChanges:!0,_a:!0});return Gg(i,m)}(await td(t),t.asyncQueue,e,n,r)),r.promise}function K4(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,o,c,d){const f=new Jg({next:p=>{f.Za(),a.enqueueAndForget(()=>Qg(i,m)),p.fromCache&&c.source==="server"?d.reject(new X(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new Zg(o,f,{includeMetadataChanges:!0,_a:!0});return Gg(i,m)}(await td(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G4(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X_(t){if(!ce.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J_(t){if(ce.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rh(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Q4(t,e){if(e<=0)throw new X(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ex({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ex(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hD;switch(r.type){case"firstParty":return new gD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(se("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function Y4(t,e,n,r={}){var s;const i=(t=Wn(t,sh))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let o,c;if(typeof r.mockUserToken=="string")o=r.mockUserToken,c=Ut.MOCK_USER;else{o=aT(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ut(d)}t._authCredentials=new fD(new ET(o,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mr(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class gs extends mr{constructor(e,n,r){super(e,n,Gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ce(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function ss(t,e,...n){if(t=mn(t),TS("collection","path",e),t instanceof sh){const r=He.fromString(e,...n);return J_(r),new gs(t,null,r)}{if(!(t instanceof Xt||t instanceof gs))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return J_(r),new gs(t.firestore,null,r)}}function Tr(t,e,...n){if(t=mn(t),arguments.length===1&&(e=TT.newId()),TS("doc","path",e),t instanceof sh){const r=He.fromString(e,...n);return X_(r),new Xt(t,null,new ce(r))}{if(!(t instanceof Xt||t instanceof gs))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return X_(r),new Xt(t.firestore,t instanceof gs?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iS(this,"async_queue_retry"),this.Vu=()=>{const r=bf();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ir;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ql(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw Or("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Hg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function nx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class mi extends sh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tx(e),this._firestoreClient=void 0,await e}}}function Z4(t,e){const n=typeof t=="object"?t:Ig(),r=typeof t=="string"?t:"(default)",s=Ma(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=sT("firestore");i&&Y4(s,...i)}return s}function ih(t){if(t._terminated)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X4(t),t._firestoreClient}function X4(t){var e,n,r;const s=t._freezeSettings(),i=function(o,c,d,f){return new CD(o,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ES(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new B4(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(Nt.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ka(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=/^__.*__$/;class eM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}class SS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ny{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ny(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bS(this.Cu)&&J4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eh(e)}Qu(e,n,r,s=!1){return new ny({Cu:e,methodName:n,qu:r,path:Tt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(t){const e=t._freezeSettings(),n=eh(t._databaseId);return new tM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nM(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);sy("Data must be an object, but it was:",a,r);const o=IS(r,a);let c,d;if(i.merge)c=new vn(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const p=rp(e,m,n);if(!a.contains(p))throw new X(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);CS(f,p)||f.push(p)}c=new vn(f),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new eM(new ln(o),c,d)}class uh extends oh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}class ry extends oh{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Sl(e.serializer,UT(e.serializer,this.$u));return new JD(e.path,n)}isEqual(e){return e instanceof ry&&this.$u===e.$u}}function rM(t,e,n,r){const s=t.Qu(1,e,n);sy("Data must be an object, but it was:",s,r);const i=[],a=ln.empty();Ei(r,(c,d)=>{const f=iy(e,c,n);d=mn(d);const m=s.Nu(f);if(d instanceof uh)i.push(f);else{const p=eu(d,m);p!=null&&(i.push(f),a.set(f,p))}});const o=new vn(i);return new SS(a,o,s.fieldTransforms)}function sM(t,e,n,r,s,i){const a=t.Qu(1,e,n),o=[rp(e,r,n)],c=[s];if(i.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(rp(e,i[p])),c.push(i[p+1]);const d=[],f=ln.empty();for(let p=o.length-1;p>=0;--p)if(!CS(d,o[p])){const y=o[p];let E=c[p];E=mn(E);const N=a.Nu(y);if(E instanceof uh)d.push(y);else{const A=eu(E,N);A!=null&&(d.push(y),f.set(y,A))}}const m=new vn(d);return new SS(f,m,a.fieldTransforms)}function kS(t,e,n,r=!1){return eu(n,t.Qu(r?4:3,e))}function eu(t,e){if(NS(t=mn(t)))return sy("Unsupported field value:",e,t),IS(t,e);if(t instanceof oh)return function(r,s){if(!bS(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const o of r){let c=eu(o,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pe.fromDate(r);return{timestampValue:Xc(s.serializer,i)}}if(r instanceof Pe){const i=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(s.serializer,i)}}if(r instanceof ey)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ka)return{bytesValue:YT(s.serializer,r._byteString)};if(r instanceof Xt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ty)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Bu("VectorValues must only contain numeric values.");return Og(o.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${rh(r)}`)}(t,e)}function IS(t,e){const n={};return ST(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,s)=>{const i=eu(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof ey||t instanceof ka||t instanceof Xt||t instanceof oh||t instanceof ty)}function sy(t,e,n){if(!NS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=rh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function rp(t,e,n){if((e=mn(e))instanceof ah)return e._internalPath;if(typeof e=="string")return iy(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function iy(t,e,n){if(e.search(iM)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ah(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new X(F.INVALID_ARGUMENT,o+t+c)}function CS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ch("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aM extends ay{data(){return super.data()}}function ch(t,e){return typeof e=="string"?iy(t,e):e instanceof ah?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class dh extends oy{}function bl(t,e,...n){let r=[];e instanceof oy&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof uy).length,o=i.filter(c=>c instanceof hh).length;if(a>1||a>0&&o>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class hh extends dh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hh(e,n,r)}_apply(e){const n=this._parse(e);return PS(e._query,n),new mr(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=lh(e.firestore);return function(i,a,o,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sx(m,f);const y=[];for(const E of m)y.push(rx(c,i,E));p={arrayValue:{values:y}}}else p=rx(c,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sx(m,f),p=kS(o,a,m,f==="in"||f==="not-in");return ht.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ly(t,e,n){const r=e,s=ch("where",t);return hh._create(s,r,n)}class uy extends oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const c of o)PS(a,c),a=Gm(a,c)}(e._query,n),new mr(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends dh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cy(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(i,a)}(e._query,this._field,this._direction);return new mr(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Ti(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function sp(t,e="asc"){const n=e,r=ch("orderBy",t);return cy._create(r,n)}class dy extends dh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new dy(e,n,r)}_apply(e){return new mr(e.firestore,e.converter,Yc(e._query,this._limit,this._limitType))}}function RS(t){return Q4("limit",t),dy._create("limit",t,"F")}class hy extends dh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hy(e,n,r)}_apply(e){const n=lM(e,this.type,this._docOrFields,this._inclusive);return new mr(e.firestore,e.converter,function(s,i){return new Ti(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function oM(...t){return hy._create("startAfter",t,!1)}function lM(t,e,n,r){if(n[0]=mn(n[0]),n[0]instanceof ay)return function(i,a,o,c,d){if(!c)throw new X(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const f=[];for(const m of la(i))if(m.field.isKeyField())f.push(Qc(a,c.key));else{const p=c.data.field(m.field);if(Kd(p))throw new X(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=m.field.canonicalString();throw new X(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(p)}return new Ta(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=lh(t.firestore);return function(a,o,c,d,f,m){const p=a.explicitOrderBy;if(f.length>p.length)throw new X(F.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let E=0;E<f.length;E++){const N=f[E];if(p[E].field.isKeyField()){if(typeof N!="string")throw new X(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof N}`);if(!Dg(a)&&N.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${N}' contains a slash.`);const A=a.path.child(He.fromString(N));if(!ce.isDocumentKey(A))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const w=new ce(A);y.push(Qc(o,w))}else{const A=kS(c,d,N);y.push(A)}}return new Ta(y,m)}(t._query,t.firestore._databaseId,s,e,n,r)}}function rx(t,e,n){if(typeof(n=mn(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dg(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ce.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qc(t,new ce(r))}if(n instanceof Xt)return Qc(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(n)}.`)}function sx(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PS(t,e){const n=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uM{convertValue(e,n="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>ot(a.doubleValue));return new ty(i)}convertGeoPoint(e){return new ey(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const n=Es(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);ze(nS(r));const s=new _l(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||Or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jS extends ay{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ch("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mc extends jS{data(e={}){return super.data(e)}}class DS{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new So(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mc(this._firestore,this._userDataWriter,r.key,r,new So(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const c=new mc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new So(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const c=new mc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new So(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:dM(o.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){t=Wn(t,Xt);const e=Wn(t.firestore,mi);return H4(ih(e),t._key).then(n=>LS(e,t,n))}class fy extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function MS(t){t=Wn(t,mr);const e=Wn(t.firestore,mi),n=ih(e),r=new fy(e);return AS(t._query),K4(n,t._query).then(s=>new DS(e,r,t,s))}function bo(t,e,n,...r){t=Wn(t,Xt);const s=Wn(t.firestore,mi),i=lh(s);let a;return a=typeof(e=mn(e))=="string"||e instanceof ah?sM(i,"updateDoc",t._key,e,n,r):rM(i,"updateDoc",t._key,e),VS(s,[a.toMutation(t._key,ar.exists(!0))])}function rd(t,e){const n=Wn(t.firestore,mi),r=Tr(t),s=cM(t.converter,e);return VS(n,[nM(lh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function my(t,...e){var n,r,s;t=mn(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||nx(e[a])||(i=e[a],a++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(nx(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let c,d,f;if(t instanceof Xt)d=Wn(t.firestore,mi),f=Gd(t._key.path),c={next:m=>{e[a]&&e[a](LS(d,t,m))},error:e[a+1],complete:e[a+2]};else{const m=Wn(t,mr);d=Wn(m.firestore,mi),f=m._query;const p=new fy(d);c={next:y=>{e[a]&&e[a](new DS(d,p,m,y))},error:e[a+1],complete:e[a+2]},AS(t._query)}return function(p,y,E,N){const A=new Jg(N),w=new Zg(y,A,E);return p.asyncQueue.enqueueAndForget(async()=>Gg(await td(p),w)),()=>{A.Za(),p.asyncQueue.enqueueAndForget(async()=>Qg(await td(p),w))}}(ih(d),f,o,c)}function VS(t,e){return function(r,s){const i=new Ir;return r.asyncQueue.enqueueAndForget(async()=>O4(await W4(r),s,i)),i.promise}(ih(t),e)}function LS(t,e,n){const r=n.docs.get(e._key),s=new fy(t);return new jS(t,s,e._key,r,new So(n.hasPendingWrites,n.fromCache),e.converter)}function hM(t){return new ry("increment",t)}(function(e,n=!0){(function(s){Va=s})(hT),Dr(new ur("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new mi(new mD(r.getProvider("auth-internal")),new vD(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(d.options.projectId,f)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Rn(x_,"4.7.3",e),Rn(x_,"4.7.3","esm2017")})();var fM="firebase",mM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(fM,mM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebasestorage.googleapis.com",pM="storageBucket",gM=2*60*1e3,yM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends zr{constructor(e,n,r=0){super(If(e),`Firebase Storage: ${n} (${If(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return If(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function If(t){return"storage/"+t}function vM(){const t="An unknown error occurred, please check the error payload for server response.";return new pr(dr.UNKNOWN,t)}function _M(){return new pr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new pr(dr.CANCELED,"User canceled the upload/download.")}function wM(t){return new pr(dr.INVALID_URL,"Invalid URL '"+t+"'.")}function EM(t){return new pr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ix(t){return new pr(dr.INVALID_ARGUMENT,t)}function FS(){return new pr(dr.APP_DELETED,"The Firebase app was deleted.")}function TM(t){return new pr(dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zn.makeFromUrl(e,n)}catch{return new zn(e,"")}if(r.path==="")return r;throw EM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${s}/o${p}`,"i"),E={bucket:1,path:3},N=n===US?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",w=new RegExp(`^https?://${N}/${s}/${A}`,"i"),I=[{regex:o,indices:c,postModify:i},{regex:y,indices:E,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<I.length;D++){const U=I[D],z=U.regex.exec(e);if(z){const T=z[U.indices.bucket];let v=z[U.indices.path];v||(v=""),r=new zn(T,v),U.postModify(r);break}}if(r==null)throw wM(e);return r}}class SM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e,n){let r=1,s=null,i=null,a=!1,o=0;function c(){return o===2}let d=!1;function f(...A){d||(d=!0,e.apply(null,A))}function m(A){s=setTimeout(()=>{s=null,t(y,c())},A)}function p(){i&&clearTimeout(i)}function y(A,...w){if(d){p();return}if(A){p(),f.call(null,A,...w);return}if(c()||a){p(),f.call(null,A,...w);return}r<64&&(r*=2);let I;o===1?(o=2,I=0):I=(r+Math.random())*1e3,m(I)}let E=!1;function N(A){E||(E=!0,p(),!d&&(s!==null?(A||(o=2),clearTimeout(s),m(0)):A||(o=1)))}return m(0),i=setTimeout(()=>{a=!0,N(!0)},n),N}function kM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){return t!==void 0}function ax(t,e,n,r){if(r<e)throw ix(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ix(`Invalid value for '${t}'. Expected ${n} or less.`)}function NM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var sd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sd||(sd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,s,i,a,o,c,d,f,m,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,E)=>{this.resolve_=y,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ku(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o=>{const c=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const o=i.getErrorCode()===sd.NO_ERROR,c=i.getStatus();if(!o||CM(c,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===sd.ABORT;r(!1,new Ku(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Ku(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,o=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());IM(c)?i(c):i()}catch(c){a(c)}else if(o!==null){const c=vM();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(s.canceled){const c=this.appDelete_?FS():xM();a(c)}else{const c=_M();a(c)}};this.canceled_?n(!1,new Ku(!1,null,!0)):this.backoffId_=bM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function DM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OM(t,e,n,r,s,i,a=!0){const o=NM(t.urlParams),c=t.url+o,d=Object.assign({},t.headers);return jM(d,e),RM(d,n),PM(d,i),DM(d,r),new AM(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this._service=e,n instanceof zn?this._location=n:this._location=zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new id(e,n)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VM(this._location.path)}get storage(){return this._service}get parent(){const e=MM(this._location.path);if(e===null)return null;const n=new zn(this._location.bucket,e);return new id(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TM(e)}}function ox(t,e){const n=e==null?void 0:e[pM];return n==null?null:zn.makeFromBucketSpec(n,t)}function LM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:aT(s,t.app.options.projectId))}class UM{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=US,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gM,this._maxUploadRetryTime=yM,this._requests=new Set,s!=null?this._bucket=zn.makeFromBucketSpec(s,this._host):this._bucket=ox(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=ox(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ax("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ax("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new id(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new SM(FS());{const a=OM(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const lx="@firebase/storage",ux="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="storage";function FM(t=Ig(),e){t=mn(t);const r=Ma(t,zS).getImmediate({identifier:e}),s=sT("storage");return s&&zM(r,...s),r}function zM(t,e,n,r={}){LM(t,e,n,r)}function $M(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new UM(n,r,s,e,hT)}function BM(){Dr(new ur(zS,$M,"PUBLIC").setMultipleInstances(!0)),Rn(lx,ux,""),Rn(lx,ux,"esm2017")}BM();const $S="@firebase/installations",py="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1e4,qS=`w:${py}`,WS="FIS_v2",qM="https://firebaseinstallations.googleapis.com/v1",WM=60*60*1e3,HM="installations",KM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pi=new Wd(HM,KM,GM);function HS(t){return t instanceof zr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS({projectId:t}){return`${qM}/projects/${t}/installations`}function GS(t){return{token:t.token,requestStatus:2,expiresIn:YM(t.expiresIn),creationTime:Date.now()}}async function QS(t,e){const r=(await e.json()).error;return pi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function YS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function QM(t,{refreshToken:e}){const n=YS(t);return n.append("Authorization",ZM(e)),n}async function ZS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function YM(t){return Number(t.replace("s","000"))}function ZM(t){return`${WS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=KS(t),s=YS(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:WS,appId:t.appId,sdkVersion:qS},o={method:"POST",headers:s,body:JSON.stringify(a)},c=await ZS(()=>fetch(r,o));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:GS(d.authToken)}}else throw await QS("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=/^[cdef][\w-]{21}$/,ip="";function tV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nV(t);return eV.test(n)?n:ip}catch{return ip}}function nV(t){return JM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function eb(t,e){const n=fh(t);tb(n,e),rV(n,e)}function tb(t,e){const n=JS.get(t);if(n)for(const r of n)r(e)}function rV(t,e){const n=sV();n&&n.postMessage({key:t,fid:e}),iV()}let Qs=null;function sV(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{tb(t.data.key,t.data.fid)}),Qs}function iV(){JS.size===0&&Qs&&(Qs.close(),Qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="firebase-installations-database",oV=1,gi="firebase-installations-store";let Nf=null;function gy(){return Nf||(Nf=dT(aV,oV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gi)}}})),Nf}async function ad(t,e){const n=fh(t),s=(await gy()).transaction(gi,"readwrite"),i=s.objectStore(gi),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&eb(t,e.fid),e}async function nb(t){const e=fh(t),r=(await gy()).transaction(gi,"readwrite");await r.objectStore(gi).delete(e),await r.done}async function mh(t,e){const n=fh(t),s=(await gy()).transaction(gi,"readwrite"),i=s.objectStore(gi),a=await i.get(n),o=e(a);return o===void 0?await i.delete(n):await i.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&eb(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(t){let e;const n=await mh(t.appConfig,r=>{const s=lV(r),i=uV(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ip?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lV(t){const e=t||{fid:tV(),registrationStatus:0};return rb(e)}function uV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(pi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=cV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:dV(t)}:{installationEntry:e}}async function cV(t,e){try{const n=await XM(t,e);return ad(t.appConfig,n)}catch(n){throw HS(n)&&n.customData.serverCode===409?await nb(t.appConfig):await ad(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function dV(t){let e=await cx(t.appConfig);for(;e.registrationStatus===1;)await XS(100),e=await cx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await yy(t);return r||n}return e}function cx(t){return mh(t,e=>{if(!e)throw pi.create("installation-not-found");return rb(e)})}function rb(t){return hV(t)?{fid:t.fid,registrationStatus:0}:t}function hV(t){return t.registrationStatus===1&&t.registrationTime+BS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV({appConfig:t,heartbeatServiceProvider:e},n){const r=mV(t,n),s=QM(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:qS,appId:t.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},c=await ZS(()=>fetch(r,o));if(c.ok){const d=await c.json();return GS(d)}else throw await QS("Generate Auth Token",c)}function mV(t,{fid:e}){return`${KS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(t,e=!1){let n;const r=await mh(t.appConfig,i=>{if(!sb(i))throw pi.create("not-registered");const a=i.authToken;if(!e&&yV(a))return i;if(a.requestStatus===1)return n=pV(t,e),i;{if(!navigator.onLine)throw pi.create("app-offline");const o=_V(i);return n=gV(t,o),o}});return n?await n:r.authToken}async function pV(t,e){let n=await dx(t.appConfig);for(;n.authToken.requestStatus===1;)await XS(100),n=await dx(t.appConfig);const r=n.authToken;return r.requestStatus===0?vy(t,e):r}function dx(t){return mh(t,e=>{if(!sb(e))throw pi.create("not-registered");const n=e.authToken;return xV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gV(t,e){try{const n=await fV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ad(t.appConfig,r),n}catch(n){if(HS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nb(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ad(t.appConfig,r)}throw n}}function sb(t){return t!==void 0&&t.registrationStatus===2}function yV(t){return t.requestStatus===2&&!vV(t)}function vV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+WM}function _V(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xV(t){return t.requestStatus===1&&t.requestTime+BS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t){const e=t,{installationEntry:n,registrationPromise:r}=await yy(e);return r?r.catch(console.error):vy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e=!1){const n=t;return await TV(n),(await vy(n,e)).token}async function TV(t){const{registrationPromise:e}=await yy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){if(!t||!t.options)throw Cf("App Configuration");if(!t.name)throw Cf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cf(t){return pi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="installations",bV="installations-internal",kV=t=>{const e=t.getProvider("app").getImmediate(),n=SV(e),r=Ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},IV=t=>{const e=t.getProvider("app").getImmediate(),n=Ma(e,ib).getImmediate();return{getId:()=>wV(n),getToken:s=>EV(n,s)}};function NV(){Dr(new ur(ib,kV,"PUBLIC")),Dr(new ur(bV,IV,"PRIVATE"))}NV();Rn($S,py);Rn($S,py,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="analytics",CV="firebase_id",AV="origin",RV=60*1e3,PV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_y="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new bg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new Wd("analytics","Analytics",jV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){if(!t.startsWith(_y)){const e=xn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function ab(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function MV(t,e){const n=OV("firebase-js-sdk-policy",{createScriptURL:DV}),r=document.createElement("script"),s=`${_y}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function VV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function LV(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await ab(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(o){fn.error(o)}t("config",s,i)}async function UV(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await ab(n);for(const c of a){const d=o.find(m=>m.measurementId===c),f=d&&e[d.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){fn.error(i)}}function FV(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[o,c]=a;await UV(t,e,n,o,c)}else if(i==="config"){const[o,c]=a;await LV(t,e,n,r,o,c)}else if(i==="consent"){const[o,c]=a;t("consent",o,c)}else if(i==="get"){const[o,c,d]=a;t("get",o,c,d)}else if(i==="set"){const[o]=a;t("set",o)}else t(i,...a)}catch(o){fn.error(o)}}return s}function zV(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=FV(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function $V(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_y)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=30,qV=1e3;class WV{constructor(e={},n=qV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ob=new WV;function HV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function KV(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:HV(r)},i=PV.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let o="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(o=c.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function GV(t,e=ob,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw xn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw xn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new ZV;return setTimeout(async()=>{o.abort()},RV),lb({appId:r,apiKey:s,measurementId:i},a,o,e)}async function lb(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=ob){var i;const{appId:a,measurementId:o}=t;try{await QV(r,e)}catch(c){if(o)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw c}try{const c=await KV(t);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!YV(d)){if(s.deleteThrottleMetadata(a),o)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:o};throw c}const f=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?c_(n,s.intervalMillis,BV):c_(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(a,m),fn.debug(`Calling attemptFetch again in ${f} millis`),lb(t,m,r,s)}}function QV(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YV(t){if(!(t instanceof zr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ZV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XV(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(){if(oT())try{await lT()}catch(t){return fn.warn(xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eL(t,e,n,r,s,i,a){var o;const c=GV(t);c.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>fn.error(y)),e.push(c);const d=JV().then(y=>{if(y)return r.getId()}),[f,m]=await Promise.all([c,d]);$V(i)||MV(i,f.measurementId),s("js",new Date);const p=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return p[AV]="firebase",p.update=!0,m!=null&&(p[CV]=m),s("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.app=e}_delete(){return delete Bo[this.app.options.appId],Promise.resolve()}}let Bo={},hx=[];const fx={};let Af="dataLayer",nL="gtag",mx,ub,px=!1;function rL(){const t=[];if(Yj()&&t.push("This is a browser extension environment."),Xj()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function sL(t,e,n){rL();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(Bo[r]!=null)throw xn.create("already-exists",{id:r});if(!px){VV(Af);const{wrappedGtag:i,gtagCore:a}=zV(Bo,hx,fx,Af,nL);ub=i,mx=a,px=!0}return Bo[r]=eL(t,hx,fx,e,mx,Af,n),new tL(t)}function iL(t=Ig()){t=mn(t);const e=Ma(t,od);return e.isInitialized()?e.getImmediate():aL(t)}function aL(t,e={}){const n=Ma(t,od);if(n.isInitialized()){const s=n.getImmediate();if(Hc(e,n.getOptions()))return s;throw xn.create("already-initialized")}return n.initialize({options:e})}function oL(t,e,n,r){t=mn(t),XV(ub,Bo[t.app.options.appId],e,n,r).catch(s=>fn.error(s))}const gx="@firebase/analytics",yx="0.10.8";function lL(){Dr(new ur(od,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return sL(r,s,n)},"PUBLIC")),Dr(new ur("analytics-internal",t,"PRIVATE")),Rn(gx,yx),Rn(gx,yx,"esm2017");function t(e){try{const n=e.getProvider(od).getImmediate();return{logEvent:(r,s,i)=>oL(n,r,s,i)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}lL();const uL={apiKey:"AIzaSyB3HyG3Nfh7PiIc6OQNQSO960k8pD_V7eA",authDomain:"humancentricdealflow.firebaseapp.com",projectId:"humancentricdealflow",storageBucket:"humancentricdealflow.firebasestorage.app",messagingSenderId:"1041871370052",appId:"1:1041871370052:web:c0b6687475e105b1f24911",measurementId:"G-TSP8ED02CB"},xy=fT(uL),Vt=Z4(xy);FM(xy);typeof window<"u"&&iL(xy);const Lt={USERS:"users",DEALS:"deals",ORGANIZATIONS:"organizations",TRANSACTIONS:"transactions",DOCUMENTS:"documents",ACTIVITIES:"activities",MESSAGES:"messages",NOTIFICATIONS:"notifications",POSTS:"posts",COMMENTS:"comments",LIVE_ROOMS:"liveRooms",CONNECTIONS:"connections"};class cL extends Error{constructor(e,n,r){super(e),this.code=n,this.originalError=r,this.name="DatabaseError"}}const mo=t=>{var s;console.error("Firestore error:",t);const e={"permission-denied":{code:"ACCESS_DENIED",message:"You do not have permission to perform this action"},"not-found":{code:"NOT_FOUND",message:"The requested resource was not found"},"already-exists":{code:"DUPLICATE",message:"This resource already exists"},"resource-exhausted":{code:"RATE_LIMIT",message:"Too many requests. Please try again later"},"failed-precondition":{code:"INVALID_STATE",message:"Operation cannot be performed in current state"},"invalid-argument":{code:"INVALID_INPUT",message:"Invalid input provided"}},n=((s=t.code)==null?void 0:s.split("/")[1])||"unknown",r=e[n]||{code:"UNKNOWN_ERROR",message:"An unexpected error occurred"};throw new cL(r.message,r.code,t)};class dL{constructor(){this.cache=new Map,this.defaultTTL=5*60*1e3}set(e,n,r=this.defaultTTL){this.cache.set(e,{data:n,timestamp:Date.now()+r})}get(e){const n=this.cache.get(e);return n?Date.now()>n.timestamp?(this.cache.delete(e),null):n.data:null}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}static generateQueryKey(e,n){const r=Object.entries(n).sort(([s],[i])=>s.localeCompare(i)).map(([s,i])=>`${s}=${JSON.stringify(i)}`).join("&");return`${e}?${r}`}}const Rf=new dL,hL={maxAttempts:3,baseDelay:1e3,maxDelay:1e4,shouldRetry:t=>{var n;return["unavailable","resource-exhausted","deadline-exceeded","cancelled"].includes((n=t.code)==null?void 0:n.split("/")[1])}};async function vx(t,e={}){const n={...hL,...e};let r;for(let s=1;s<=n.maxAttempts;s++)try{return await t()}catch(i){if(r=i,s===n.maxAttempts||!n.shouldRetry(i))throw i;const a=Math.min(n.baseDelay*Math.pow(2,s-1),n.maxDelay),o=Math.random()*200;await new Promise(c=>setTimeout(c,a+o))}throw r}const ji=t=>t instanceof Pe?t.toDate().toISOString():t;class ni{static async createDeal(e){try{const n=ss(Vt,Lt.DEALS);return(await rd(n,{...e,metadata:{...e.metadata,createdAt:Pe.now(),updatedAt:Pe.now()}})).id}catch(n){throw mo(n)}}static async getDeal(e){try{const n=`deal_${e}`,r=Rf.get(n);if(r)return r;const s=Tr(Vt,Lt.DEALS,e),i=await vx(()=>OS(s));if(!i.exists())return null;const a=i.data(),o={id:i.id,...a,metadata:{...a.metadata,createdAt:ji(a.metadata.createdAt),updatedAt:ji(a.metadata.updatedAt)}};return Rf.set(n,o),o}catch(n){throw mo(n)}}static async updateDeal(e,n){try{const r=Tr(Vt,Lt.DEALS,e);await bo(r,{...n,"metadata.updatedAt":Pe.now()}),Rf.delete(`deal_${e}`)}catch(r){throw mo(r)}}static async queryDeals(e=[],n,r=10){try{const s=ss(Vt,Lt.DEALS);let i=bl(s,...e,sp("metadata.createdAt","desc"),RS(r));n&&(i=bl(i,oM(n)));const a=await vx(()=>MS(i));return{deals:a.docs.map(c=>{const d=c.data();return{id:c.id,...d,metadata:{...d.metadata,createdAt:ji(d.metadata.createdAt),updatedAt:ji(d.metadata.updatedAt)}}}),lastDoc:a.docs[a.docs.length-1]||null}}catch(s){throw mo(s)}}static async logActivity(e){try{const n=ss(Vt,Lt.ACTIVITIES);return(await rd(n,{...e,metadata:{...e.metadata,timestamp:Pe.now()}})).id}catch(n){throw mo(n)}}static createQueryConstraints(e){return Object.entries(e).filter(([n,r])=>r!=null).map(([n,r])=>ly(n,"==",r))}static subscribeToDeal(e,n){const r=Tr(Vt,Lt.DEALS,e);return my(r,s=>{if(!s.exists()){n(null);return}const i=s.data(),a={id:s.id,...i,metadata:{...i.metadata,createdAt:ji(i.metadata.createdAt),updatedAt:ji(i.metadata.updatedAt)}};n(a)})}}const fL=[{id:"1",name:"Sarah Johnson",role:"Lead Investor",avatar:"https://randomuser.me/api/portraits/women/65.jpg",status:"online"},{id:"2",name:"Michael Chen",role:"Legal Advisor",avatar:"https://randomuser.me/api/portraits/men/32.jpg",status:"online"},{id:"3",name:"Emma Davis",role:"Finance Manager",avatar:"https://randomuser.me/api/portraits/women/45.jpg",status:"away"},{id:"4",name:"James Wilson",role:"Due Diligence",avatar:"https://randomuser.me/api/portraits/men/45.jpg",status:"online"}];function mL(){const{user:t}=Rs(),e=Oa(),[n,r]=j.useState(null),[s,i]=j.useState("template"),[a,o]=j.useState(!1),[c,d]=j.useState({template:null,syndicate:null,fees:null,investors:[]}),f=A=>{r(A),d(w=>({...w,template:A})),i("syndicate")},m=A=>{d(w=>({...w,syndicate:A})),i("fees")},p=A=>{d(w=>({...w,fees:A})),i("investors")},y=A=>{d(w=>({...w,investors:A}))},E=async()=>{var A,w,_,I,D,U,z,T,v;if(t)try{o(!0);const S={title:((A=c.template)==null?void 0:A.name)||"Untitled Deal",type:((w=c.syndicate)==null?void 0:w.type)||"Investment",status:"active",visibility:"private",overview:{description:((_=c.syndicate)==null?void 0:_.description)||"",highlights:[],sector:[((I=c.template)==null?void 0:I.industry)||"Other"],region:((D=c.syndicate)==null?void 0:D.jurisdiction)||"Global"},financial:{value:parseFloat((U=c.syndicate)==null?void 0:U.targetRaise)||0,currency:((z=c.syndicate)==null?void 0:z.currency)||"USD",minimumInvestment:parseFloat((T=c.syndicate)==null?void 0:T.minInvestment)||0,targetRaise:parseFloat((v=c.syndicate)==null?void 0:v.targetRaise)||0},participants:{owner:t.id,leads:[],investors:[],advisors:[]},stages:{current:"kyc",kyc:{status:"pending",documents:[]},dueDiligence:{status:"pending",documents:[]},negotiation:{status:"pending",documents:[]},closing:{status:"pending",documents:[]}},documents:[],metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:t.id,views:0,interested:0}},k=await ni.createDeal(S);await ni.logActivity({type:"deal",action:"create",dealId:k,userId:t.id,details:{description:`Deal "${S.title}" created`},metadata:{timestamp:new Date().toISOString()}}),e(`/deals/${k}`)}catch(S){console.error("Error saving deal:",S)}finally{o(!1)}},N=()=>{switch(s){case"template":return u.jsx(Dj,{onTemplateSelect:f});case"syndicate":return u.jsx(Oj,{onSubmit:m});case"fees":return u.jsx(Mj,{syndicateDetails:c.syndicate,onSubmit:p});case"investors":return u.jsx(Vj,{onSubmit:y});default:return null}};return u.jsxs("div",{className:"min-h-[calc(100vh-5rem)] bg-gray-50 space-y-6",children:[u.jsx("div",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"New Deal"}),n&&u.jsxs("p",{className:"text-gray-500",children:["Template: ",n.name]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg",children:[u.jsx(vg,{className:"w-5 h-5"}),"Invite Participants"]}),u.jsx("button",{onClick:E,disabled:a,className:"gradient-btn disabled:opacity-50",children:a?"Saving...":"Save Deal"})]})]}),u.jsx("div",{className:"flex justify-between items-center",children:[{id:"template",icon:fs,label:"Select Template"},{id:"syndicate",icon:aP,label:"Syndicate Setup"},{id:"fees",icon:xs,label:"Fee Structure"},{id:"investors",icon:Fr,label:"Investor Management"}].map(A=>u.jsxs("button",{onClick:()=>i(A.id),className:`flex flex-col items-center gap-2 ${s===A.id?"text-blue-600":"text-gray-400"}`,children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s===A.id?"bg-blue-100":"bg-gray-100"}`,children:u.jsx(A.icon,{className:"w-5 h-5"})}),u.jsx("span",{className:"text-sm",children:A.label})]},A.id))})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[u.jsx(tT,{users:fL}),u.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[u.jsx("div",{className:"col-span-3",children:u.jsx(Y1,{})}),u.jsx("div",{className:"col-span-6",children:N()}),u.jsx("div",{className:"col-span-3",children:u.jsx(eT,{})})]})]})]})}function pL({currentStage:t,onStageChange:e}){const n=[{id:"kyc",name:"KYC",description:"Know Your Customer verification",status:"completed"},{id:"due-diligence",name:"Due Diligence",description:"Comprehensive evaluation and analysis",status:"active"},{id:"deal-structuring",name:"Deal Structuring",description:"Define terms and conditions",status:"pending"},{id:"negotiation",name:"Negotiation",description:"Finalize deal terms",status:"pending"},{id:"signing",name:"Signing",description:"Execute final agreements",status:"pending"}];return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Deal Progress"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-5 left-5 right-5 h-0.5 bg-gray-200",children:u.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-600 transition-all duration-500",style:{width:`${n.findIndex(r=>r.id===t)/(n.length-1)*100}%`}})}),u.jsx("div",{className:"relative flex justify-between",children:n.map(r=>u.jsxs("button",{onClick:()=>e(r.id),className:`flex flex-col items-center w-32 ${r.id===t?"cursor-default":"cursor-pointer"}`,children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center bg-white border-2 ${r.status==="completed"?"border-green-500 text-green-500":r.status==="active"?"border-blue-500 text-blue-500":"border-gray-300 text-gray-300"}`,children:r.status==="completed"?u.jsx(V1,{className:"w-6 h-6"}):u.jsx(Vm,{className:"w-6 h-6"})}),u.jsxs("div",{className:"text-center mt-2",children:[u.jsx("p",{className:`font-medium ${r.status==="completed"?"text-green-600":r.status==="active"?"text-blue-600":"text-gray-500"}`,children:r.name}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.description})]})]},r.id))})]})]})}function wy(){const t=Oa(),e=mg(),[n,r]=j.useState({previousPath:null,currentPath:e.pathname});return j.useEffect(()=>{r(a=>({previousPath:a.currentPath,currentPath:e.pathname}))},[e]),{navigate:(a,o)=>{try{t(a,{state:o==null?void 0:o.state})}catch{o!=null&&o.fallback&&t(o.fallback)}},goBack:()=>{n.previousPath?t(n.previousPath):t("/")},currentPath:n.currentPath,previousPath:n.previousPath}}function gL(){var m,p;const{dealId:t}=P1(),{goBack:e}=wy(),[n,r]=j.useState(null),[s,i]=j.useState(!0),[a,o]=j.useState(null),[c,d]=j.useState("kyc");j.useEffect(()=>{(async()=>{if(t)try{i(!0),o(null);const E=await ni.getDeal(t);if(!E){o("Deal not found");return}r(E),d(E.stages.current)}catch(E){console.error("Error fetching deal:",E),o("Failed to load deal details. Please try again.")}finally{i(!1)}})()},[t]);const f=async y=>{if(t)try{await ni.updateDeal(t,{"stages.current":y,"metadata.updatedAt":new Date().toISOString()}),d(y),await ni.logActivity({type:"deal",action:"stage_change",dealId:t,details:{description:`Deal stage updated to ${y}`,oldStage:c,newStage:y},metadata:{timestamp:new Date().toISOString()}})}catch(E){console.error("Error updating deal stage:",E)}};return s?u.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-5rem)]",children:u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})}):a||!n?u.jsx("div",{className:"max-w-2xl mx-auto py-12",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[u.jsx(Wl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a||"Deal not found"}),u.jsx("p",{className:"text-gray-600 mb-6",children:a?"We encountered an error while loading the deal details.":"The deal you're looking for doesn't exist or you don't have access."}),u.jsx("button",{onClick:e,className:"gradient-btn",children:"Go Back"})]})}):u.jsxs("div",{className:"min-h-[calc(100vh-5rem)] bg-gray-50 space-y-6",children:[u.jsx("div",{className:"bg-white shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-900",children:u.jsx(O1,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),u.jsxs("p",{className:"text-gray-500",children:["ID: ",t]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(H1,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Stage"})]}),u.jsx("p",{className:"font-medium capitalize",children:n.stages.current})]}),u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(fs,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Value"})]}),u.jsxs("p",{className:"font-medium",children:[n.financial.value.toLocaleString()," ",n.financial.currency]})]}),u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(_g,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Participants"})]}),u.jsx("p",{className:"font-medium",children:Object.keys(n.participants).length})]}),u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx($d,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Last Updated"})]}),u.jsx("p",{className:"font-medium",children:new Date(n.metadata.updatedAt).toLocaleDateString()})]})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[u.jsx(pL,{currentStage:c,onStageChange:f}),u.jsx(tT,{users:Object.values(n.participants)}),u.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[u.jsx("div",{className:"col-span-3",children:u.jsx(Y1,{})}),u.jsx("div",{className:"col-span-6",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Deal Description"}),u.jsx("p",{className:"text-gray-600",children:n.overview.description})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Key Documents"}),u.jsx("div",{className:"space-y-2",children:(m=n.documents)==null?void 0:m.map((y,E)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(fs,{className:"w-5 h-5 text-blue-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:y.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Added ",new Date(y.uploadedAt).toLocaleDateString()]})]})]}),u.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View"})]},E))})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Deal Highlights"}),u.jsx("div",{className:"space-y-2",children:(p=n.overview.highlights)==null?void 0:p.map((y,E)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(fs,{className:"w-4 h-4 text-blue-600"})}),u.jsx("p",{className:"text-gray-700",children:y})]},E))})]})]})}),u.jsx("div",{className:"col-span-3",children:u.jsx(eT,{})})]})]})]})}function yL(){const{user:t}=Rs(),e=Oa(),[n,r]=j.useState(""),[s,i]=j.useState("all"),[a,o]=j.useState([]),[c,d]=j.useState(!0),[f,m]=j.useState(null),[p,y]=j.useState(0);j.useEffect(()=>{(async()=>{if(t)try{d(!0),m(null);const I=[];s!=="all"&&I.push(ni.createQueryConstraints({"stages.current":s})[0]);const{deals:D}=await ni.queryDeals(I);o(D)}catch(I){console.error("Error fetching deals:",I),m("Unable to load deals. Please try again.")}finally{d(!1)}})()},[s,p,t]);const E=()=>{y(_=>_+1)},N=a.filter(_=>_.title.toLowerCase().includes(n.toLowerCase())||_.overview.description.toLowerCase().includes(n.toLowerCase())),A=["kyc","dueDiligence","negotiation","closing"],w=_=>{e(`/deals/${_}`)};return c?u.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-5rem)]",children:u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Active Deals"}),u.jsx("button",{onClick:()=>e("/new-deal"),className:"gradient-btn",children:"Create New Deal"})]}),f&&u.jsxs("div",{className:"bg-red-50 text-red-600 rounded-lg p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Wl,{className:"w-5 h-5"}),u.jsx("span",{children:f})]}),u.jsx("button",{onClick:E,className:"px-3 py-1 bg-red-100 rounded-md hover:bg-red-200 transition-colors",children:"Retry"})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search deals...",value:n,onChange:_=>r(_.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("select",{value:s,onChange:_=>i(_.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"All Stages"}),A.map(_=>u.jsx("option",{value:_,children:_.charAt(0).toUpperCase()+_.slice(1)},_))]})]}),u.jsx("div",{className:"space-y-4",children:N.length===0?u.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:u.jsx("p",{className:"text-gray-500",children:"No deals found. Create your first deal!"})}):N.map(_=>u.jsxs("div",{onClick:()=>w(_.id),className:"bg-gray-50 rounded-lg p-6 hover:bg-gray-100 transition-colors cursor-pointer",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:_.title}),u.jsx("p",{className:"text-gray-600",children:_.overview.description})]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.stages.current==="kyc"?"bg-blue-100 text-blue-700":_.stages.current==="dueDiligence"?"bg-yellow-100 text-yellow-700":_.stages.current==="negotiation"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:_.stages.current})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(H1,{className:"w-4 h-4"}),u.jsx("span",{children:_.type})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(_g,{className:"w-4 h-4"}),u.jsxs("span",{children:[Object.keys(_.participants).length," Participants"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(DR,{className:"w-4 h-4"}),u.jsxs("span",{children:[_.financial.value.toLocaleString()," ",_.financial.currency]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx($d,{className:"w-4 h-4"}),u.jsx("span",{children:wg(new Date(_.metadata.updatedAt),{addSuffix:!0})})]})]}),u.jsx("div",{className:"mt-4 pt-4 border-t",children:u.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${A.indexOf(_.stages.current)/(A.length-1)*100}%`}})})})]},_.id))})]})]})}function vL(){const[t,e]=j.useState(""),n=Oa(),s=[{id:1,name:"Sarah Johnson",role:"Investment Director",company:"Venture Capital Partners",location:"San Francisco, CA",avatar:"https://randomuser.me/api/portraits/women/65.jpg",mutualConnections:15,tags:["Venture Capital","Tech Investment"]},{id:2,name:"Michael Chen",role:"M&A Advisor",company:"Global Advisory Group",location:"New York, NY",avatar:"https://randomuser.me/api/portraits/men/32.jpg",mutualConnections:8,tags:["M&A","Financial Advisory"]},{id:3,name:"Emma Davis",role:"Legal Counsel",company:"Davis & Associates",location:"London, UK",avatar:"https://randomuser.me/api/portraits/women/45.jpg",mutualConnections:12,tags:["Legal","Corporate Law"]}].filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.company.toLowerCase().includes(t.toLowerCase()));return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Network"}),u.jsxs("button",{className:"gradient-btn flex items-center gap-2",children:[u.jsx(vg,{className:"w-5 h-5"}),"Add Connection"]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsx("div",{className:"flex gap-4 mb-6",children:u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search connections...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:i=>e(i.target.value)})]})}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>u.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n(`/network/${i.id}`),children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("img",{src:i.avatar,alt:i.name,className:"w-16 h-16 rounded-full"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-lg",children:i.name}),u.jsx("p",{className:"text-gray-600",children:i.role}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[u.jsx(fl,{className:"w-4 h-4"}),i.company]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[u.jsx($1,{className:"w-4 h-4"}),i.location]})]})]}),u.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:i.tags.map((a,o)=>u.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:a},o))}),u.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[u.jsx(Bd,{className:"w-4 h-4"}),i.mutualConnections," mutual connections"]}),u.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Profile"})]})]},i.id))})]})]})}const Di=t=>t instanceof Pe?t.toDate().toISOString():t,pc={async getUser(t){try{const e=await OS(Tr(Vt,Lt.USERS,t));if(!e.exists())return null;const n=e.data();return{id:e.id,...n,createdAt:Di(n.createdAt),updatedAt:Di(n.updatedAt)}}catch(e){throw console.error("Error fetching user:",e),e}},async updateUser(t,e){try{await bo(Tr(Vt,Lt.USERS,t),{...e,updatedAt:Pe.now()})}catch(n){throw console.error("Error updating user:",n),n}},async createPost(t){try{return(await rd(ss(Vt,Lt.POSTS),{...t,createdAt:Pe.now(),updatedAt:Pe.now(),likes:0,shares:0,comments:[],likedBy:{}})).id}catch(e){throw console.error("Error creating post:",e),e}},async getAllPosts(){try{const t=bl(ss(Vt,Lt.POSTS),sp("createdAt","desc"),RS(20));return(await MS(t)).docs.map(n=>{const r=n.data();return{id:n.id,...r,createdAt:Di(r.createdAt),updatedAt:Di(r.updatedAt)}})}catch(t){throw console.error("Error fetching posts:",t),t}},async likePost(t,e){try{const n=Tr(Vt,Lt.POSTS,t);await bo(n,{likes:hM(1),[`likedBy.${e}`]:!0,updatedAt:Pe.now()})}catch(n){throw console.error("Error liking post:",n),n}},async createLiveRoom(t,e){try{return(await rd(ss(Vt,Lt.LIVE_ROOMS),{status:"active",participants:{[t]:{joinedAt:Pe.now(),userId:t}},preferences:e,createdAt:Pe.now()})).id}catch(n){throw console.error("Error creating live room:",n),n}},async joinLiveRoom(t,e,n){try{const r=Tr(Vt,Lt.LIVE_ROOMS,t);await bo(r,{[`participants.${e}`]:{joinedAt:Pe.now(),userId:e,...n}})}catch(r){throw console.error("Error joining live room:",r),r}},async leaveLiveRoom(t,e){try{const n=Tr(Vt,Lt.LIVE_ROOMS,t);await bo(n,{[`participants.${e}.leftAt`]:Pe.now()})}catch(n){throw console.error("Error leaving live room:",n),n}},subscribeToLiveRooms(t){const e=bl(ss(Vt,Lt.LIVE_ROOMS),ly("status","==","active"),sp("createdAt","desc"));return my(e,n=>{const r=n.docs.map(s=>({id:s.id,...s.data(),createdAt:Di(s.data().createdAt),endedAt:s.data().endedAt?Di(s.data().endedAt):void 0}));t(r)})}};function _L(){var a,o,c,d,f;const{userId:t}=P1(),{goBack:e}=wy(),[n,r]=j.useState(null),[s,i]=j.useState(!0);return j.useEffect(()=>{(async()=>{if(t)try{const p=await pc.getUser(t);r(p)}catch(p){console.error("Error fetching profile:",p)}finally{i(!1)}})()},[t]),s?u.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-5rem)]",children:u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})}):n?u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[u.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[u.jsx(O1,{className:"w-5 h-5"}),"Back to Network"]}),u.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("img",{src:n.profilePicture,alt:n.fullName,className:"w-20 h-20 rounded-full"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:n.fullName}),u.jsx("p",{className:"text-gray-600",children:n.jobTitle})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(fl,{className:"w-5 h-5"}),u.jsx("span",{children:n.organizationName})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx($1,{className:"w-5 h-5"}),u.jsx("span",{children:`${n.location.city}, ${n.location.country}`})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(GR,{className:"w-5 h-5"}),u.jsx("span",{children:n.email})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(tP,{className:"w-5 h-5"}),u.jsx("span",{children:n.phoneNumber})]})]}),u.jsx("div",{className:"mt-6 pt-6 border-t",children:u.jsx("button",{className:"w-full gradient-btn",children:"Schedule Meeting"})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Professional Details"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Industry"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(a=n.industry)==null?void 0:a.map((m,p)=>u.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-sm",children:m},p))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Expertise"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(o=n.expertise)==null?void 0:o.map((m,p)=>u.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:m},p))})]})]})]})]}),u.jsxs("div",{className:"col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Deal History"}),u.jsx("div",{className:"space-y-4",children:(c=n.pastDeals)==null?void 0:c.map((m,p)=>u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:m.title}),u.jsx("p",{className:"text-sm text-gray-500",children:m.type})]}),u.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[m.value," ",m.currency]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(pg,{className:"w-4 h-4"}),u.jsx("span",{children:m.date})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Bd,{className:"w-4 h-4"}),u.jsx("span",{children:m.outcome})]})]})]},p))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notable Partnerships"}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:(d=n.notablePartnerships)==null?void 0:d.map((m,p)=>u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsx(fl,{className:"w-5 h-5 text-gray-600 mb-2"}),u.jsx("p",{children:m})]},p))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recommendations"}),u.jsx("div",{className:"space-y-4",children:(f=n.recommendations)==null?void 0:f.map((m,p)=>u.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-gray-600 mb-2",children:m.text}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium",children:m.from}),u.jsx("span",{className:"text-sm text-gray-500",children:m.date})]})]},p))})]})]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile not found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"The profile you're looking for doesn't exist or you don't have access."}),u.jsx("button",{onClick:e,className:"gradient-btn",children:"Go Back"})]})}const _x=[{path:"/wall",icon:ui,label:"Feed"},{path:"/live-rooms",icon:xg,label:"Live Deal Rooms"},{path:"/marketplace",icon:lP,label:"Marketplace"},{path:"/new-deal",icon:nP,label:"New Deal"},{path:"/deals",icon:fs,label:"Deals"},{path:"/network",icon:_g,label:"Network"},{path:"/profile",icon:FR,label:"Profile"},{path:"/dashboard",icon:z1,label:"Dashboard"}];function xL(){const{isSignedIn:t}=Rs(),{currentPath:e,navigate:n}=wy(),[r,s]=j.useState(!1),i=a=>e===a;return u.jsxs("nav",{className:"bg-white border-b",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("span",{className:"text-xl font-bold text-gray-800 cursor-pointer tracking-wider",onClick:()=>n("/"),children:"CALABI YAU"})}),t&&u.jsx("div",{className:"hidden md:flex md:ml-8 md:space-x-6",children:_x.map(a=>u.jsxs("button",{onClick:()=>n(a.path),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${i(a.path)?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[u.jsx(a.icon,{className:"w-5 h-5"}),u.jsx("span",{children:a.label})]},a.path))})]}),u.jsx("div",{className:"hidden md:flex items-center",children:t?u.jsx(V0,{afterSignOutUrl:"/"}):u.jsx("button",{onClick:()=>n("/sign-in"),className:"gradient-btn",children:"Sign In"})}),u.jsx("div",{className:"md:hidden",children:u.jsx("button",{onClick:()=>s(!r),className:"p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-blue-50",children:r?u.jsx(K1,{className:"w-6 h-6"}):u.jsx(YR,{className:"w-6 h-6"})})})]})}),r&&u.jsx("div",{className:"md:hidden border-t",children:u.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:u.jsx(V0,{afterSignOutUrl:"/"})}),_x.map(a=>u.jsxs("button",{onClick:()=>{n(a.path),s(!1)},className:`flex items-center gap-2 w-full px-3 py-2 rounded-md text-sm font-medium transition-colors ${i(a.path)?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:[u.jsx(a.icon,{className:"w-5 h-5"}),u.jsx("span",{children:a.label})]},a.path))]}):u.jsx("div",{className:"p-3",children:u.jsx("button",{onClick:()=>n("/sign-in"),className:"w-full gradient-btn",children:"Sign In"})})})})]})}const wL={sm:"max-w-screen-sm",md:"max-w-screen-md",lg:"max-w-screen-lg",xl:"max-w-screen-xl","2xl":"max-w-screen-2xl",full:"max-w-full"};function EL({children:t,className:e="",maxWidth:n="xl",padding:r=!0}){return u.jsx("div",{className:`
        w-full mx-auto 
        ${r?"px-4 sm:px-6 lg:px-8":""} 
        ${wL[n]} 
        ${e}
      `,children:t})}function TL({children:t}){const[e,n]=j.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("div",{className:"sticky top-0 z-50",children:u.jsx(xL,{isSidebarOpen:e,onSidebarToggle:()=>n(!e)})}),u.jsx("main",{className:"section-padding",children:u.jsx(EL,{children:t})}),e&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)})]})}function SL(){const t=Oa(),e=[{icon:M1,title:"Pitch and Mandate",description:"Investment banks compete to win mandates by pitching their expertise and services."},{icon:zR,title:"Due Diligence",description:"Extensive evaluation of financial situations, market conditions, and potential opportunities."},{icon:$R,title:"Structuring and Negotiation",description:"Expert deal structuring and negotiation of terms based on thorough analysis."},{icon:rP,title:"Marketing and Distribution",description:"Strategic marketing and distribution of securities through established networks."},{icon:BR,title:"Execution and Closing",description:"Seamless execution and facilitation of asset and security transfers."},{icon:B1,title:"Post-Transaction Support",description:"Ongoing advisory services including integration support and financial guidance."}],n=[{icon:z1,title:"Streamlined Workflow",description:"Experience a seamless deal management process with our intuitive platform."},{icon:Fr,title:"Real-time Collaboration",description:"Connect with team members and stakeholders through integrated communication tools."},{icon:HR,title:"Smart Analytics",description:"Make data-driven decisions with comprehensive analytics and reporting."},{icon:W1,title:"Enterprise Security",description:"Bank-grade security protocols protecting your sensitive deal information."}];return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx("nav",{className:"container mx-auto px-6 py-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-3xl font-bold tracking-wider text-black",children:"CALABI YAU"}),u.jsx("button",{onClick:()=>t("/sign-in"),className:"bg-black hover:bg-gray-800 text-white px-6 py-2 rounded-lg transition-colors",children:"Sign In"})]})}),u.jsxs("main",{className:"container mx-auto px-6",children:[u.jsxs("div",{className:"text-center py-24",children:[u.jsx("h1",{className:"text-4xl sm:text-6xl font-bold tracking-tight text-black",children:"A HUMAN CENTRIC DEAL FLOW PLATFORM"}),u.jsx("div",{className:"w-24 h-1 bg-black mx-auto my-6"}),u.jsx("p",{className:"text-lg sm:text-xl font-medium text-gray-700",children:"EVERY NEGOTIATION IS A MEETING OF MINDS"}),u.jsxs("div",{className:"mt-8 flex justify-center gap-6",children:[u.jsx("button",{onClick:()=>t("/sign-in"),className:"px-8 py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-800 transition transform hover:-translate-y-1",children:"Get Started"}),u.jsx("button",{onClick:()=>window.location.href="mailto:contact@calabiyau.com",className:"px-8 py-3 bg-white text-black rounded-lg border-2 border-black font-medium hover:bg-gray-50 transition transform hover:-translate-y-1",children:"Contact Us"})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[u.jsx(xx,{title:"Our Services",content:e,theme:"light",buttonLabel:"Get in Touch",buttonAction:()=>window.location.href="mailto:contact@calabiyau.com"}),u.jsx(xx,{title:"Deal Flow Platform",content:n,theme:"dark",buttonLabel:"Try Platform",buttonAction:()=>t("/sign-in")})]}),u.jsxs("div",{className:"text-center mt-24 mb-12",children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Trusted by Tier 1 VCs, Private Equity Firms, Investment Banks, and MNCs around the world"}),u.jsx("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-12 items-center opacity-50",children:["https://tier1.ventures/wp-content/uploads/2024/05/T1V__1_-removebg-preview-e1721149383624.png","https://banner2.cleanpng.com/20180518/pfl/avq46v77y.webp","https://upload.wikimedia.org/wikipedia/commons/0/08/Accel_%28Partners%29_2015_logo.png","https://upload.wikimedia.org/wikipedia/en/e/ee/Trilegal_Logo.png"].map((r,s)=>u.jsx("img",{src:r,alt:"Trusted Logo",className:"h-12 mx-auto object-contain"},s))})]})]})]})}function xx({title:t,content:e,theme:n,buttonLabel:r,buttonAction:s}){const i=n==="dark";return u.jsxs("div",{className:`rounded-2xl p-8 shadow-xl transition-shadow ${i?"bg-black text-white":"bg-white text-black border border-gray-100"}`,children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:t}),u.jsx("div",{className:"grid gap-6",children:e.map((a,o)=>u.jsxs("div",{className:"flex gap-4",children:[u.jsx(a.icon,{className:`w-6 h-6 ${i?"text-white":"text-black"}`}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold mb-1",children:a.title}),u.jsx("p",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:a.description})]})]},o))}),u.jsxs("button",{className:`w-full mt-8 px-6 py-3 rounded-lg flex items-center justify-center gap-2 ${i?"bg-white text-black hover:bg-gray-100":"bg-black text-white hover:bg-gray-800"} transition-colors`,onClick:s,children:[r,u.jsx(zd,{className:"w-5 h-5"})]})]})}var tu=t=>t.type==="checkbox",Ys=t=>t instanceof Date,Qt=t=>t==null;const cb=t=>typeof t=="object";var ut=t=>!Qt(t)&&!Array.isArray(t)&&cb(t)&&!Ys(t),db=t=>ut(t)&&t.target?tu(t.target)?t.target.checked:t.target.value:t,bL=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hb=(t,e)=>t.has(bL(e)),kL=t=>{const e=t.constructor&&t.constructor.prototype;return ut(e)&&e.hasOwnProperty("isPrototypeOf")},Ey=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ey&&(t instanceof Blob||t instanceof FileList))&&(n||ut(t)))if(e=n?[]:{},!n&&!kL(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=sn(t[r]));else return t;return e}var ph=t=>Array.isArray(t)?t.filter(Boolean):[],at=t=>t===void 0,Y=(t,e,n)=>{if(!e||!ut(t))return n;const r=ph(e.split(/[,[\].]+?/)).reduce((s,i)=>Qt(s)?s:s[i],t);return at(r)||r===t?at(t[e])?n:t[e]:r},kn=t=>typeof t=="boolean",Ty=t=>/^\w*$/.test(t),fb=t=>ph(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(t,e,n)=>{let r=-1;const s=Ty(e)?[e]:fb(e),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let c=n;if(r!==a){const d=t[o];c=ut(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(o==="__proto__")return;t[o]=c,t=t[o]}return t};const ld={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Un={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_r={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IL=$.createContext(null),Sy=()=>$.useContext(IL);var mb=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Un.all&&(e._proxyFormState[a]=!r||Un.all),n&&(n[a]=!0),t[a]}});return s},an=t=>ut(t)&&!Object.keys(t).length,pb=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return an(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Un.all))},qo=t=>Array.isArray(t)?t:[t],gb=(t,e,n)=>!t||!e||t===e||qo(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function by(t){const e=$.useRef(t);e.current=t,$.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function NL(t){const e=Sy(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,o]=$.useState(n._formState),c=$.useRef(!0),d=$.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=$.useRef(s);return f.current=s,by({disabled:r,next:m=>c.current&&gb(f.current,m.name,i)&&pb(m,d.current,n._updateFormState)&&o({...n._formState,...m}),subject:n._subjects.state}),$.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),mb(a,n,d.current,!1)}var nr=t=>typeof t=="string",yb=(t,e,n,r,s)=>nr(t)?(r&&e.watch.add(t),Y(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Y(n,i))):(r&&(e.watchAll=!0),n);function CL(t){const e=Sy(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a}=t||{},o=$.useRef(r);o.current=r,by({disabled:i,subject:n._subjects.values,next:f=>{gb(o.current,f.name,a)&&d(sn(yb(o.current,n._names,f.values||n._formValues,!1,s)))}});const[c,d]=$.useState(n._getWatch(r,s));return $.useEffect(()=>n._removeUnmounted()),c}function AL(t){const e=Sy(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,a=hb(s._names.array,n),o=CL({control:s,name:n,defaultValue:Y(s._formValues,n,Y(s._defaultValues,n,t.defaultValue)),exact:!0}),c=NL({control:s,name:n,exact:!0}),d=$.useRef(s.register(n,{...t.rules,value:o,...kn(t.disabled)?{disabled:t.disabled}:{}}));return $.useEffect(()=>{const f=s._options.shouldUnregister||i,m=(p,y)=>{const E=Y(s._fields,p);E&&E._f&&(E._f.mount=y)};if(m(n,!0),f){const p=sn(Y(s._options.defaultValues,n));Ue(s._defaultValues,n,p),at(Y(s._formValues,n))&&Ue(s._formValues,n,p)}return()=>{(a?f&&!s._state.action:f)?s.unregister(n):m(n,!1)}},[n,s,a,i]),$.useEffect(()=>{Y(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:Y(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:o,...kn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:$.useCallback(f=>d.current.onChange({target:{value:db(f),name:n},type:ld.CHANGE}),[n]),onBlur:$.useCallback(()=>d.current.onBlur({target:{value:Y(s._formValues,n),name:n},type:ld.BLUR}),[n,s]),ref:$.useCallback(f=>{const m=Y(s._fields,n);m&&f&&(m._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:p=>f.setCustomValidity(p),reportValidity:()=>f.reportValidity()})},[s._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Y(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Y(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Y(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Y(c.validatingFields,n)},error:{enumerable:!0,get:()=>Y(c.errors,n)}})}}const Oi=t=>t.render(AL(t));var vb=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},wx=t=>({isOnSubmit:!t||t===Un.onSubmit,isOnBlur:t===Un.onBlur,isOnChange:t===Un.onChange,isOnAll:t===Un.all,isOnTouch:t===Un.onTouched}),Ex=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Wo=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Y(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Wo(o,e))break}else if(ut(o)&&Wo(o,e))break}}};var RL=(t,e,n)=>{const r=qo(Y(t,n));return Ue(r,"root",e[n]),Ue(t,n,r),t},ky=t=>t.type==="file",tr=t=>typeof t=="function",ud=t=>{if(!Ey)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gc=t=>nr(t),Iy=t=>t.type==="radio",cd=t=>t instanceof RegExp;const Tx={value:!1,isValid:!1},Sx={value:!0,isValid:!0};var _b=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!at(t[0].attributes.value)?at(t[0].value)||t[0].value===""?Sx:{value:t[0].value,isValid:!0}:Sx:Tx}return Tx};const bx={isValid:!1,value:null};var xb=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bx):bx;function kx(t,e,n="validate"){if(gc(t)||Array.isArray(t)&&t.every(gc)||kn(t)&&!t)return{type:n,message:gc(t)?t:"",ref:e}}var Mi=t=>ut(t)&&!cd(t)?t:{value:t,message:""},Ix=async(t,e,n,r,s)=>{const{ref:i,refs:a,required:o,maxLength:c,minLength:d,min:f,max:m,pattern:p,validate:y,name:E,valueAsNumber:N,mount:A,disabled:w}=t._f,_=Y(e,E);if(!A||w)return{};const I=a?a[0]:i,D=R=>{r&&I.reportValidity&&(I.setCustomValidity(kn(R)?"":R||""),I.reportValidity())},U={},z=Iy(i),T=tu(i),v=z||T,S=(N||ky(i))&&at(i.value)&&at(_)||ud(i)&&i.value===""||_===""||Array.isArray(_)&&!_.length,k=vb.bind(null,E,n,U),P=(R,b,fe,xe=_r.maxLength,Ve=_r.minLength)=>{const $e=R?b:fe;U[E]={type:R?xe:Ve,message:$e,ref:i,...k(R?xe:Ve,$e)}};if(s?!Array.isArray(_)||!_.length:o&&(!v&&(S||Qt(_))||kn(_)&&!_||T&&!_b(a).isValid||z&&!xb(a).isValid)){const{value:R,message:b}=gc(o)?{value:!!o,message:o}:Mi(o);if(R&&(U[E]={type:_r.required,message:b,ref:I,...k(_r.required,b)},!n))return D(b),U}if(!S&&(!Qt(f)||!Qt(m))){let R,b;const fe=Mi(m),xe=Mi(f);if(!Qt(_)&&!isNaN(_)){const Ve=i.valueAsNumber||_&&+_;Qt(fe.value)||(R=Ve>fe.value),Qt(xe.value)||(b=Ve<xe.value)}else{const Ve=i.valueAsDate||new Date(_),$e=oe=>new Date(new Date().toDateString()+" "+oe),K=i.type=="time",ue=i.type=="week";nr(fe.value)&&_&&(R=K?$e(_)>$e(fe.value):ue?_>fe.value:Ve>new Date(fe.value)),nr(xe.value)&&_&&(b=K?$e(_)<$e(xe.value):ue?_<xe.value:Ve<new Date(xe.value))}if((R||b)&&(P(!!R,fe.message,xe.message,_r.max,_r.min),!n))return D(U[E].message),U}if((c||d)&&!S&&(nr(_)||s&&Array.isArray(_))){const R=Mi(c),b=Mi(d),fe=!Qt(R.value)&&_.length>+R.value,xe=!Qt(b.value)&&_.length<+b.value;if((fe||xe)&&(P(fe,R.message,b.message),!n))return D(U[E].message),U}if(p&&!S&&nr(_)){const{value:R,message:b}=Mi(p);if(cd(R)&&!_.match(R)&&(U[E]={type:_r.pattern,message:b,ref:i,...k(_r.pattern,b)},!n))return D(b),U}if(y){if(tr(y)){const R=await y(_,e),b=kx(R,I);if(b&&(U[E]={...b,...k(_r.validate,b.message)},!n))return D(b.message),U}else if(ut(y)){let R={};for(const b in y){if(!an(R)&&!n)break;const fe=kx(await y[b](_,e),I,b);fe&&(R={...fe,...k(b,fe.message)},D(fe.message),n&&(U[E]=R))}if(!an(R)&&(U[E]={ref:I,...R},!n))return U}}return D(!0),U};function PL(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=at(t)?r++:t[e[r++]];return t}function jL(t){for(const e in t)if(t.hasOwnProperty(e)&&!at(t[e]))return!1;return!0}function ft(t,e){const n=Array.isArray(e)?e:Ty(e)?[e]:fb(e),r=n.length===1?t:PL(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(ut(r)&&an(r)||Array.isArray(r)&&jL(r))&&ft(t,n.slice(0,-1)),t}var Pf=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},ap=t=>Qt(t)||!cb(t);function Zr(t,e){if(ap(t)||ap(e))return t===e;if(Ys(t)&&Ys(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Ys(i)&&Ys(a)||ut(i)&&ut(a)||Array.isArray(i)&&Array.isArray(a)?!Zr(i,a):i!==a)return!1}}return!0}var wb=t=>t.type==="select-multiple",DL=t=>Iy(t)||tu(t),jf=t=>ud(t)&&t.isConnected,Eb=t=>{for(const e in t)if(tr(t[e]))return!0;return!1};function dd(t,e={}){const n=Array.isArray(t);if(ut(t)||n)for(const r in t)Array.isArray(t[r])||ut(t[r])&&!Eb(t[r])?(e[r]=Array.isArray(t[r])?[]:{},dd(t[r],e[r])):Qt(t[r])||(e[r]=!0);return e}function Tb(t,e,n){const r=Array.isArray(t);if(ut(t)||r)for(const s in t)Array.isArray(t[s])||ut(t[s])&&!Eb(t[s])?at(e)||ap(n[s])?n[s]=Array.isArray(t[s])?dd(t[s],[]):{...dd(t[s])}:Tb(t[s],Qt(e)?{}:e[s],n[s]):n[s]=!Zr(t[s],e[s]);return n}var po=(t,e)=>Tb(t,e,dd(e)),Sb=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>at(t)?t:e?t===""?NaN:t&&+t:n&&nr(t)?new Date(t):r?r(t):t;function Df(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return ky(e)?e.files:Iy(e)?xb(t.refs).value:wb(e)?[...e.selectedOptions].map(({value:n})=>n):tu(e)?_b(t.refs).value:Sb(at(e.value)?t.ref.value:e.value,t)}var OL=(t,e,n,r)=>{const s={};for(const i of t){const a=Y(e,i);a&&Ue(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},go=t=>at(t)?t:cd(t)?t.source:ut(t)?cd(t.value)?t.value.source:t.value:t;const Nx="AsyncFunction";var ML=t=>(!t||!t.validate)&&!!(tr(t.validate)&&t.validate.constructor.name===Nx||ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Nx)),VL=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Cx(t,e,n){const r=Y(t,n);if(r||Ty(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Y(e,i),o=Y(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:n}}var LL=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,UL=(t,e)=>!ph(Y(t,e)).length&&ft(t,e);const FL={mode:Un.onSubmit,reValidateMode:Un.onChange,shouldFocusError:!0};function zL(t={}){let e={...FL,...t},n={submitCount:0,isDirty:!1,isLoading:tr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=ut(e.defaultValues)||ut(e.values)?sn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:sn(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Pf(),array:Pf(),state:Pf()},p=wx(e.mode),y=wx(e.reValidateMode),E=e.criteriaMode===Un.all,N=C=>O=>{clearTimeout(d),d=setTimeout(C,O)},A=async C=>{if(!e.disabled&&(f.isValid||C)){const O=e.resolver?an((await v()).errors):await k(r,!0);O!==n.isValid&&m.state.next({isValid:O})}},w=(C,O)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((C||Array.from(o.mount)).forEach(V=>{V&&(O?Ue(n.validatingFields,V,O):ft(n.validatingFields,V))}),m.state.next({validatingFields:n.validatingFields,isValidating:!an(n.validatingFields)}))},_=(C,O=[],V,Z,G=!0,W=!0)=>{if(Z&&V&&!e.disabled){if(a.action=!0,W&&Array.isArray(Y(r,C))){const te=V(Y(r,C),Z.argA,Z.argB);G&&Ue(r,C,te)}if(W&&Array.isArray(Y(n.errors,C))){const te=V(Y(n.errors,C),Z.argA,Z.argB);G&&Ue(n.errors,C,te),UL(n.errors,C)}if(f.touchedFields&&W&&Array.isArray(Y(n.touchedFields,C))){const te=V(Y(n.touchedFields,C),Z.argA,Z.argB);G&&Ue(n.touchedFields,C,te)}f.dirtyFields&&(n.dirtyFields=po(s,i)),m.state.next({name:C,isDirty:R(C,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ue(i,C,O)},I=(C,O)=>{Ue(n.errors,C,O),m.state.next({errors:n.errors})},D=C=>{n.errors=C,m.state.next({errors:n.errors,isValid:!1})},U=(C,O,V,Z)=>{const G=Y(r,C);if(G){const W=Y(i,C,at(V)?Y(s,C):V);at(W)||Z&&Z.defaultChecked||O?Ue(i,C,O?W:Df(G._f)):xe(C,W),a.mount&&A()}},z=(C,O,V,Z,G)=>{let W=!1,te=!1;const de={name:C};if(!e.disabled){const Te=!!(Y(r,C)&&Y(r,C)._f&&Y(r,C)._f.disabled);if(!V||Z){f.isDirty&&(te=n.isDirty,n.isDirty=de.isDirty=R(),W=te!==de.isDirty);const ke=Te||Zr(Y(s,C),O);te=!!(!Te&&Y(n.dirtyFields,C)),ke||Te?ft(n.dirtyFields,C):Ue(n.dirtyFields,C,!0),de.dirtyFields=n.dirtyFields,W=W||f.dirtyFields&&te!==!ke}if(V){const ke=Y(n.touchedFields,C);ke||(Ue(n.touchedFields,C,V),de.touchedFields=n.touchedFields,W=W||f.touchedFields&&ke!==V)}W&&G&&m.state.next(de)}return W?de:{}},T=(C,O,V,Z)=>{const G=Y(n.errors,C),W=f.isValid&&kn(O)&&n.isValid!==O;if(t.delayError&&V?(c=N(()=>I(C,V)),c(t.delayError)):(clearTimeout(d),c=null,V?Ue(n.errors,C,V):ft(n.errors,C)),(V?!Zr(G,V):G)||!an(Z)||W){const te={...Z,...W&&kn(O)?{isValid:O}:{},errors:n.errors,name:C};n={...n,...te},m.state.next(te)}},v=async C=>{w(C,!0);const O=await e.resolver(i,e.context,OL(C||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(C),O},S=async C=>{const{errors:O}=await v(C);if(C)for(const V of C){const Z=Y(O,V);Z?Ue(n.errors,V,Z):ft(n.errors,V)}else n.errors=O;return O},k=async(C,O,V={valid:!0})=>{for(const Z in C){const G=C[Z];if(G){const{_f:W,...te}=G;if(W){const de=o.array.has(W.name),Te=G._f&&ML(G._f);Te&&f.validatingFields&&w([Z],!0);const ke=await Ix(G,i,E,e.shouldUseNativeValidation&&!O,de);if(Te&&f.validatingFields&&w([Z]),ke[W.name]&&(V.valid=!1,O))break;!O&&(Y(ke,W.name)?de?RL(n.errors,ke,W.name):Ue(n.errors,W.name,ke[W.name]):ft(n.errors,W.name))}!an(te)&&await k(te,O,V)}}return V.valid},P=()=>{for(const C of o.unMount){const O=Y(r,C);O&&(O._f.refs?O._f.refs.every(V=>!jf(V)):!jf(O._f.ref))&&At(C)}o.unMount=new Set},R=(C,O)=>!e.disabled&&(C&&O&&Ue(i,C,O),!Zr(Ne(),s)),b=(C,O,V)=>yb(C,o,{...a.mount?i:at(O)?s:nr(C)?{[C]:O}:O},V,O),fe=C=>ph(Y(a.mount?i:s,C,t.shouldUnregister?Y(s,C,[]):[])),xe=(C,O,V={})=>{const Z=Y(r,C);let G=O;if(Z){const W=Z._f;W&&(!W.disabled&&Ue(i,C,Sb(O,W)),G=ud(W.ref)&&Qt(O)?"":O,wb(W.ref)?[...W.ref.options].forEach(te=>te.selected=G.includes(te.value)):W.refs?tu(W.ref)?W.refs.length>1?W.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(G)?!!G.find(de=>de===te.value):G===te.value)):W.refs[0]&&(W.refs[0].checked=!!G):W.refs.forEach(te=>te.checked=te.value===G):ky(W.ref)?W.ref.value="":(W.ref.value=G,W.ref.type||m.values.next({name:C,values:{...i}})))}(V.shouldDirty||V.shouldTouch)&&z(C,G,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&oe(C)},Ve=(C,O,V)=>{for(const Z in O){const G=O[Z],W=`${C}.${Z}`,te=Y(r,W);(o.array.has(C)||ut(G)||te&&!te._f)&&!Ys(G)?Ve(W,G,V):xe(W,G,V)}},$e=(C,O,V={})=>{const Z=Y(r,C),G=o.array.has(C),W=sn(O);Ue(i,C,W),G?(m.array.next({name:C,values:{...i}}),(f.isDirty||f.dirtyFields)&&V.shouldDirty&&m.state.next({name:C,dirtyFields:po(s,i),isDirty:R(C,W)})):Z&&!Z._f&&!Qt(W)?Ve(C,W,V):xe(C,W,V),Ex(C,o)&&m.state.next({...n}),m.values.next({name:a.mount?C:void 0,values:{...i}})},K=async C=>{a.mount=!0;const O=C.target;let V=O.name,Z=!0;const G=Y(r,V),W=()=>O.type?Df(G._f):db(C),te=de=>{Z=Number.isNaN(de)||Ys(de)&&isNaN(de.getTime())||Zr(de,Y(i,V,de))};if(G){let de,Te;const ke=W(),Rt=C.type===ld.BLUR||C.type===ld.FOCUS_OUT,ru=!VL(G._f)&&!e.resolver&&!Y(n.errors,V)&&!G._f.deps||LL(Rt,Y(n.touchedFields,V),n.isSubmitted,y,p),ki=Ex(V,o,Rt);Ue(i,V,ke),Rt?(G._f.onBlur&&G._f.onBlur(C),c&&c(0)):G._f.onChange&&G._f.onChange(C);const Fa=z(V,ke,Rt,!1),Ds=!an(Fa)||ki;if(!Rt&&m.values.next({name:V,type:C.type,values:{...i}}),ru)return f.isValid&&(t.mode==="onBlur"?Rt&&A():A()),Ds&&m.state.next({name:V,...ki?{}:Fa});if(!Rt&&ki&&m.state.next({...n}),e.resolver){const{errors:za}=await v([V]);if(te(ke),Z){const su=Cx(n.errors,r,V),Ii=Cx(za,r,su.name||V);de=Ii.error,V=Ii.name,Te=an(za)}}else w([V],!0),de=(await Ix(G,i,E,e.shouldUseNativeValidation))[V],w([V]),te(ke),Z&&(de?Te=!1:f.isValid&&(Te=await k(r,!0)));Z&&(G._f.deps&&oe(G._f.deps),T(V,Te,de,Fa))}},ue=(C,O)=>{if(Y(n.errors,O)&&C.focus)return C.focus(),1},oe=async(C,O={})=>{let V,Z;const G=qo(C);if(e.resolver){const W=await S(at(C)?C:G);V=an(W),Z=C?!G.some(te=>Y(W,te)):V}else C?(Z=(await Promise.all(G.map(async W=>{const te=Y(r,W);return await k(te&&te._f?{[W]:te}:te)}))).every(Boolean),!(!Z&&!n.isValid)&&A()):Z=V=await k(r);return m.state.next({...!nr(C)||f.isValid&&V!==n.isValid?{}:{name:C},...e.resolver||!C?{isValid:V}:{},errors:n.errors}),O.shouldFocus&&!Z&&Wo(r,ue,C?G:o.mount),Z},Ne=C=>{const O={...a.mount?i:s};return at(C)?O:nr(C)?Y(O,C):C.map(V=>Y(O,V))},we=(C,O)=>({invalid:!!Y((O||n).errors,C),isDirty:!!Y((O||n).dirtyFields,C),error:Y((O||n).errors,C),isValidating:!!Y(n.validatingFields,C),isTouched:!!Y((O||n).touchedFields,C)}),Be=C=>{C&&qo(C).forEach(O=>ft(n.errors,O)),m.state.next({errors:C?n.errors:{}})},qt=(C,O,V)=>{const Z=(Y(r,C,{_f:{}})._f||{}).ref,G=Y(n.errors,C)||{},{ref:W,message:te,type:de,...Te}=G;Ue(n.errors,C,{...Te,...O,ref:Z}),m.state.next({name:C,errors:n.errors,isValid:!1}),V&&V.shouldFocus&&Z&&Z.focus&&Z.focus()},Ct=(C,O)=>tr(C)?m.values.subscribe({next:V=>C(b(void 0,O),V)}):b(C,O,!0),At=(C,O={})=>{for(const V of C?qo(C):o.mount)o.mount.delete(V),o.array.delete(V),O.keepValue||(ft(r,V),ft(i,V)),!O.keepError&&ft(n.errors,V),!O.keepDirty&&ft(n.dirtyFields,V),!O.keepTouched&&ft(n.touchedFields,V),!O.keepIsValidating&&ft(n.validatingFields,V),!e.shouldUnregister&&!O.keepDefaultValue&&ft(s,V);m.values.next({values:{...i}}),m.state.next({...n,...O.keepDirty?{isDirty:R()}:{}}),!O.keepIsValid&&A()},Wt=({disabled:C,name:O,field:V,fields:Z,value:G})=>{if(kn(C)&&a.mount||C){const W=C?void 0:at(G)?Df(V?V._f:Y(Z,O)._f):G;Ue(i,O,W),z(O,W,!1,!1,!0)}},js=(C,O={})=>{let V=Y(r,C);const Z=kn(O.disabled)||kn(e.disabled);return Ue(r,C,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:C}},name:C,mount:!0,...O}}),o.mount.add(C),V?Wt({field:V,disabled:kn(O.disabled)?O.disabled:e.disabled,name:C,value:O.value}):U(C,!0,O.value),{...Z?{disabled:O.disabled||e.disabled}:{},...e.progressive?{required:!!O.required,min:go(O.min),max:go(O.max),minLength:go(O.minLength),maxLength:go(O.maxLength),pattern:go(O.pattern)}:{},name:C,onChange:K,onBlur:K,ref:G=>{if(G){js(C,O),V=Y(r,C);const W=at(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,te=DL(W),de=V._f.refs||[];if(te?de.find(Te=>Te===W):W===V._f.ref)return;Ue(r,C,{_f:{...V._f,...te?{refs:[...de.filter(jf),W,...Array.isArray(Y(s,C))?[{}]:[]],ref:{type:W.type,name:C}}:{ref:W}}}),U(C,!1,void 0,W)}else V=Y(r,C,{}),V._f&&(V._f.mount=!1),(e.shouldUnregister||O.shouldUnregister)&&!(hb(o.array,C)&&a.action)&&o.unMount.add(C)}}},bi=()=>e.shouldFocusError&&Wo(r,ue,o.mount),bn=C=>{kn(C)&&(m.state.next({disabled:C}),Wo(r,(O,V)=>{const Z=Y(r,V);Z&&(O.disabled=Z._f.disabled||C,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(G=>{G.disabled=Z._f.disabled||C}))},0,!1))},Yn=(C,O)=>async V=>{let Z;if(V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist()),e.disabled){O&&await O({...n.errors},V);return}let G=sn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:te}=await v();n.errors=W,G=te}else await k(r);if(ft(n.errors,"root"),an(n.errors)){m.state.next({errors:{}});try{await C(G,V)}catch(W){Z=W}}else O&&await O({...n.errors},V),bi(),setTimeout(bi);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:an(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},Le=(C,O={})=>{Y(r,C)&&(at(O.defaultValue)?$e(C,sn(Y(s,C))):($e(C,O.defaultValue),Ue(s,C,sn(O.defaultValue))),O.keepTouched||ft(n.touchedFields,C),O.keepDirty||(ft(n.dirtyFields,C),n.isDirty=O.defaultValue?R(C,sn(Y(s,C))):R()),O.keepError||(ft(n.errors,C),f.isValid&&A()),m.state.next({...n}))},De=(C,O={})=>{const V=C?sn(C):s,Z=sn(V),G=an(C),W=G?s:Z;if(O.keepDefaultValues||(s=V),!O.keepValues){if(O.keepDirtyValues){const te=new Set([...o.mount,...Object.keys(po(s,i))]);for(const de of Array.from(te))Y(n.dirtyFields,de)?Ue(W,de,Y(i,de)):$e(de,Y(W,de))}else{if(Ey&&at(C))for(const te of o.mount){const de=Y(r,te);if(de&&de._f){const Te=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(ud(Te)){const ke=Te.closest("form");if(ke){ke.reset();break}}}}r={}}i=t.shouldUnregister?O.keepDefaultValues?sn(s):{}:sn(W),m.array.next({values:{...W}}),m.values.next({values:{...W}})}o={mount:O.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!O.keepIsValid||!!O.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:G?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!Zr(C,s)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:O.keepDirtyValues?O.keepDefaultValues&&i?po(s,i):n.dirtyFields:O.keepDefaultValues&&C?po(s,C):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(C,O)=>De(tr(C)?C(i):C,O);return{control:{register:js,unregister:At,getFieldState:we,handleSubmit:Yn,setError:qt,_executeSchema:v,_getWatch:b,_getDirty:R,_updateValid:A,_removeUnmounted:P,_updateFieldArray:_,_updateDisabledField:Wt,_getFieldArray:fe,_reset:De,_resetDefaultValues:()=>tr(e.defaultValues)&&e.defaultValues().then(C=>{Xe(C,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:C=>{n={...n,...C}},_disableForm:bn,_subjects:m,_proxyFormState:f,_setErrors:D,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(C){a=C},get _defaultValues(){return s},get _names(){return o},set _names(C){o=C},get _formState(){return n},set _formState(C){n=C},get _options(){return e},set _options(C){e={...e,...C}}},trigger:oe,register:js,handleSubmit:Yn,watch:Ct,setValue:$e,getValues:Ne,reset:Xe,resetField:Le,clearErrors:Be,unregister:At,setError:qt,setFocus:(C,O={})=>{const V=Y(r,C),Z=V&&V._f;if(Z){const G=Z.refs?Z.refs[0]:Z.ref;G.focus&&(G.focus(),O.shouldSelect&&tr(G.select)&&G.select())}},getFieldState:we}}function $L(t={}){const e=$.useRef(),n=$.useRef(),[r,s]=$.useState({isDirty:!1,isValidating:!1,isLoading:tr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:tr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...zL(t),formState:r});const i=e.current.control;return i._options=t,by({subject:i._subjects.state,next:a=>{pb(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),$.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),$.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),$.useEffect(()=>{t.values&&!Zr(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),$.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),$.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),$.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=mb(r,i),e.current}const Ax=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Y(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},bb=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Ax(r.ref,n,t):r.refs&&r.refs.forEach(s=>Ax(s,n,t))}},BL=(t,e)=>{e.shouldUseNativeValidation&&bb(t,e);const n={};for(const r in t){const s=Y(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(qL(e.names||Object.keys(t),r)){const a=Object.assign({},Y(n,r));Ue(a,"root",i),Ue(n,r,a)}else Ue(n,r,i)}return n},qL=(t,e)=>t.some(n=>n.startsWith(e+"."));var WL=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return t.push(m)})}),e){var c=n[a].types,d=c&&c[r.code];n[a]=vb(a,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},HL=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&bb({},i),{errors:{},values:n.raw?r:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:BL(WL(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Ae;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ae||(Ae={}));var op;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(op||(op={}));const ee=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xr=t=>{switch(typeof t){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return isNaN(t)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(t)?ee.array:t===null?ee.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ee.promise:typeof Map<"u"&&t instanceof Map?ee.map:typeof Set<"u"&&t instanceof Set?ee.set:typeof Date<"u"&&t instanceof Date?ee.date:ee.object;default:return ee.unknown}},H=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KL=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class wn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(a))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return s(this),r}static assert(e){if(!(e instanceof wn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}wn.create=t=>new wn(t);const Ia=(t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===ee.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ae.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ae.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ae.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${Ae.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ae.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ae.assertNever(t)}return{message:n}};let kb=Ia;function GL(t){kb=t}function hd(){return kb}const fd=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)o=d(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},QL=[];function J(t,e){const n=hd(),r=fd({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ia?void 0:Ia].filter(s=>!!s)});t.common.issues.push(r)}class Bt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return pe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Bt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return pe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const pe=Object.freeze({status:"aborted"}),ta=t=>({status:"dirty",value:t}),Jt=t=>({status:"valid",value:t}),lp=t=>t.status==="aborted",up=t=>t.status==="dirty",kl=t=>t.status==="valid",Il=t=>typeof Promise<"u"&&t instanceof Promise;function md(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ib(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));var ko,Io;class hr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Rx=(t,e)=>{if(kl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new wn(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var c,d;const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??o.defaultError}:typeof o.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:o.defaultError}},description:s}}class Ee{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Xr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bt,ctx:{common:e.parent.common,data:e.data,parsedType:Xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Il(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xr(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Rx(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Il(s)?s:Promise.resolve(s));return Rx(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:H.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Qn({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return lr.create(this,this._def)}nullable(){return Is.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hn.create(this,this._def)}promise(){return Ca.create(this,this._def)}or(e){return Rl.create([this,e],this._def)}and(e){return Pl.create(this,e,this._def)}transform(e){return new Qn({..._e(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Vl({..._e(this._def),innerType:this,defaultValue:n,typeName:me.ZodDefault})}brand(){return new Ny({typeName:me.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ll({..._e(this._def),innerType:this,catchValue:n,typeName:me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return nu.create(this,e)}readonly(){return Ul.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YL=/^c[^\s-]{8,}$/i,ZL=/^[0-9a-z]+$/,XL=/^[0-9A-HJKMNP-TV-Z]{26}$/,JL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e5=/^[a-z0-9_-]{21}$/i,t5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,n5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,r5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Of;const s5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,i5=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,a5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Nb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",o5=new RegExp(`^${Nb}$`);function Cb(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function l5(t){return new RegExp(`^${Cb(t)}$`)}function Ab(t){let e=`${Nb}T${Cb(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function u5(t,e){return!!((e==="v4"||!e)&&s5.test(t)||(e==="v6"||!e)&&i5.test(t))}class $n extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const i=this._getOrReturnCtx(e);return J(i,{code:H.invalid_type,expected:ee.string,received:i.parsedType}),pe}const r=new Bt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?J(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&J(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")n5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"email",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Of||(Of=new RegExp(r5,"u")),Of.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"emoji",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")JL.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"uuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")e5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")YL.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")ZL.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")XL.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ulid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),J(s,{validation:"url",code:H.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"regex",code:H.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),J(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Ab(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:H.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?o5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:H.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?l5(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:H.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?t5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"duration",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?u5(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ip",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?a5.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64",code:H.invalid_string,message:i.message}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:H.invalid_string,...le.errToObj(r)})}_addCheck(e){return new $n({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...le.errToObj(n)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new $n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$n.create=t=>{var e;return new $n({checks:[],typeName:me.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};function c5(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ss extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const i=this._getOrReturnCtx(e);return J(i,{code:H.invalid_type,expected:ee.number,received:i.parsedType}),pe}let r;const s=new Bt;for(const i of this._def.checks)i.kind==="int"?Ae.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?c5(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:H.not_finite,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Ss({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ae.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ss.create=t=>new Ss({checks:[],typeName:me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class bs extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ee.bigint){const i=this._getOrReturnCtx(e);return J(i,{code:H.invalid_type,expected:ee.bigint,received:i.parsedType}),pe}let r;const s=new Bt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ae.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new bs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new bs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}bs.create=t=>{var e;return new bs({checks:[],typeName:me.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};class Nl extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:H.invalid_type,expected:ee.boolean,received:r.parsedType}),pe}return Jt(e.data)}}Nl.create=t=>new Nl({typeName:me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class yi extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const i=this._getOrReturnCtx(e);return J(i,{code:H.invalid_type,expected:ee.date,received:i.parsedType}),pe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return J(i,{code:H.invalid_date}),pe}const r=new Bt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ae.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yi.create=t=>new yi({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:me.ZodDate,..._e(t)});class pd extends Ee{_parse(e){if(this._getType(e)!==ee.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:H.invalid_type,expected:ee.symbol,received:r.parsedType}),pe}return Jt(e.data)}}pd.create=t=>new pd({typeName:me.ZodSymbol,..._e(t)});class Cl extends Ee{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:H.invalid_type,expected:ee.undefined,received:r.parsedType}),pe}return Jt(e.data)}}Cl.create=t=>new Cl({typeName:me.ZodUndefined,..._e(t)});class Al extends Ee{_parse(e){if(this._getType(e)!==ee.null){const r=this._getOrReturnCtx(e);return J(r,{code:H.invalid_type,expected:ee.null,received:r.parsedType}),pe}return Jt(e.data)}}Al.create=t=>new Al({typeName:me.ZodNull,..._e(t)});class Na extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return Jt(e.data)}}Na.create=t=>new Na({typeName:me.ZodAny,..._e(t)});class ri extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jt(e.data)}}ri.create=t=>new ri({typeName:me.ZodUnknown,..._e(t)});class Vr extends Ee{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:H.invalid_type,expected:ee.never,received:n.parsedType}),pe}}Vr.create=t=>new Vr({typeName:me.ZodNever,..._e(t)});class gd extends Ee{_parse(e){if(this._getType(e)!==ee.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:H.invalid_type,expected:ee.void,received:r.parsedType}),pe}return Jt(e.data)}}gd.create=t=>new gd({typeName:me.ZodVoid,..._e(t)});class Hn extends Ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ee.array)return J(n,{code:H.invalid_type,expected:ee.array,received:n.parsedType}),pe;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(J(n,{code:a?H.too_big:H.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(J(n,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(J(n,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new hr(n,a,n.path,o)))).then(a=>Bt.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new hr(n,a,n.path,o)));return Bt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Hn({...this._def,minLength:{value:e,message:le.toString(n)}})}max(e,n){return new Hn({...this._def,maxLength:{value:e,message:le.toString(n)}})}length(e,n){return new Hn({...this._def,exactLength:{value:e,message:le.toString(n)}})}nonempty(e){return this.min(1,e)}}Hn.create=(t,e)=>new Hn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,..._e(e)});function $i(t){if(t instanceof Je){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=lr.create($i(r))}return new Je({...t._def,shape:()=>e})}else return t instanceof Hn?new Hn({...t._def,type:$i(t.element)}):t instanceof lr?lr.create($i(t.unwrap())):t instanceof Is?Is.create($i(t.unwrap())):t instanceof fr?fr.create(t.items.map(e=>$i(e))):t}class Je extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ae.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ee.object){const d=this._getOrReturnCtx(e);return J(d,{code:H.invalid_type,expected:ee.object,received:d.parsedType}),pe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vr&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||o.push(d);const c=[];for(const d of a){const f=i[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new hr(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Vr){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of o)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")o.length>0&&(J(s,{code:H.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of o){const m=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new hr(s,m,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,p=await f.value;d.push({key:m,value:p,alwaysSet:f.alwaysSet})}return d}).then(d=>Bt.mergeObjectSync(r,d)):Bt.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new Je({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=le.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(e){return new Je({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Je({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Je({...this._def,catchall:e})}pick(e){const n={};return Ae.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Je({...this._def,shape:()=>n})}omit(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Je({...this._def,shape:()=>n})}deepPartial(){return $i(this)}partial(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Je({...this._def,shape:()=>n})}required(e){const n={};return Ae.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof lr;)i=i._def.innerType;n[r]=i}}),new Je({...this._def,shape:()=>n})}keyof(){return Rb(Ae.objectKeys(this.shape))}}Je.create=(t,e)=>new Je({shape:()=>t,unknownKeys:"strip",catchall:Vr.create(),typeName:me.ZodObject,..._e(e)});Je.strictCreate=(t,e)=>new Je({shape:()=>t,unknownKeys:"strict",catchall:Vr.create(),typeName:me.ZodObject,..._e(e)});Je.lazycreate=(t,e)=>new Je({shape:t,unknownKeys:"strip",catchall:Vr.create(),typeName:me.ZodObject,..._e(e)});class Rl extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new wn(o.ctx.common.issues));return J(n,{code:H.invalid_union,unionErrors:a}),pe}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new wn(c));return J(n,{code:H.invalid_union,unionErrors:o}),pe}}get options(){return this._def.options}}Rl.create=(t,e)=>new Rl({options:t,typeName:me.ZodUnion,..._e(e)});const xr=t=>t instanceof Dl?xr(t.schema):t instanceof Qn?xr(t.innerType()):t instanceof Ol?[t.value]:t instanceof ks?t.options:t instanceof Ml?Ae.objectValues(t.enum):t instanceof Vl?xr(t._def.innerType):t instanceof Cl?[void 0]:t instanceof Al?[null]:t instanceof lr?[void 0,...xr(t.unwrap())]:t instanceof Is?[null,...xr(t.unwrap())]:t instanceof Ny||t instanceof Ul?xr(t.unwrap()):t instanceof Ll?xr(t._def.innerType):[];class gh extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.object)return J(n,{code:H.invalid_type,expected:ee.object,received:n.parsedType}),pe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:H.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=xr(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new gh({typeName:me.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,..._e(r)})}}function cp(t,e){const n=Xr(t),r=Xr(e);if(t===e)return{valid:!0,data:t};if(n===ee.object&&r===ee.object){const s=Ae.objectKeys(e),i=Ae.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=cp(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===ee.array&&r===ee.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=cp(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ee.date&&r===ee.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pl extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(lp(i)||lp(a))return pe;const o=cp(i.value,a.value);return o.valid?((up(i)||up(a))&&n.dirty(),{status:n.value,value:o.data}):(J(r,{code:H.invalid_intersection_types}),pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pl.create=(t,e,n)=>new Pl({left:t,right:e,typeName:me.ZodIntersection,..._e(n)});class fr extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.array)return J(r,{code:H.invalid_type,expected:ee.array,received:r.parsedType}),pe;if(r.data.length<this._def.items.length)return J(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pe;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new hr(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Bt.mergeArray(n,a)):Bt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new fr({...this._def,rest:e})}}fr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fr({items:t,typeName:me.ZodTuple,rest:null,..._e(e)})};class jl extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.object)return J(r,{code:H.invalid_type,expected:ee.object,received:r.parsedType}),pe;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)s.push({key:i._parse(new hr(r,o,r.path,o)),value:a._parse(new hr(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Bt.mergeObjectAsync(n,s):Bt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ee?new jl({keyType:e,valueType:n,typeName:me.ZodRecord,..._e(r)}):new jl({keyType:$n.create(),valueType:e,typeName:me.ZodRecord,..._e(n)})}}class yd extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.map)return J(r,{code:H.invalid_type,expected:ee.map,received:r.parsedType}),pe;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,c],d)=>({key:s._parse(new hr(r,o,r.path,[d,"key"])),value:i._parse(new hr(r,c,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return pe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(d.value,f.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return pe;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(d.value,f.value)}return{status:n.value,value:o}}}}yd.create=(t,e,n)=>new yd({valueType:e,keyType:t,typeName:me.ZodMap,..._e(n)});class vi extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ee.set)return J(r,{code:H.invalid_type,expected:ee.set,received:r.parsedType}),pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(J(r,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(J(r,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const d=new Set;for(const f of c){if(f.status==="aborted")return pe;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((c,d)=>i._parse(new hr(r,c,r.path,d)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new vi({...this._def,minSize:{value:e,message:le.toString(n)}})}max(e,n){return new vi({...this._def,maxSize:{value:e,message:le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}vi.create=(t,e)=>new vi({valueType:t,minSize:null,maxSize:null,typeName:me.ZodSet,..._e(e)});class ca extends Ee{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.function)return J(n,{code:H.invalid_type,expected:ee.function,received:n.parsedType}),pe;function r(o,c){return fd({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hd(),Ia].filter(d=>!!d),issueData:{code:H.invalid_arguments,argumentsError:c}})}function s(o,c){return fd({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hd(),Ia].filter(d=>!!d),issueData:{code:H.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Ca){const o=this;return Jt(async function(...c){const d=new wn([]),f=await o._def.args.parseAsync(c,i).catch(y=>{throw d.addIssue(r(c,y)),d}),m=await Reflect.apply(a,this,f);return await o._def.returns._def.type.parseAsync(m,i).catch(y=>{throw d.addIssue(s(m,y)),d})})}else{const o=this;return Jt(function(...c){const d=o._def.args.safeParse(c,i);if(!d.success)throw new wn([r(c,d.error)]);const f=Reflect.apply(a,this,d.data),m=o._def.returns.safeParse(f,i);if(!m.success)throw new wn([s(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ca({...this._def,args:fr.create(e).rest(ri.create())})}returns(e){return new ca({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ca({args:e||fr.create([]).rest(ri.create()),returns:n||ri.create(),typeName:me.ZodFunction,..._e(r)})}}class Dl extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Dl.create=(t,e)=>new Dl({getter:t,typeName:me.ZodLazy,..._e(e)});class Ol extends Ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ol.create=(t,e)=>new Ol({value:t,typeName:me.ZodLiteral,..._e(e)});function Rb(t,e){return new ks({values:t,typeName:me.ZodEnum,..._e(e)})}class ks extends Ee{constructor(){super(...arguments),ko.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:Ae.joinValues(r),received:n.parsedType,code:H.invalid_type}),pe}if(md(this,ko)||Ib(this,ko,new Set(this._def.values)),!md(this,ko).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:H.invalid_enum_value,options:r}),pe}return Jt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ks.create(e,{...this._def,...n})}exclude(e,n=this._def){return ks.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ko=new WeakMap;ks.create=Rb;class Ml extends Ee{constructor(){super(...arguments),Io.set(this,void 0)}_parse(e){const n=Ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ee.string&&r.parsedType!==ee.number){const s=Ae.objectValues(n);return J(r,{expected:Ae.joinValues(s),received:r.parsedType,code:H.invalid_type}),pe}if(md(this,Io)||Ib(this,Io,new Set(Ae.getValidEnumValues(this._def.values))),!md(this,Io).has(e.data)){const s=Ae.objectValues(n);return J(r,{received:r.data,code:H.invalid_enum_value,options:s}),pe}return Jt(e.data)}get enum(){return this._def.values}}Io=new WeakMap;Ml.create=(t,e)=>new Ml({values:t,typeName:me.ZodNativeEnum,..._e(e)});class Ca extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ee.promise&&n.common.async===!1)return J(n,{code:H.invalid_type,expected:ee.promise,received:n.parsedType}),pe;const r=n.parsedType===ee.promise?n.data:Promise.resolve(n.data);return Jt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ca.create=(t,e)=>new Ca({type:t,typeName:me.ZodPromise,..._e(e)});class Qn extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{J(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return pe;const c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?pe:c.status==="dirty"||n.value==="dirty"?ta(c.value):c});{if(n.value==="aborted")return pe;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?pe:o.status==="dirty"||n.value==="dirty"?ta(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?pe:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?pe:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kl(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>kl(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):a);Ae.assertNever(s)}}Qn.create=(t,e,n)=>new Qn({schema:t,typeName:me.ZodEffects,effect:e,..._e(n)});Qn.createWithPreprocess=(t,e,n)=>new Qn({schema:e,effect:{type:"preprocess",transform:t},typeName:me.ZodEffects,..._e(n)});class lr extends Ee{_parse(e){return this._getType(e)===ee.undefined?Jt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lr.create=(t,e)=>new lr({innerType:t,typeName:me.ZodOptional,..._e(e)});class Is extends Ee{_parse(e){return this._getType(e)===ee.null?Jt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Is.create=(t,e)=>new Is({innerType:t,typeName:me.ZodNullable,..._e(e)});class Vl extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Vl.create=(t,e)=>new Vl({innerType:t,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class Ll extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Il(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new wn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ll.create=(t,e)=>new Ll({innerType:t,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class vd extends Ee{_parse(e){if(this._getType(e)!==ee.nan){const r=this._getOrReturnCtx(e);return J(r,{code:H.invalid_type,expected:ee.nan,received:r.parsedType}),pe}return{status:"valid",value:e.data}}}vd.create=t=>new vd({typeName:me.ZodNaN,..._e(t)});const d5=Symbol("zod_brand");class Ny extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class nu extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?pe:i.status==="dirty"?(n.dirty(),ta(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new nu({in:e,out:n,typeName:me.ZodPipeline})}}class Ul extends Ee{_parse(e){const n=this._def.innerType._parse(e),r=s=>(kl(s)&&(s.value=Object.freeze(s.value)),s);return Il(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ul.create=(t,e)=>new Ul({innerType:t,typeName:me.ZodReadonly,..._e(e)});function Pb(t,e={},n){return t?Na.create().superRefine((r,s)=>{var i,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(a=(i=o.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,d=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...d,fatal:c})}}):Na.create()}const h5={object:Je.lazycreate};var me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(me||(me={}));const f5=(t,e={message:`Input not instance of ${t.name}`})=>Pb(n=>n instanceof t,e),jb=$n.create,Db=Ss.create,m5=vd.create,p5=bs.create,Ob=Nl.create,g5=yi.create,y5=pd.create,v5=Cl.create,_5=Al.create,x5=Na.create,w5=ri.create,E5=Vr.create,T5=gd.create,S5=Hn.create,b5=Je.create,k5=Je.strictCreate,I5=Rl.create,N5=gh.create,C5=Pl.create,A5=fr.create,R5=jl.create,P5=yd.create,j5=vi.create,D5=ca.create,O5=Dl.create,M5=Ol.create,V5=ks.create,L5=Ml.create,U5=Ca.create,Px=Qn.create,F5=lr.create,z5=Is.create,$5=Qn.createWithPreprocess,B5=nu.create,q5=()=>jb().optional(),W5=()=>Db().optional(),H5=()=>Ob().optional(),K5={string:t=>$n.create({...t,coerce:!0}),number:t=>Ss.create({...t,coerce:!0}),boolean:t=>Nl.create({...t,coerce:!0}),bigint:t=>bs.create({...t,coerce:!0}),date:t=>yi.create({...t,coerce:!0})},G5=pe;var he=Object.freeze({__proto__:null,defaultErrorMap:Ia,setErrorMap:GL,getErrorMap:hd,makeIssue:fd,EMPTY_PATH:QL,addIssueToContext:J,ParseStatus:Bt,INVALID:pe,DIRTY:ta,OK:Jt,isAborted:lp,isDirty:up,isValid:kl,isAsync:Il,get util(){return Ae},get objectUtil(){return op},ZodParsedType:ee,getParsedType:Xr,ZodType:Ee,datetimeRegex:Ab,ZodString:$n,ZodNumber:Ss,ZodBigInt:bs,ZodBoolean:Nl,ZodDate:yi,ZodSymbol:pd,ZodUndefined:Cl,ZodNull:Al,ZodAny:Na,ZodUnknown:ri,ZodNever:Vr,ZodVoid:gd,ZodArray:Hn,ZodObject:Je,ZodUnion:Rl,ZodDiscriminatedUnion:gh,ZodIntersection:Pl,ZodTuple:fr,ZodRecord:jl,ZodMap:yd,ZodSet:vi,ZodFunction:ca,ZodLazy:Dl,ZodLiteral:Ol,ZodEnum:ks,ZodNativeEnum:Ml,ZodPromise:Ca,ZodEffects:Qn,ZodTransformer:Qn,ZodOptional:lr,ZodNullable:Is,ZodDefault:Vl,ZodCatch:Ll,ZodNaN:vd,BRAND:d5,ZodBranded:Ny,ZodPipeline:nu,ZodReadonly:Ul,custom:Pb,Schema:Ee,ZodSchema:Ee,late:h5,get ZodFirstPartyTypeKind(){return me},coerce:K5,any:x5,array:S5,bigint:p5,boolean:Ob,date:g5,discriminatedUnion:N5,effect:Px,enum:V5,function:D5,instanceof:f5,intersection:C5,lazy:O5,literal:M5,map:P5,nan:m5,nativeEnum:L5,never:E5,null:_5,nullable:z5,number:Db,object:b5,oboolean:H5,onumber:W5,optional:F5,ostring:q5,pipeline:B5,preprocess:$5,promise:U5,record:R5,set:j5,strictObject:k5,string:jb,symbol:y5,transformer:Px,tuple:A5,undefined:v5,union:I5,unknown:w5,void:T5,NEVER:G5,ZodIssueCode:H,quotelessJson:KL,ZodError:wn});const Q5=he.object({fullName:he.string().min(2,"Name is required"),profilePicture:he.string().url().optional(),jobTitle:he.string().min(2,"Job title is required"),organizationName:he.string().min(2,"Organization name is required"),email:he.string().email("Invalid email address"),phoneNumber:he.string().min(10,"Valid phone number is required"),location:he.object({city:he.string(),state:he.string(),country:he.string()}),industry:he.array(he.string()),expertise:he.array(he.string()),yearsOfExperience:he.number().min(0),certifications:he.array(he.string()),linkedinProfile:he.string().url().optional(),professionalSummary:he.string(),dealRole:he.array(he.string()),primaryDealTypes:he.array(he.string()),preferredDealSize:he.object({min:he.number(),max:he.number(),currency:he.string()}),geographicalFocus:he.array(he.string()),sectorFocus:he.array(he.string()),dealFrequency:he.string(),kycStatus:he.enum(["pending","completed","needs_update"]),amlCompliance:he.object({certified:he.boolean(),documentUrl:he.string().optional(),expiryDate:he.string().optional()}),authorizedRepresentative:he.boolean(),powerOfAttorney:he.object({exists:he.boolean(),documentUrl:he.string().optional(),expiryDate:he.string().optional()}),conflictOfInterest:he.array(he.string()),communicationStyle:he.string(),communicationModes:he.array(he.string()),timeZone:he.string(),negotiationPriorities:he.array(he.string())}),Y5={fullName:"",jobTitle:"",organizationName:"",email:"",phoneNumber:"",location:{city:"",state:"",country:""},industry:[],expertise:[],yearsOfExperience:0,certifications:[],linkedinProfile:"",professionalSummary:"",dealRole:[],primaryDealTypes:[],preferredDealSize:{min:0,max:0,currency:"USD"},geographicalFocus:[],sectorFocus:[],dealFrequency:"",kycStatus:"pending",amlCompliance:{certified:!1,documentUrl:"",expiryDate:""},authorizedRepresentative:!1,powerOfAttorney:{exists:!1,documentUrl:"",expiryDate:""},conflictOfInterest:[],communicationStyle:"",communicationModes:[],timeZone:"",negotiationPriorities:[]};function Z5({section:t}){const{control:e,handleSubmit:n}=$L({resolver:HL(Q5),defaultValues:Y5}),r=async i=>{console.log("Form data:",i)},s=()=>{switch(t){case"basic":return u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx(Oi,{name:"fullName",control:e,render:({field:i})=>u.jsx("input",{...i,type:"text",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Title"}),u.jsx(Oi,{name:"jobTitle",control:e,render:({field:i})=>u.jsx("input",{...i,type:"text",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),u.jsx(Oi,{name:"organizationName",control:e,render:({field:i})=>u.jsx("input",{...i,type:"text",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx(Oi,{name:"email",control:e,render:({field:i})=>u.jsx("input",{...i,type:"email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]});case"professional":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),u.jsx(Oi,{name:"industry",control:e,render:({field:{onChange:i,value:a}})=>u.jsx("select",{multiple:!0,value:a||[],onChange:o=>{const c=Array.from(o.target.selectedOptions,d=>d.value);i(c)},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Finance","Technology","Healthcare","Real Estate","Manufacturing"].map(o=>u.jsx("option",{value:o,children:o},o))})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Experience"}),u.jsx(Oi,{name:"yearsOfExperience",control:e,render:({field:{onChange:i,value:a}})=>u.jsx("input",{type:"number",value:a||0,onChange:o=>i(parseInt(o.target.value,10)),min:"0",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]});default:return u.jsx("div",{className:"text-center text-gray-500 py-8",children:"Select a section to edit"})}};return u.jsxs("form",{onSubmit:n(r),className:"space-y-6",children:[s(),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",className:"gradient-btn",children:"Save Changes"})})]})}function X5({currentStep:t,onStepChange:e}){const[n,r]=j.useState(!0),[s]=j.useState([{id:"basic",title:"Basic Information",description:"Let's start with your basic details",fields:["Full Name","Profile Picture","Job Title","Organization"],completed:!1},{id:"professional",title:"Professional Details",description:"Tell us about your professional background",fields:["Industry","Expertise","Experience","Certifications"],completed:!1},{id:"dealflow",title:"Deal Flow Preferences",description:"Specify your deal preferences",fields:["Deal Types","Deal Size","Geographical Focus","Sector Focus"],completed:!1},{id:"legal",title:"Legal & Compliance",description:"Complete your compliance requirements",fields:["KYC Status","AML Certification","Representative Status"],completed:!1},{id:"negotiation",title:"Negotiation Preferences",description:"Set your negotiation style and preferences",fields:["Communication Style","Availability","Priorities"],completed:!1}]),i=s.findIndex(c=>c.id===t),a=s[i],o=s[i+1];return a?u.jsxs("div",{className:`fixed bottom-4 right-4 w-80 bg-white rounded-lg shadow-lg transition-transform ${n?"translate-y-0":"translate-y-[calc(100%-3rem)]"}`,children:[u.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>r(!n),children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ui,{className:"w-5 h-5 text-blue-600"}),u.jsx("h3",{className:"font-medium",children:"Profile Assistant"})]}),u.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(s.filter(c=>c.completed).length/s.length*100),"% Complete"]})]}),n&&u.jsx("div",{className:"p-4 border-t",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:a.title}),u.jsx("p",{className:"text-sm text-gray-500",children:a.description})]}),u.jsx("div",{className:"space-y-2",children:a.fields.map((c,d)=>u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",className:"rounded text-blue-600"}),u.jsx("span",{children:c})]},d))}),o&&u.jsxs("button",{onClick:()=>e(o.id),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Continue to ",o.title,u.jsx(zd,{className:"w-4 h-4"})]})]})})]}):null}function J5(){const{user:t}=Rs(),[e,n]=j.useState("basic"),r=[{id:"basic",label:"Basic Information",icon:cP},{id:"professional",label:"Professional Details",icon:M1},{id:"dealflow",label:"Deal Flow",icon:xs},{id:"legal",label:"Legal & Compliance",icon:W1},{id:"negotiation",label:"Negotiation",icon:ui},{id:"portfolio",label:"Portfolio",icon:oP},{id:"network",label:"Network",icon:Fr},{id:"security",label:"Security",icon:KR}];return u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("img",{src:(t==null?void 0:t.imageUrl)||"https://via.placeholder.com/100",alt:(t==null?void 0:t.fullName)||"Profile",className:"w-24 h-24 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:t==null?void 0:t.fullName}),u.jsx("p",{className:"text-gray-600",children:"Complete your profile to unlock all features"})]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[u.jsx("div",{className:"border-b",children:u.jsx("div",{className:"flex overflow-x-auto",children:r.map(s=>u.jsxs("button",{onClick:()=>n(s.id),className:`flex items-center gap-2 px-6 py-4 border-b-2 transition-colors whitespace-nowrap ${e===s.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[u.jsx(s.icon,{className:"w-5 h-5"}),s.label]},s.id))})}),u.jsx("div",{className:"p-6",children:u.jsx(Z5,{section:e})})]}),u.jsx(X5,{currentStep:e,onStepChange:n})]})}function e6({onSubmit:t}){const{user:e}=Rs(),[n,r]=j.useState(""),[s,i]=j.useState(!1),a=async o=>{if(o.preventDefault(),!(!n.trim()||s)){i(!0);try{await t(n),r("")}catch(c){console.error("Error creating post:",c)}finally{i(!1)}}};return u.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("img",{src:e==null?void 0:e.imageUrl,alt:(e==null?void 0:e.fullName)||"",className:"w-10 h-10 rounded-full"}),u.jsx("div",{className:"flex-1",children:u.jsxs("form",{onSubmit:a,children:[u.jsx("textarea",{placeholder:"Share your thoughts...",value:n,onChange:o=>r(o.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors",children:u.jsx(WR,{className:"w-5 h-5"})}),u.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors",children:u.jsx(Bd,{className:"w-5 h-5"})}),u.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-blue-50 transition-colors",children:u.jsx(fs,{className:"w-5 h-5"})})]}),u.jsx("button",{type:"submit",disabled:!n.trim()||s,className:"gradient-btn disabled:opacity-50",children:s?"Posting...":"Post"})]})]})})]})})}function t6({post:t,currentUser:e,onLike:n}){const[r,s]=j.useState(!1),i=async()=>{if(!r){s(!0);try{await n()}finally{s(!1)}}};return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("img",{src:t.authorImage,alt:t.authorName,className:"w-10 h-10 rounded-full"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:t.authorName}),u.jsx("p",{className:"text-sm text-gray-500",children:wg(new Date(t.createdAt),{addSuffix:!0})})]})]}),u.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:u.jsx(JR,{className:"w-5 h-5"})})]}),u.jsx("p",{className:"mt-4",children:t.content}),u.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t",children:[u.jsxs("button",{onClick:i,disabled:r,className:`flex items-center gap-2 text-gray-500 hover:text-blue-600 ${r?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx(qR,{className:`w-5 h-5 ${r?"animate-pulse":""}`}),u.jsx("span",{children:t.likes})]}),u.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:text-blue-600",children:[u.jsx(B1,{className:"w-5 h-5"}),u.jsx("span",{children:t.comments.length})]}),u.jsxs("button",{className:"flex items-center gap-2 text-gray-500 hover:text-blue-600",children:[u.jsx(q1,{className:"w-5 h-5"}),u.jsx("span",{children:t.shares})]})]})]})}function jx(){const{user:t}=Rs(),[e,n]=j.useState([]),[r,s]=j.useState(!0),[i,a]=j.useState(null),[o,c]=j.useState(0);j.useEffect(()=>{let p=!0;return(async()=>{try{s(!0),a(null);const E=await pc.getAllPosts();p&&n(E||[])}catch(E){console.error("Error fetching posts:",E),p&&a("Unable to load posts. Please try again later.")}finally{p&&s(!1)}})(),()=>{p=!1}},[o]);const d=()=>{c(p=>p+1)},f=async p=>{if(t)try{const y={content:p,authorId:t.id,authorName:t.fullName||"",authorImage:t.imageUrl,createdAt:new Date().toISOString(),likes:0,comments:[],shares:0},E=await pc.createPost(y);E&&n(N=>[{id:E,...y},...N])}catch(y){console.error("Error creating post:",y),a("Failed to create post. Please try again.")}},m=async p=>{if(t)try{await pc.likePost(p,t.id),n(y=>y.map(E=>E.id===p?{...E,likes:E.likes+1}:E))}catch(y){console.error("Error liking post:",y),a("Failed to like post. Please try again.")}};return u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsx(e6,{onSubmit:f}),i&&u.jsxs("div",{className:"mt-4 p-4 bg-red-50 text-red-600 rounded-lg flex items-center gap-2",children:[u.jsx(Wl,{className:"w-5 h-5"}),u.jsx("div",{className:"flex-1",children:i}),u.jsx("button",{onClick:d,className:"px-3 py-1 bg-red-100 rounded-md hover:bg-red-200 transition-colors",children:"Retry"})]}),u.jsx("div",{className:"space-y-6 mt-8",children:r?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto"}),u.jsx("p",{className:"text-gray-500 mt-2",children:"Loading posts..."})]}):e.length===0?u.jsx("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:u.jsx("p",{className:"text-gray-500",children:"No posts yet. Be the first to share something!"})}):e.map(p=>u.jsx(t6,{post:p,currentUser:t,onLike:()=>m(p.id)},p.id))})]})}function n6({user:t,onEnd:e}){const[n,r]=j.useState(600),[s,i]=j.useState([]),[a,o]=j.useState(""),c=j.useRef(null);j.useEffect(()=>{const p=setInterval(()=>{r(y=>y<=1?(clearInterval(p),0):y-1)},1e3);return()=>clearInterval(p)},[]);const d=()=>{var p;(p=c.current)==null||p.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{d()},[s]);const f=()=>{a.trim()&&(i([...s,{id:Date.now(),content:a,sender:"me",timestamp:new Date}]),o(""))},m=p=>{const y=Math.floor(p/60),E=p%60;return`${y}:${E.toString().padStart(2,"0")}`};return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm h-[calc(100vh-12rem)]",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:t.avatar,alt:t.name,className:"w-12 h-12 rounded-full"}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-semibold",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:[t.role," at ",t.company]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-600 px-3 py-1 rounded-full",children:[u.jsx($d,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:m(n)})]}),u.jsx("button",{onClick:e,className:"text-red-500 hover:text-red-600",children:u.jsx(eP,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"grid grid-cols-3 h-[calc(100%-8rem)]",children:[u.jsxs("div",{className:"col-span-2 border-r flex flex-col",children:[u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(p=>u.jsx("div",{className:`flex ${p.sender==="me"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${p.sender==="me"?"bg-blue-600 text-white":"bg-gray-100"}`,children:[u.jsx("p",{children:p.content}),u.jsx("span",{className:"text-xs opacity-75",children:Q1(p.timestamp,new Date,{addSuffix:!0})})]})},p.id)),u.jsx("div",{ref:c})]}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:a,onChange:p=>o(p.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:p=>p.key==="Enter"&&f()}),u.jsx("button",{onClick:f,className:"gradient-btn",children:u.jsx(gg,{className:"w-5 h-5"})})]})})]}),u.jsxs("div",{className:"p-4 space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium mb-2",children:"Quick Actions"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[u.jsx(pg,{className:"w-5 h-5"}),"Schedule Meeting"]}),u.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[u.jsx(vg,{className:"w-5 h-5"}),"Connect on LinkedIn"]}),u.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:[u.jsx(L1,{className:"w-5 h-5"}),"Save Transcript"]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium mb-2",children:"Partner is offering:"}),u.jsx("div",{className:"space-y-1",children:t.offering.map((p,y)=>u.jsx("div",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:p},y))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium mb-2",children:"Partner is seeking:"}),u.jsx("div",{className:"space-y-1",children:t.seeking.map((p,y)=>u.jsx("div",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:p},y))})]})]})]})]})}const Dx=["Venture Capital","Private Equity","Legal Services","Financial Advisory","Strategic Advisory","Technical Expertise","Industry Connections","Market Access"],r6=["Technology","Healthcare","Finance","Real Estate","Manufacturing","Energy","Consumer Goods","Education"];function s6({onSubmit:t}){const[e,n]=j.useState({offering:[],seeking:[],industries:[],dealSize:{min:0,max:0,currency:"USD"}}),r=s=>{s.preventDefault(),t(e)};return u.jsxs("form",{onSubmit:r,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What are you offering?"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Dx.map(s=>u.jsxs("label",{className:`px-4 py-2 rounded-full cursor-pointer transition-colors ${e.offering.includes(s)?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[u.jsx("input",{type:"checkbox",className:"hidden",checked:e.offering.includes(s),onChange:i=>{n(a=>({...a,offering:i.target.checked?[...a.offering,s]:a.offering.filter(o=>o!==s)}))}}),s]},s))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What are you seeking?"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Dx.map(s=>u.jsxs("label",{className:`px-4 py-2 rounded-full cursor-pointer transition-colors ${e.seeking.includes(s)?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[u.jsx("input",{type:"checkbox",className:"hidden",checked:e.seeking.includes(s),onChange:i=>{n(a=>({...a,seeking:i.target.checked?[...a.seeking,s]:a.seeking.filter(o=>o!==s)}))}}),s]},s))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industries"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:r6.map(s=>u.jsxs("label",{className:`px-4 py-2 rounded-full cursor-pointer transition-colors ${e.industries.includes(s)?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[u.jsx("input",{type:"checkbox",className:"hidden",checked:e.industries.includes(s),onChange:i=>{n(a=>({...a,industries:i.target.checked?[...a.industries,s]:a.industries.filter(o=>o!==s)}))}}),s]},s))})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deal Size (Min)"}),u.jsx("input",{type:"number",min:"0",value:e.dealSize.min,onChange:s=>{n(i=>({...i,dealSize:{...i.dealSize,min:parseInt(s.target.value)}}))},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deal Size (Max)"}),u.jsx("input",{type:"number",min:"0",value:e.dealSize.max,onChange:s=>{n(i=>({...i,dealSize:{...i.dealSize,max:parseInt(s.target.value)}}))},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),u.jsxs("select",{value:e.dealSize.currency,onChange:s=>{n(i=>({...i,dealSize:{...i.dealSize,currency:s.target.value}}))},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"EUR",children:"EUR"}),u.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",className:"gradient-btn",children:"Start Matching"})})]})}function i6(){const[t,e]=j.useState(0),[n,r]=j.useState(!0);return j.useEffect(()=>{const s=bl(ss(Vt,Lt.LIVE_ROOMS),ly("status","==","active")),i=my(s,a=>{let o=0;a.forEach(c=>{const d=c.data();d.participants&&(o+=Object.values(d.participants).filter(f=>!f.leftAt).length)}),e(o),r(!1)},a=>{console.error("Error fetching live users:",a),r(!1)});return()=>i()},[]),n?u.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border rounded-full px-4 py-2 flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200 animate-pulse"}),u.jsx("span",{className:"text-gray-500",children:"Counting users..."})]}):u.jsxs("div",{className:"bg-white/90 backdrop-blur-sm border rounded-full px-4 py-2 flex items-center gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Fr,{className:"w-5 h-5 text-blue-600"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),u.jsx("span",{className:"font-medium",children:t.toLocaleString()}),u.jsx("span",{className:"text-gray-500",children:"users online"})]})}function a6(){Rs();const[t,e]=j.useState(!1),[n,r]=j.useState(null),[s,i]=j.useState({offering:[],seeking:[],industries:[],dealSize:{min:0,max:0,currency:"USD"}}),a=async c=>{i(c),e(!0),setTimeout(()=>{r({id:"mock-user",name:"Sarah Johnson",role:"Investment Director",company:"Venture Capital Partners",avatar:"https://randomuser.me/api/portraits/women/65.jpg",offering:["Venture Capital","Strategic Advisory"],seeking:["Tech Startups","Healthcare Innovation"]})},3e3)},o=()=>{r(null),e(!1)};return u.jsx("div",{className:"max-w-6xl mx-auto",children:n?u.jsx(n6,{user:n,onEnd:o}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:u.jsx(xg,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Live Deal Rooms"}),u.jsx("p",{className:"text-gray-600",children:"Connect with potential partners in real-time"})]})]}),u.jsx(i6,{})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx($d,{className:"w-6 h-6 text-blue-600 mb-2"}),u.jsx("h3",{className:"font-medium mb-1",children:"10-Minute Sessions"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Quick, focused conversations"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx(q1,{className:"w-6 h-6 text-blue-600 mb-2"}),u.jsx("h3",{className:"font-medium mb-1",children:"Smart Matching"}),u.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered partner suggestions"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx(pg,{className:"w-6 h-6 text-blue-600 mb-2"}),u.jsx("h3",{className:"font-medium mb-1",children:"Easy Scheduling"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Set up follow-up meetings"})]})]}),t?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Finding your match..."}),u.jsx("p",{className:"text-gray-600",children:"We're looking for the perfect partner based on your preferences"})]}):u.jsx(s6,{onSubmit:a})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"How it works"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:"1"}),u.jsx("h3",{className:"font-medium",children:"Set Your Preferences"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Tell us what you're offering and what you're looking for"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:"2"}),u.jsx("h3",{className:"font-medium",children:"Get Matched"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Our AI finds someone with complementary needs"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:"3"}),u.jsx("h3",{className:"font-medium",children:"Start Chatting"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Connect in a time-boxed, focused session"})]})]})]})]})})}function o6(){const[t,e]=j.useState(!1);return u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[u.jsx(U1,{className:"w-5 h-5"}),"Filters",u.jsx(VR,{className:"w-4 h-4"})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg p-4 z-10",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Type"}),u.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"All Types"}),u.jsx("option",{value:"saas",children:"SaaS"}),u.jsx("option",{value:"ecommerce",children:"E-commerce"}),u.jsx("option",{value:"marketplace",children:"Marketplace"}),u.jsx("option",{value:"content",children:"Content"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Range"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Min",className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("input",{type:"number",placeholder:"Max",className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),u.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"All Locations"}),u.jsx("option",{value:"us",children:"United States"}),u.jsx("option",{value:"eu",children:"Europe"}),u.jsx("option",{value:"asia",children:"Asia"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metrics"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"rounded text-blue-600"}),u.jsx("span",{className:"ml-2 text-sm",children:"Profitable"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"rounded text-blue-600"}),u.jsx("span",{className:"ml-2 text-sm",children:"Growing Revenue"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",className:"rounded text-blue-600"}),u.jsx("span",{className:"ml-2 text-sm",children:"Verified Metrics"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsx("button",{onClick:()=>e(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-700",children:"Cancel"}),u.jsx("button",{className:"gradient-btn",children:"Apply Filters"})]})]})})]})}function l6({listing:t}){return u.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:t.title}),u.jsxs("p",{className:"text-sm text-gray-500",children:[t.type," • ",t.industry]})]}),t.verified&&u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Verified"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(xs,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Price"})]}),u.jsxs("p",{className:"font-semibold",children:["$",(t.price/1e6).toFixed(1),"M"]})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(yg,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Growth"})]}),u.jsxs("p",{className:"font-semibold",children:["+",t.metrics.growth,"%"]})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(Fr,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Customers"})]}),u.jsx("p",{className:"font-semibold",children:t.metrics.customers.toLocaleString()})]}),u.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[u.jsx(OR,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:t.metrics.mrr?"MRR":"Revenue"})]}),u.jsxs("p",{className:"font-semibold",children:["$",((t.metrics.mrr||t.metrics.revenue||0)/1e3).toFixed(1),"K"]})]})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.description}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[u.jsx("span",{className:"text-sm text-gray-500",children:t.location}),u.jsxs("button",{className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:["View Details ",u.jsx(zd,{className:"w-4 h-4"})]})]})]})})}const u6=[{id:1,title:"SaaS Analytics Platform",type:"SaaS",price:25e5,metrics:{mrr:85e3,growth:15,customers:250,arpu:340,margin:75,ltv:12e3,cac:1500,churnRate:2.5},description:"B2B analytics platform with strong growth and high customer retention.",location:"United States",industry:"Technology",verified:!0,documents:[{name:"Financial Statements",type:"pdf"},{name:"Growth Metrics",type:"xlsx"},{name:"Customer Analysis",type:"pdf"}]},{id:2,title:"E-commerce Fashion Brand",type:"E-commerce",price:18e5,metrics:{revenue:25e5,growth:25,customers:15e3,margin:65,aov:165,repeatRate:45,inventoryTurnover:8,marketingRoi:3.2},description:"Premium fashion brand with established market presence and loyal customer base.",location:"United Kingdom",industry:"Fashion",verified:!0,documents:[{name:"P&L Statement",type:"pdf"},{name:"Inventory Report",type:"xlsx"},{name:"Brand Guidelines",type:"pdf"}]}];function c6(){const t=Oa(),[e,n]=j.useState("buy"),[r,s]=j.useState("");return u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Marketplace"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Discover vetted businesses for acquisition"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>n("buy"),className:`px-6 py-2 rounded-lg font-medium ${e==="buy"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Buy"}),u.jsx("button",{onClick:()=>n("sell"),className:`px-6 py-2 rounded-lg font-medium ${e==="sell"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Sell"})]})]}),e==="buy"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:u.jsx(fl,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Active Listings"}),u.jsx("p",{className:"text-2xl font-semibold",children:"2,547"})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:u.jsx(xs,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),u.jsx("p",{className:"text-2xl font-semibold",children:"$2.1B"})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:u.jsx(Fr,{className:"w-6 h-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Verified Buyers"}),u.jsx("p",{className:"text-2xl font-semibold",children:"500K+"})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:u.jsx(yg,{className:"w-6 h-6 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Deal Time"}),u.jsx("p",{className:"text-2xl font-semibold",children:"90 Days"})]})]})})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(qd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search listings...",value:r,onChange:i=>s(i.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsx(o6,{})]})}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u6.map(i=>u.jsx(l6,{listing:i,onClick:()=>t(`/marketplace/listing/${i.id}`)},i.id))})]}):u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"List Your Business"}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Get expert support to create high-quality listings and connect with over 500,000 verified buyers. Our platform simplifies negotiations and ensures safe transactions."}),u.jsxs("button",{className:"gradient-btn inline-flex items-center gap-2",children:["Start Listing ",u.jsx(zd,{className:"w-5 h-5"})]})]})]})}function d6(){const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[a,o]=j.useState([{role:"assistant",content:"Hi! I'm DealFlow GPT. How can I help you with your deal today?"}]),[c,d]=j.useState(""),[f,m]=j.useState(!1);j.useEffect(()=>{const y=()=>{i(window.innerWidth<640)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const p=async()=>{if(!c.trim()||f)return;const y=c.trim();d(""),o(E=>[...E,{role:"user",content:y}]),m(!0);try{const E=await Tg(y);o(N=>[...N,{role:"assistant",content:E}])}catch(E){console.error("Error sending message:",E),o(N=>[...N,{role:"assistant",content:"I apologize, but I encountered an error. Please try again."}])}finally{m(!1)}};return t?u.jsxs("div",{className:`fixed z-50 bg-white shadow-xl transition-all duration-200
        ${s?"inset-0 m-4 rounded-lg":n?"bottom-6 right-6 w-72 h-14 rounded-lg":"bottom-6 right-6 w-96 h-[600px] rounded-lg"}`,children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:u.jsx(ui,{className:"w-5 h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:"DealFlow GPT"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini AI"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[!s&&u.jsx("button",{onClick:()=>r(!n),className:"p-1 text-gray-500 hover:text-gray-700",children:n?u.jsx(QR,{className:"w-4 h-4"}):u.jsx(XR,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>e(!1),className:"p-1 text-gray-500 hover:text-gray-700",children:u.jsx(K1,{className:"w-4 h-4"})})]})]}),!n&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`flex-1 p-4 overflow-y-auto ${s?"h-[calc(100vh-12rem)]":"h-[calc(100%-8rem)]"}`,children:u.jsxs("div",{className:"space-y-4",children:[a.map((y,E)=>u.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${y.role==="user"?"bg-blue-600 text-white":"bg-gray-100"}`,children:u.jsx("p",{className:"text-sm",children:y.content})})},E)),f&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[u.jsx("div",{className:"animate-pulse",children:"●"}),u.jsx("div",{className:"animate-pulse animation-delay-200",children:"●"}),u.jsx("div",{className:"animate-pulse animation-delay-400",children:"●"})]})]})}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),onKeyPress:y=>y.key==="Enter"&&p(),placeholder:"Ask anything about your deal...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:p,disabled:f,className:"gradient-btn whitespace-nowrap",children:"Send"})]})})]})]}):u.jsx("button",{onClick:()=>e(!0),className:`fixed bottom-6 right-6 w-12 h-12 sm:w-14 sm:h-14 bg-blue-600 rounded-full shadow-lg 
                   flex items-center justify-center text-white hover:bg-blue-700 transition-colors
                   z-50`,children:u.jsx(ui,{className:"w-5 h-5 sm:w-6 sm:h-6"})})}class h6 extends j.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null},this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){var e;return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:u.jsx(Wl,{className:"w-6 h-6 text-red-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Something went wrong"}),u.jsx("p",{className:"text-sm text-gray-500",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"})]})]}),u.jsxs("button",{onClick:this.handleRetry,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(sP,{className:"w-5 h-5"}),"Try Again"]}),!1]})})}):this.props.children}}const f6="pk_test_bWFnbmV0aWMtZmxlYS02Ni5jbGVyay5hY2NvdW50cy5kZXYk";function m6(){return u.jsx(h6,{children:u.jsx(T1,{publishableKey:f6,children:u.jsxs(RR,{children:[u.jsx(LA,{children:u.jsxs(K0,{children:[u.jsx(Kt,{path:"/",element:u.jsx(SL,{})}),u.jsx(Kt,{path:"/sign-in/*",element:u.jsx(SA,{routing:"path",path:"/sign-in"})}),u.jsx(Kt,{path:"/sign-up/*",element:u.jsx(bA,{routing:"path",path:"/sign-up"})})]})}),u.jsxs(VA,{children:[u.jsx(TL,{children:u.jsxs(K0,{children:[u.jsx(Kt,{path:"/",element:u.jsx(jx,{})}),u.jsx(Kt,{path:"/wall",element:u.jsx(jx,{})}),u.jsx(Kt,{path:"/live-rooms",element:u.jsx(a6,{})}),u.jsx(Kt,{path:"/marketplace",element:u.jsx(c6,{})}),u.jsx(Kt,{path:"/dashboard",element:u.jsx(dP,{})}),u.jsx(Kt,{path:"/new-deal",element:u.jsx(mL,{})}),u.jsx(Kt,{path:"/deals",element:u.jsx(yL,{})}),u.jsx(Kt,{path:"/deals/:dealId",element:u.jsx(gL,{})}),u.jsx(Kt,{path:"/network",element:u.jsx(vL,{})}),u.jsx(Kt,{path:"/network/:userId",element:u.jsx(_L,{})}),u.jsx(Kt,{path:"/profile",element:u.jsx(J5,{})})]})}),u.jsx(d6,{})]})]})})})}GE(document.getElementById("root")).render(u.jsx(j.StrictMode,{children:u.jsx(m6,{})}));
